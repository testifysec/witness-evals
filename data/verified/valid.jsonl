{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"a9e9fbac8477061a2f545eb4d8956ea80f346a2837cf691e471593051d4a2942\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"a9e9fbac8477061a2f545eb4d8956ea80f346a2837cf691e471593051d4a2942\": {\n      \"keyid\": \"a9e9fbac8477061a2f545eb4d8956ea80f346a2837cf691e471593051d4a2942\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTBETDA3V1FCUEpRNjNLSHh4WW5Pam5TYUpsYzU2YVJmOVZyZ1lmc2dFbms9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"e93242a82ba9a3f9a5413dc66fc28e8f831042df8cd92f3cfffe88125a2f274c\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"e93242a82ba9a3f9a5413dc66fc28e8f831042df8cd92f3cfffe88125a2f274c\": {\n      \"keyid\": \"e93242a82ba9a3f9a5413dc66fc28e8f831042df8cd92f3cfffe88125a2f274c\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUxLQStaaGlQYlVMa3VlaWt4N3NsMktidHNVMTd1aHFkRytJd1FXdHJzYUU9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"88bb522c28a9056cf7560062d562c7294e7f27d1988a965933ae426b6947aa32\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"88bb522c28a9056cf7560062d562c7294e7f27d1988a965933ae426b6947aa32\": {\n      \"keyid\": \"88bb522c28a9056cf7560062d562c7294e7f27d1988a965933ae426b6947aa32\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTNaVWRSOXdiS0ZBMHBxL2l4YzdnZ1VVQklGMTVJWWJLeHJuL0xaVTQxMW89Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"64ce7bbfab8e23bfbdff7220201d9571980efda6bcc48cc0a1c869ff1361dc29\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"64ce7bbfab8e23bfbdff7220201d9571980efda6bcc48cc0a1c869ff1361dc29\": {\n      \"keyid\": \"64ce7bbfab8e23bfbdff7220201d9571980efda6bcc48cc0a1c869ff1361dc29\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWJKY0FwbnlReU5BNWczU29pMDBzZC9HMnphM0hoeDZRR2pHdDJKSUE5Mlk9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"6e10536cad02cde710ec3e885d62aecf9b3ac358db4e85c26816ea21c203fe2c\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"6e10536cad02cde710ec3e885d62aecf9b3ac358db4e85c26816ea21c203fe2c\": {\n      \"keyid\": \"6e10536cad02cde710ec3e885d62aecf9b3ac358db4e85c26816ea21c203fe2c\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXBFZTFWRkt2V1cxNENHMS9MVXRDdGJVNEhOQ3RTUFVjdXRySFlrQW5Qa0U9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"0717b3730ba0de783c7769a4a7e52e9f86c05de9b890201a57aa1172607080b0\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"0717b3730ba0de783c7769a4a7e52e9f86c05de9b890201a57aa1172607080b0\": {\n      \"keyid\": \"0717b3730ba0de783c7769a4a7e52e9f86c05de9b890201a57aa1172607080b0\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUxSMjREcFdMTmM5a1d4R3dxcjVkN09Ib1N1em85S1ArMmdxT1FzNGhMNlk9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"243a23788e9d98ca0456534ee115e6785612b413427a8597e0b6d05e17c7fd22\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"243a23788e9d98ca0456534ee115e6785612b413427a8597e0b6d05e17c7fd22\": {\n      \"keyid\": \"243a23788e9d98ca0456534ee115e6785612b413427a8597e0b6d05e17c7fd22\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXZmdFpNT3FNaS9sRG9DSyt5d05xZzhqcCtjZzV1b0xuOVNYcFc4akI0enc9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"6fe858a05fbd857505cfde89f05a31f56841c43a0ef665abb456efcc297e8ce3\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"6fe858a05fbd857505cfde89f05a31f56841c43a0ef665abb456efcc297e8ce3\": {\n      \"keyid\": \"6fe858a05fbd857505cfde89f05a31f56841c43a0ef665abb456efcc297e8ce3\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWhQVWNRMkNPeDlhdVVUUHIyem1IZkhIUldzb2hFdmVKK002ZTh4RThVZE09Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"210c7195eae251c0431c800da008489b70723fe22878769ed6573c9f4aab2d68\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"210c7195eae251c0431c800da008489b70723fe22878769ed6573c9f4aab2d68\": {\n      \"keyid\": \"210c7195eae251c0431c800da008489b70723fe22878769ed6573c9f4aab2d68\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQU1xZ21oUjZHR2M1TGJpcXBWWHVIejIyR2ZRYkI4d0N1R3cxc0hhUjUrMkU9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"de711a36204f5fabe54846b81c758a50e9b5354010aac8d9d5adb0396b30c323\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"de711a36204f5fabe54846b81c758a50e9b5354010aac8d9d5adb0396b30c323\": {\n      \"keyid\": \"de711a36204f5fabe54846b81c758a50e9b5354010aac8d9d5adb0396b30c323\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTAyYWhJTndrUjQ1NUVadHNNWEQ5d1lwb0ZxTzAzbS82S0ZwQ3NyVlQzbW89Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"ab36bdd9dd39c7b78a4e728725ab5c0aeb6da5ffc0afe1b02202b876306f1227\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"ab36bdd9dd39c7b78a4e728725ab5c0aeb6da5ffc0afe1b02202b876306f1227\": {\n      \"keyid\": \"ab36bdd9dd39c7b78a4e728725ab5c0aeb6da5ffc0afe1b02202b876306f1227\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVp5RVNuam5GQTZqU0JxOUpCcWx0dUJxZVJXVVZNb1AxNEoyUlNuY2tJZFU9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"f9047c88967fc0f9c0429a85476e8f5d546a71a5d5e33ef6df6103abedefcce2\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"f9047c88967fc0f9c0429a85476e8f5d546a71a5d5e33ef6df6103abedefcce2\": {\n      \"keyid\": \"f9047c88967fc0f9c0429a85476e8f5d546a71a5d5e33ef6df6103abedefcce2\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVpoN3NJM3N0QU1uYTd6WjgxSVNwcFFXTkZxMmZRK2R3QkV6cVNDdFpBR289Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"c197b8bde86a8cc0b8fd9223fd39e7dc1239551f943f1b6f9242515766a97bed\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"c197b8bde86a8cc0b8fd9223fd39e7dc1239551f943f1b6f9242515766a97bed\": {\n      \"keyid\": \"c197b8bde86a8cc0b8fd9223fd39e7dc1239551f943f1b6f9242515766a97bed\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUZIU21LWUlMU3gwTjhGaUtlU1FWM0ljd1JDOVhNY2NPc1VBMTIvZmM4bWc9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"6a528a173fa79d505e1de100282437cfd27839ed435613374c67387f4ac2d31f\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"6a528a173fa79d505e1de100282437cfd27839ed435613374c67387f4ac2d31f\": {\n      \"keyid\": \"6a528a173fa79d505e1de100282437cfd27839ed435613374c67387f4ac2d31f\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTBMb3lPaXk2R0VPVWhPZHB2WFQ1Qm5qc3R5VnVranJEWEZGTDBqdjljbjQ9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"33ed03316fbc7e3d0b7a2fcf49311831cff35ea1e9cc9289e7f665aae0930180\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"33ed03316fbc7e3d0b7a2fcf49311831cff35ea1e9cc9289e7f665aae0930180\": {\n      \"keyid\": \"33ed03316fbc7e3d0b7a2fcf49311831cff35ea1e9cc9289e7f665aae0930180\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUdrOWxVL3hSenRZa2d4VEYyZnhrZGtwMjlSK2RsZXpYTHJBVzQ4cWUvM3M9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"404e352115fa20a94c221ddb5751172a8503cc3479118049f189ffc575f9dc72\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"404e352115fa20a94c221ddb5751172a8503cc3479118049f189ffc575f9dc72\": {\n      \"keyid\": \"404e352115fa20a94c221ddb5751172a8503cc3479118049f189ffc575f9dc72\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWdPMnUya0lFVEF4Qm1ncWFhMGJyaVRld0dOUE1MTDE5L013Q3Z1QmxORTg9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"dbfadd506740e56d9a46dbe30dc246e96edb56afd6ec786b0ab8095bafa3e8cb\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"dbfadd506740e56d9a46dbe30dc246e96edb56afd6ec786b0ab8095bafa3e8cb\": {\n      \"keyid\": \"dbfadd506740e56d9a46dbe30dc246e96edb56afd6ec786b0ab8095bafa3e8cb\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWpzRDhiYy9PcHR1cWdkQ2twZ2g1UWNoTXFESUhXM0ZzakZtWW1sMGFtT2c9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"fc529d06c0713e82376c77fb197395d882bd29bb4c8f532e93ee0140468ddb96\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"fc529d06c0713e82376c77fb197395d882bd29bb4c8f532e93ee0140468ddb96\": {\n      \"keyid\": \"fc529d06c0713e82376c77fb197395d882bd29bb4c8f532e93ee0140468ddb96\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQU1lMUJFeTlsanV0enovQ0ZSRmRZSzBmKzRBOHAxYVJ3Y2x5SHZZREZoQzQ9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"844e744b6042cf38122dfc680e2a52733044304085312f5c17ce563314ba464d\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"844e744b6042cf38122dfc680e2a52733044304085312f5c17ce563314ba464d\": {\n      \"keyid\": \"844e744b6042cf38122dfc680e2a52733044304085312f5c17ce563314ba464d\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUJmOGNmemh3RFcrUVV1akpKNkN2TXdtL3JFdnVqQS96VHNnNzVVc1ZqTFE9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"9eb5b664a3d8e2c8ffb6e6c1dcf1abe830fb2eafd307d23fc0de65b63f8254ce\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"9eb5b664a3d8e2c8ffb6e6c1dcf1abe830fb2eafd307d23fc0de65b63f8254ce\": {\n      \"keyid\": \"9eb5b664a3d8e2c8ffb6e6c1dcf1abe830fb2eafd307d23fc0de65b63f8254ce\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWl5OUxwQ2RZcmJtN3N2NFB4WmdrUHowUEt2dG8rSVdhZTBMVlc0YzFJUjQ9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"d48259bdc860439e10f7b575536ec5762bd8857b3a9a1a03c9f0f0441ed986a3\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"d48259bdc860439e10f7b575536ec5762bd8857b3a9a1a03c9f0f0441ed986a3\": {\n      \"keyid\": \"d48259bdc860439e10f7b575536ec5762bd8857b3a9a1a03c9f0f0441ed986a3\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWp1UTAvVU5kajU5NS9vYU4xUVl3VkcwMTM2SXdxUHhFc2U5QlVObEw4QTg9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"149651fe988384caf4567a1ff31f2559164719de5d018b522fd653f3b5155007\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"149651fe988384caf4567a1ff31f2559164719de5d018b522fd653f3b5155007\": {\n      \"keyid\": \"149651fe988384caf4567a1ff31f2559164719de5d018b522fd653f3b5155007\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVUyelpjY3piZm1mNlBxQldVVXllalJCNkZabW1pYk5yNVl4TGFkdnBFanc9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"05ccaccfd47dd0dd353ef0359fc7240349cd6a13e9caba09e82144fbd13e89e5\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"05ccaccfd47dd0dd353ef0359fc7240349cd6a13e9caba09e82144fbd13e89e5\": {\n      \"keyid\": \"05ccaccfd47dd0dd353ef0359fc7240349cd6a13e9caba09e82144fbd13e89e5\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWsybno1cmNYS3NXOHY5bG9pZHRxMHljK3NtMW1OM1p5N1o3LzRzYitNblk9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"3dff6c5ba9cf370511f4d3fe70a732332b994217c45de47c6509238540a11b46\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"3dff6c5ba9cf370511f4d3fe70a732332b994217c45de47c6509238540a11b46\": {\n      \"keyid\": \"3dff6c5ba9cf370511f4d3fe70a732332b994217c45de47c6509238540a11b46\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUFBSDgzSHAxSUZna0c5YmQ5U3NDNEFmZWpzencrTEdvaTArSzUwbmpRZzQ9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"3e9fa72e9863a97a7ecf4cb1eecabd2e3254ac3f6dc904971e3f6fbf65ad1f42\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"3e9fa72e9863a97a7ecf4cb1eecabd2e3254ac3f6dc904971e3f6fbf65ad1f42\": {\n      \"keyid\": \"3e9fa72e9863a97a7ecf4cb1eecabd2e3254ac3f6dc904971e3f6fbf65ad1f42\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWE4QktUS25vbVpoRTVNYm9qaGFEWjZLNitWSG55ZC9kbjhRSU4rcnQzWUU9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"51b58e48a60406cafe0ee83f88969bcb711d4672d857b3e0cf5f085655888fc8\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"51b58e48a60406cafe0ee83f88969bcb711d4672d857b3e0cf5f085655888fc8\": {\n      \"keyid\": \"51b58e48a60406cafe0ee83f88969bcb711d4672d857b3e0cf5f085655888fc8\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVBUc1VkK2FTamJyOGNDc3hVekU1ZVJjZmRESkd4YUl6SkFucnp6cE0wbUk9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"273737f6c881de6a9f495a8293721ef03d259c7224651886234fdcb10963530a\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"273737f6c881de6a9f495a8293721ef03d259c7224651886234fdcb10963530a\": {\n      \"keyid\": \"273737f6c881de6a9f495a8293721ef03d259c7224651886234fdcb10963530a\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXFJVlBCdVJzWGdOL3RrQTFFZTVVWUNDSWc2Y2V5ci9Bd2M1S0ZiTWxaQ1U9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"dbf3bb3fba40c831621ea4047a73392daa72fca13107718e271b4a0bd63d8cdd\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"dbf3bb3fba40c831621ea4047a73392daa72fca13107718e271b4a0bd63d8cdd\": {\n      \"keyid\": \"dbf3bb3fba40c831621ea4047a73392daa72fca13107718e271b4a0bd63d8cdd\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXV5cCt3d0wvWDNqa1lxeDQ1clRvVGRQLzhiT3JZekNCdVg2SXFtVlU5L3c9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"976ab42d1397c2fd0d499b5c1c91ceeaa358245f8e01703ec0492617f9cb8b92\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"976ab42d1397c2fd0d499b5c1c91ceeaa358245f8e01703ec0492617f9cb8b92\": {\n      \"keyid\": \"976ab42d1397c2fd0d499b5c1c91ceeaa358245f8e01703ec0492617f9cb8b92\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUd0bjA3ZERkdUlmNFNPb25LczFBNkN4WGRLNWlkMnJZZC9LTkdJTTRKQ1E9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"63bbeb7bf3511d8686dabc2c0ae438e05e6a5e61a1de1c89b361a2762da46ab2\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"63bbeb7bf3511d8686dabc2c0ae438e05e6a5e61a1de1c89b361a2762da46ab2\": {\n      \"keyid\": \"63bbeb7bf3511d8686dabc2c0ae438e05e6a5e61a1de1c89b361a2762da46ab2\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUUvZEp2YUJlbWdZd3B5bDRJSnBGamZEc0NFMStKeG1ucktsVXdUbGRPMkU9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"c5d177da796ad4b1ec38cd7538deb9be1da4b32e529f60f11c007303866635b2\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"c5d177da796ad4b1ec38cd7538deb9be1da4b32e529f60f11c007303866635b2\": {\n      \"keyid\": \"c5d177da796ad4b1ec38cd7538deb9be1da4b32e529f60f11c007303866635b2\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQW9rWndBZlovYm5vc3FYWVE5L3YyeU9KSVI2ZWpVa2tsMmoxc3hYbnJiKzg9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"0caad645d39d76024270b9527b3cbf20b4b0c0a6a7d58172e4ba74fc9468fcce\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"0caad645d39d76024270b9527b3cbf20b4b0c0a6a7d58172e4ba74fc9468fcce\": {\n      \"keyid\": \"0caad645d39d76024270b9527b3cbf20b4b0c0a6a7d58172e4ba74fc9468fcce\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVpSV2FsMWpxZVJUYTFPSFZDRHBVSUFJbG4xR29MaExUZkxMVUxsWjR6NzQ9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"e9b6e793715db557d43e6af15582d0f0d38ee70b03990358f84c31bc00f33528\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"e9b6e793715db557d43e6af15582d0f0d38ee70b03990358f84c31bc00f33528\": {\n      \"keyid\": \"e9b6e793715db557d43e6af15582d0f0d38ee70b03990358f84c31bc00f33528\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWZSVTFMck16QksyUlQ5MHZ0RUJHeE1CQ1ozblFKa3dpcElCVmNMNGE2a0E9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"ce6feda66886264305f4cfa60eae21882a48702f923d8dfa0adcc8fdf3d3b0bc\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"ce6feda66886264305f4cfa60eae21882a48702f923d8dfa0adcc8fdf3d3b0bc\": {\n      \"keyid\": \"ce6feda66886264305f4cfa60eae21882a48702f923d8dfa0adcc8fdf3d3b0bc\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQS9TRHNlOVlOT2Zyb3dvOHgrQWpBeHJXL01xQzFJOHdiSWVpVXNERUE4U0E9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"0a03ccf9cd8fd09c6198266e7842fa51b89dda44df7c625d9b5488781d808c02\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"0a03ccf9cd8fd09c6198266e7842fa51b89dda44df7c625d9b5488781d808c02\": {\n      \"keyid\": \"0a03ccf9cd8fd09c6198266e7842fa51b89dda44df7c625d9b5488781d808c02\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXhhU1l2WnNHU0N1N3dvVlBFSFRLMWdhL0NvejBrT0psMXg1dDJCVklBZlk9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"d9a2e4fb6ff92ec8a24930735bc94cb251ce158855e832fd25a66c26c794878c\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"d9a2e4fb6ff92ec8a24930735bc94cb251ce158855e832fd25a66c26c794878c\": {\n      \"keyid\": \"d9a2e4fb6ff92ec8a24930735bc94cb251ce158855e832fd25a66c26c794878c\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUZYMkpSSCt0VGZEbkJCWVNGQ1FFMTBPWFloMHhXd3RxN2ZsUkdSUlNwL289Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"294f250964c11afe8836559097071a915d93509c235efd68015239151113b10f\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"294f250964c11afe8836559097071a915d93509c235efd68015239151113b10f\": {\n      \"keyid\": \"294f250964c11afe8836559097071a915d93509c235efd68015239151113b10f\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTFNUUt1RDllRzQybkRDQTUzNXh4bkZaMHBUbWNFdnhzUjBPOXVrRUtGazA9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"92c5c12c5c3b58f157c7bb59a7a813b1fc1146dc83c37b5e5868bb8466fe4c86\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"92c5c12c5c3b58f157c7bb59a7a813b1fc1146dc83c37b5e5868bb8466fe4c86\": {\n      \"keyid\": \"92c5c12c5c3b58f157c7bb59a7a813b1fc1146dc83c37b5e5868bb8466fe4c86\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWVZMldIOG5uQlhZUlc4T1dPS0pyQy9sa1NPK2tSN1h6b3NtSi9ha1hjdWc9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"601a9a611c867aafa764a2bf1dcbb8b2afcfa72535bfbbc51a5868f43dd5919d\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"601a9a611c867aafa764a2bf1dcbb8b2afcfa72535bfbbc51a5868f43dd5919d\": {\n      \"keyid\": \"601a9a611c867aafa764a2bf1dcbb8b2afcfa72535bfbbc51a5868f43dd5919d\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQURSa24yS1ZoUGNReHVtcWU5VmNEMzdzVWlxb054bGFKQ2NPYVB3RnRubFk9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"4196258bbac109e39cd8fd173e1d88f92b44f41d583f009d1ee4ab89365c1f34\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"4196258bbac109e39cd8fd173e1d88f92b44f41d583f009d1ee4ab89365c1f34\": {\n      \"keyid\": \"4196258bbac109e39cd8fd173e1d88f92b44f41d583f009d1ee4ab89365c1f34\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWJsdWd0SmhOZFA1V01ISFVNeFAzMXBnT0FTSnZpaTdMeXp2akZwcDY5Szg9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"b53d1720c6404c15859e688b0326a3e496ce61490e417cb9ac48f01d46fc25fb\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"b53d1720c6404c15859e688b0326a3e496ce61490e417cb9ac48f01d46fc25fb\": {\n      \"keyid\": \"b53d1720c6404c15859e688b0326a3e496ce61490e417cb9ac48f01d46fc25fb\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWQzYTFyKzRuQ1lkRE96SFpDU3dhUkZIaWZDN0ZKakNrMU9zck0rMlExcWM9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"684a0f273d886f7b09daa22f242ace34eebbae84bad6fd0f1815119b24519e24\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"684a0f273d886f7b09daa22f242ace34eebbae84bad6fd0f1815119b24519e24\": {\n      \"keyid\": \"684a0f273d886f7b09daa22f242ace34eebbae84bad6fd0f1815119b24519e24\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQS9mQmRtWjJsbk5ESjZsVytKcDVBc0VVdW05N0t2NXNvUG1ZbkM1UlREbGM9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"0714f3b7076cf4feba868eeaffb77285d41252476a5cc260f97d69f2b153246c\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"0714f3b7076cf4feba868eeaffb77285d41252476a5cc260f97d69f2b153246c\": {\n      \"keyid\": \"0714f3b7076cf4feba868eeaffb77285d41252476a5cc260f97d69f2b153246c\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTNOQzJuZU50NWorcmJhWTluU29LbUtuMHZPdDNMdG9oczZibUFKUlgxczQ9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"c2cf1669649732b329ae4c96e6e49b2d6a49e0ef48ceb9ec085d871e380e11f9\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"c2cf1669649732b329ae4c96e6e49b2d6a49e0ef48ceb9ec085d871e380e11f9\": {\n      \"keyid\": \"c2cf1669649732b329ae4c96e6e49b2d6a49e0ef48ceb9ec085d871e380e11f9\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUUwMjFidmJZVU9WeEQ4ckRLdzNMRmVJcWhUajE3YitEN1pOWngvZ01JTFU9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"d1369ca7222b14188acea0448df3e6f682520e5190de9f02639044bacdef7a14\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"d1369ca7222b14188acea0448df3e6f682520e5190de9f02639044bacdef7a14\": {\n      \"keyid\": \"d1369ca7222b14188acea0448df3e6f682520e5190de9f02639044bacdef7a14\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUtGTlVxZVhja2JTNVZFSkhJcUtTNDRUS2xHR0o5anNmRkx1UktsMzFxYkE9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"00da68dd8dd1a250deaaea349f91ed36797ba16fa01adbf7a167bc1d3a94adb3\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"00da68dd8dd1a250deaaea349f91ed36797ba16fa01adbf7a167bc1d3a94adb3\": {\n      \"keyid\": \"00da68dd8dd1a250deaaea349f91ed36797ba16fa01adbf7a167bc1d3a94adb3\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVlyU0EyZW8vZDZyZ0tCeXVMSm5NUUU5ZWhQeVhGL2lRQjNjVW5pWG0vdWc9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"111a7a7c2000112212aeb25cce45eaef343d4b4fcfa26f685a87f8c4b7eeef66\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"111a7a7c2000112212aeb25cce45eaef343d4b4fcfa26f685a87f8c4b7eeef66\": {\n      \"keyid\": \"111a7a7c2000112212aeb25cce45eaef343d4b4fcfa26f685a87f8c4b7eeef66\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWZsT1RnTUxQS29vdW96VnV4empGbWdDRXRKYkhMSW5FL1lRU2szMHJSams9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"bee2b67bce537aad6f9b844065c9a28592ec7813e32049a74fc482f3daf35e57\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"bee2b67bce537aad6f9b844065c9a28592ec7813e32049a74fc482f3daf35e57\": {\n      \"keyid\": \"bee2b67bce537aad6f9b844065c9a28592ec7813e32049a74fc482f3daf35e57\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVltR2VPajczRUs4V0E3UjZaQzlaL1BScUErWklyeksvdDJBVFlVR1gyZ2s9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"6f908b3fff7c888e7924cfffaa49ed177fb943a6a2750549bdc064bfa269285c\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"6f908b3fff7c888e7924cfffaa49ed177fb943a6a2750549bdc064bfa269285c\": {\n      \"keyid\": \"6f908b3fff7c888e7924cfffaa49ed177fb943a6a2750549bdc064bfa269285c\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQU5ncTB4SDJFenRHQk5jSFFwOHpScFM0bXN5VkNLZ2VuQllVYWZ4VHpFZm89Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"f0bea3636d260b3c723c1ce174166db061e58a34bffbe9db2eed0ffe024b840b\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"f0bea3636d260b3c723c1ce174166db061e58a34bffbe9db2eed0ffe024b840b\": {\n      \"keyid\": \"f0bea3636d260b3c723c1ce174166db061e58a34bffbe9db2eed0ffe024b840b\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVlvN2d0R3pLazVJUlNYa0lzc3dVZ0V4UkNEVDdKOVRsaGY2bGRkVEpwU2s9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"70f872950e52fb37e3e29e594d723c64a254e792984bd8ab57192349d27938d8\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"70f872950e52fb37e3e29e594d723c64a254e792984bd8ab57192349d27938d8\": {\n      \"keyid\": \"70f872950e52fb37e3e29e594d723c64a254e792984bd8ab57192349d27938d8\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXVTbElXU3YzRTdpNzhDUHZuenZ4QjF2Y0V2NDkwU29ORXRzTkgvNHZESm89Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"6109fa1c247ee120ac3e7520ae3faab1afc0749a25fdd47658dd6716acb140c2\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"6109fa1c247ee120ac3e7520ae3faab1afc0749a25fdd47658dd6716acb140c2\": {\n      \"keyid\": \"6109fa1c247ee120ac3e7520ae3faab1afc0749a25fdd47658dd6716acb140c2\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUpMQ20zZ3VjYlJWWXVoS0N0dkVYbU5OL01SMUpLbmFyNTQ3eGR2NG95Vms9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"f868ffd05d674eb05f92eca5ee24c27c566bfe7d55efe9a660ea3f9342679cad\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"f868ffd05d674eb05f92eca5ee24c27c566bfe7d55efe9a660ea3f9342679cad\": {\n      \"keyid\": \"f868ffd05d674eb05f92eca5ee24c27c566bfe7d55efe9a660ea3f9342679cad\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQU1aUE05OThFQ29Yd200NUVhOVhqL2hkWGZ6R1UwRXlCdEFncXh2M3VGbmM9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"7a93cff1939de2fb66d63c4cad607c36e56aba02ad8a9c9e921b02b653b71229\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"7a93cff1939de2fb66d63c4cad607c36e56aba02ad8a9c9e921b02b653b71229\": {\n      \"keyid\": \"7a93cff1939de2fb66d63c4cad607c36e56aba02ad8a9c9e921b02b653b71229\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTVPVTlDTVg2TzZNdWpNSjBFV3N5NkxMTyttMWFrTk0rNndkODdWNno4SWM9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"957482cc2c51820a7697a84148460235f0aa535bc848355d9a43b56e68ce3394\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"957482cc2c51820a7697a84148460235f0aa535bc848355d9a43b56e68ce3394\": {\n      \"keyid\": \"957482cc2c51820a7697a84148460235f0aa535bc848355d9a43b56e68ce3394\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQU5ZVS8xYkM1SUFjeWVsSWZxWGN2TG1VUlZabEhhQTBWaXV3aVJjVmVwdTg9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"0b84a638bdb220078b0b58ba9b95707d135c0cc966d2a3a794f6f4050632b809\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"0b84a638bdb220078b0b58ba9b95707d135c0cc966d2a3a794f6f4050632b809\": {\n      \"keyid\": \"0b84a638bdb220078b0b58ba9b95707d135c0cc966d2a3a794f6f4050632b809\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTViVVoxa2JXN2ozc294TmpyekNYeFpUbmxqZWIrWVVKbmdrU1lEUndUKzA9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"4b154d1b1ec7e5f3fbe40e362f304dbfe7dd992ae6203d5af298c2b1d9fbd018\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"4b154d1b1ec7e5f3fbe40e362f304dbfe7dd992ae6203d5af298c2b1d9fbd018\": {\n      \"keyid\": \"4b154d1b1ec7e5f3fbe40e362f304dbfe7dd992ae6203d5af298c2b1d9fbd018\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXF1N0NobGp0RDVIbXYzckdOK0JUamFqMk5ZTzkyUVJLd2Z1cGNUN1pjOGc9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"b264f468a1e37505c55db71458cac8370b57fd1271ffb058a52dbb972d0e0ddc\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"b264f468a1e37505c55db71458cac8370b57fd1271ffb058a52dbb972d0e0ddc\": {\n      \"keyid\": \"b264f468a1e37505c55db71458cac8370b57fd1271ffb058a52dbb972d0e0ddc\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWxNZDhoa1BUQVlaeStTK290aDBlYTBVbThyT0VtVFZOZ3VKNlJTQUlCUVU9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"6eb4ff5e83c3c94deaec482288d97a1df0484400e6e8247ccebd2161f0e48191\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"6eb4ff5e83c3c94deaec482288d97a1df0484400e6e8247ccebd2161f0e48191\": {\n      \"keyid\": \"6eb4ff5e83c3c94deaec482288d97a1df0484400e6e8247ccebd2161f0e48191\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVEwWmEvUkkvUkd2MjllK01oeXduL1IvbjJjN0UzWTRoMDlVTnR0TkdEVnc9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"a99207d094a925a39cc74708f5e5705b7d320c3edf224afbc07e5552e16fd2a0\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"a99207d094a925a39cc74708f5e5705b7d320c3edf224afbc07e5552e16fd2a0\": {\n      \"keyid\": \"a99207d094a925a39cc74708f5e5705b7d320c3edf224afbc07e5552e16fd2a0\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTZBRFFLY1NhZEo3WmJwaDZFOFJLdHlabUF0SEtVUU45WXNoWkJkaks0NEU9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"13a0110f4fa3484c8ae7133dcdb2dcf642c6f080e0a22260b0456c3c14f3fae7\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"13a0110f4fa3484c8ae7133dcdb2dcf642c6f080e0a22260b0456c3c14f3fae7\": {\n      \"keyid\": \"13a0110f4fa3484c8ae7133dcdb2dcf642c6f080e0a22260b0456c3c14f3fae7\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXpDZERmT1lEa1p5Yml1YVJmcS9ta1U5Z1RiMXhuNTlVNGsxWVZ0Uno0V2c9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"bfd325b1f92dee2e5cd7edb8ca1a3a77eeee9979605417305439feaeb89a7ff6\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"bfd325b1f92dee2e5cd7edb8ca1a3a77eeee9979605417305439feaeb89a7ff6\": {\n      \"keyid\": \"bfd325b1f92dee2e5cd7edb8ca1a3a77eeee9979605417305439feaeb89a7ff6\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWliMnpiZzhaNjJPeHkrQXErWFFVWWZMQzAyUUFmTHpIaU1HQmxLbDYvSnc9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"c283605c1394ff18abc5726ad8ed3a962cb622de7333e95aa8f7aa4435d35b6b\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"c283605c1394ff18abc5726ad8ed3a962cb622de7333e95aa8f7aa4435d35b6b\": {\n      \"keyid\": \"c283605c1394ff18abc5726ad8ed3a962cb622de7333e95aa8f7aa4435d35b6b\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTFRWUg2YzZPV25tTUEzSmQ3UE0yTGdDa21UY2tzaU8reWg2bnpjQkQ3c1U9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"86d3042961fa78eef262b09dc75205a2c50e09fda2d2efc24d6392eefba666f4\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"86d3042961fa78eef262b09dc75205a2c50e09fda2d2efc24d6392eefba666f4\": {\n      \"keyid\": \"86d3042961fa78eef262b09dc75205a2c50e09fda2d2efc24d6392eefba666f4\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVJxQUhOSUdjTzl4TVg2a2wxZmUrd3JVTTdDdURuMUMwckFVeG1vOWRIVGc9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"9cad31eeb163416068e7d544e9016e70a8b1fa89e9ba5fc6b69a45e9e75a9474\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"9cad31eeb163416068e7d544e9016e70a8b1fa89e9ba5fc6b69a45e9e75a9474\": {\n      \"keyid\": \"9cad31eeb163416068e7d544e9016e70a8b1fa89e9ba5fc6b69a45e9e75a9474\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUNBQWNEVUNjMnNkT0hXRDgwNi90SUhjZU5OR0V4ZmwrYXlFUjdtRGlpZE09Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"e9410aea5dca810d7b760df5e78dcf02cd3f6bee41ae14d8354bcc249ecd438d\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"e9410aea5dca810d7b760df5e78dcf02cd3f6bee41ae14d8354bcc249ecd438d\": {\n      \"keyid\": \"e9410aea5dca810d7b760df5e78dcf02cd3f6bee41ae14d8354bcc249ecd438d\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWdoVEFRUkhxSUdFWGNzY21hNU9taERmZ3JBMHBiRHFvOHFGbEZBOHZadm89Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"50445b458097bb6c8afee0d3d970020b1a0d4045892cdedf071318fe036aea0c\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"50445b458097bb6c8afee0d3d970020b1a0d4045892cdedf071318fe036aea0c\": {\n      \"keyid\": \"50445b458097bb6c8afee0d3d970020b1a0d4045892cdedf071318fe036aea0c\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQW5veENHc0NKT04zRzFzR2s2dWZnRWVabXFKOFFHSUVKWkhKdnZOZVNBVzg9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"837e4c271634c62365aa2d0f84c1abc20066e026bf0590f4fbf9e0a990ba1188\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"837e4c271634c62365aa2d0f84c1abc20066e026bf0590f4fbf9e0a990ba1188\": {\n      \"keyid\": \"837e4c271634c62365aa2d0f84c1abc20066e026bf0590f4fbf9e0a990ba1188\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXBVM0o1Q21SUkplblRLNFYxM1lxenVmQ1FMY3JFby9uaGVSRW9QYURJRHM9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"3a5ab8198f8fc2c196d3f6940cdd42db5327c06090ec6810067d8162b09cb49b\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"3a5ab8198f8fc2c196d3f6940cdd42db5327c06090ec6810067d8162b09cb49b\": {\n      \"keyid\": \"3a5ab8198f8fc2c196d3f6940cdd42db5327c06090ec6810067d8162b09cb49b\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXVGc3gxWGs2UEFCS2pWanRodkhvVHc4UVpkejM2ODJJbnNPNllPR1kzTnM9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"464ae7a961a073297a255181ad0daf0d70f4fd95cfdc38e640f22f860d2b5ab0\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"464ae7a961a073297a255181ad0daf0d70f4fd95cfdc38e640f22f860d2b5ab0\": {\n      \"keyid\": \"464ae7a961a073297a255181ad0daf0d70f4fd95cfdc38e640f22f860d2b5ab0\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWdlSUlrb3RxTTVYZzFKNklXRjFQNm5ZczdBUVlBeHFCdEF5T3BPTis5QkU9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"a97f53ec5e41e40422de34724c5fb30f83bd48e56442370b6a41ead85064dd67\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"a97f53ec5e41e40422de34724c5fb30f83bd48e56442370b6a41ead85064dd67\": {\n      \"keyid\": \"a97f53ec5e41e40422de34724c5fb30f83bd48e56442370b6a41ead85064dd67\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTNKZCszenBTSE1RYmdud3UyK1JCYy95VVdpRnpSUmFrQ0xuMmQ0RnRCMHM9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"0940a458a6b002379e38d9631edf3910a1fdb3a4c9d0204d16d68f866b9543f8\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"0940a458a6b002379e38d9631edf3910a1fdb3a4c9d0204d16d68f866b9543f8\": {\n      \"keyid\": \"0940a458a6b002379e38d9631edf3910a1fdb3a4c9d0204d16d68f866b9543f8\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXljQVBBQ1E5ZXludEZKUVdkeUNiMktHRGZTd1Jybm80RkdiWWozY0VFZnc9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"2ba15c182b96cb91a720434e32193e7b4e72c5738c4b02d1cc128bde43a4ef73\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"2ba15c182b96cb91a720434e32193e7b4e72c5738c4b02d1cc128bde43a4ef73\": {\n      \"keyid\": \"2ba15c182b96cb91a720434e32193e7b4e72c5738c4b02d1cc128bde43a4ef73\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUJYZXZnR29zVzBVQzVoakkrbkZUa2FhRDBhMGFLN1hVQ2d3NmFDREdMU2s9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"0650c4b0acc7dd2581e6f1d6f5900beb8a31a806209a500dfcc350159572db75\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"0650c4b0acc7dd2581e6f1d6f5900beb8a31a806209a500dfcc350159572db75\": {\n      \"keyid\": \"0650c4b0acc7dd2581e6f1d6f5900beb8a31a806209a500dfcc350159572db75\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQU5mSGZpWWd5ditNWHJ3N0orYmFyanNZU2FlMUo2QVREY0JXMm1oczVqRjg9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"8041e67baee9087ba11be97fb4d980103dbcd0be98a4716807e7d08c68ebc594\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"8041e67baee9087ba11be97fb4d980103dbcd0be98a4716807e7d08c68ebc594\": {\n      \"keyid\": \"8041e67baee9087ba11be97fb4d980103dbcd0be98a4716807e7d08c68ebc594\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTNwUWJoN3JrOENjb2hJVDN4STFUSk4vUFJJNE5ieVU5QnBlTldzeXdqK1k9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"d0f438be653551b5cd346ed2fd4227ab383be136fbbea66ac3dc0883d6a36a95\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"d0f438be653551b5cd346ed2fd4227ab383be136fbbea66ac3dc0883d6a36a95\": {\n      \"keyid\": \"d0f438be653551b5cd346ed2fd4227ab383be136fbbea66ac3dc0883d6a36a95\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVlQbXVIVlNTbjJwT2FVNVErYmNDeEdHRXVMSTlveEZaVkJVY1BEaTVCT2M9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"96f0d647974ad904af1073570e100ef7f8df47a78a0d6ad529c43d2f75b1613a\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"96f0d647974ad904af1073570e100ef7f8df47a78a0d6ad529c43d2f75b1613a\": {\n      \"keyid\": \"96f0d647974ad904af1073570e100ef7f8df47a78a0d6ad529c43d2f75b1613a\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWhSaDlkVWY1Z0FoZEpyZ3NKQ0RlK1B0dERkOTlXOUNtREFlcTd3K3NRTkU9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"b8646e0f15a89d25fed770a5831c03b902627fa2a49315c0b13fb8b7d7b04b1b\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"b8646e0f15a89d25fed770a5831c03b902627fa2a49315c0b13fb8b7d7b04b1b\": {\n      \"keyid\": \"b8646e0f15a89d25fed770a5831c03b902627fa2a49315c0b13fb8b7d7b04b1b\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTdhV2dTNDArS1JQT1M1S2djR01KS25qdElkcktpTnlETUhzYmgzMjNEMjg9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"f857272890cf99b7b921b5c61d35eb0df3ffc9f3d018c3a4afdc6d641f292238\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"f857272890cf99b7b921b5c61d35eb0df3ffc9f3d018c3a4afdc6d641f292238\": {\n      \"keyid\": \"f857272890cf99b7b921b5c61d35eb0df3ffc9f3d018c3a4afdc6d641f292238\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQThmS3RPeUlzSjQ4NWtCc2hhYm9YTVNYSUFnQW96TENUT3VqNS9uSldMekk9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"942df2dd69dd7e6b6130a3a14934f228fac52d89afa8ab4f228b396794ee3ca3\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"942df2dd69dd7e6b6130a3a14934f228fac52d89afa8ab4f228b396794ee3ca3\": {\n      \"keyid\": \"942df2dd69dd7e6b6130a3a14934f228fac52d89afa8ab4f228b396794ee3ca3\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXROQnR3dHFJTmhsQ010a05PaUlpdVpSdnd3RGtMR1F5Uldad3NDS2Y2TUk9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"495ec79a047d9dde94bb5f8b569da936e3ff43509b16aff9c4200b7e15385fb4\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"495ec79a047d9dde94bb5f8b569da936e3ff43509b16aff9c4200b7e15385fb4\": {\n      \"keyid\": \"495ec79a047d9dde94bb5f8b569da936e3ff43509b16aff9c4200b7e15385fb4\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTVyN21oK3BIZ3p2MVBja1YrbGhGdmdjTWdBLzA2WEZNSE1tU1I0NDNKSGM9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"bcf799523cb2a729e14b906084fbb3717a3d07f1d6191279653f8b4819548b51\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"bcf799523cb2a729e14b906084fbb3717a3d07f1d6191279653f8b4819548b51\": {\n      \"keyid\": \"bcf799523cb2a729e14b906084fbb3717a3d07f1d6191279653f8b4819548b51\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTVNRTUwQk8xVmV6bWpHMVRqU0tlVlZkVUZTNkJPOW9VaFRGVzlJQlJPTW89Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"605d6a665148684a980a1cebaeddf87619d9e4f2ae7e1efc47119af9fff50b9b\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"605d6a665148684a980a1cebaeddf87619d9e4f2ae7e1efc47119af9fff50b9b\": {\n      \"keyid\": \"605d6a665148684a980a1cebaeddf87619d9e4f2ae7e1efc47119af9fff50b9b\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQU81elhGZzNuYWtrTThtUndxQlQ5dldSQmQ2YlkzZGpZRUNZUHJTazlxaG89Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"9fad9238ab30c1c023c9713dabb11ecbcc488ab9d8ebd9a883872d382d771045\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"9fad9238ab30c1c023c9713dabb11ecbcc488ab9d8ebd9a883872d382d771045\": {\n      \"keyid\": \"9fad9238ab30c1c023c9713dabb11ecbcc488ab9d8ebd9a883872d382d771045\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVZ0ZkZ6NE1OTWNFQm02Z1NuK3duSDVLZzdFVnozVURrOTVqMFNwOXFUanc9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"194bbd9315658dbe277b9962d9fbfc0c614a4ed7c68c9556a24c890f21d54b88\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"194bbd9315658dbe277b9962d9fbfc0c614a4ed7c68c9556a24c890f21d54b88\": {\n      \"keyid\": \"194bbd9315658dbe277b9962d9fbfc0c614a4ed7c68c9556a24c890f21d54b88\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUhHeEVCZ1B4cUZWbTdFMTVqcjEyK01IQnI5c2ZhbGl4bWtuZWQxcG1xdlk9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"d86bce409d81d833143cc35b09e3687ba00d81f2fef8a5892c114e967249401a\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"d86bce409d81d833143cc35b09e3687ba00d81f2fef8a5892c114e967249401a\": {\n      \"keyid\": \"d86bce409d81d833143cc35b09e3687ba00d81f2fef8a5892c114e967249401a\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUFnRGpVcE9kVG9OY1pFQ0szK1I3RzNpb3l1WGJHK1hrMFNMc044MlE2ek09Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"4d44c8a2d31d3622a145e09d0ab354eff5504f605186a146b74f1cbb1c9ad47a\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"4d44c8a2d31d3622a145e09d0ab354eff5504f605186a146b74f1cbb1c9ad47a\": {\n      \"keyid\": \"4d44c8a2d31d3622a145e09d0ab354eff5504f605186a146b74f1cbb1c9ad47a\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWFOV3M5cHpvaHR1UXBkMUFEZUN4b3Y4SnIvZjNjdUlWQWxDOUFwNjJzZjA9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"48dc65e552858937356ab187b78ddd08747a9f1e1b36153ab1e87cfbf4123685\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"48dc65e552858937356ab187b78ddd08747a9f1e1b36153ab1e87cfbf4123685\": {\n      \"keyid\": \"48dc65e552858937356ab187b78ddd08747a9f1e1b36153ab1e87cfbf4123685\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTVHRGpSYTl2RzFkYnRIL2NodWJVSEJydEN2SDFxdzhwRE5BYmVFbyttTjA9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"6789659fdc87d77523d525218e21d4e4c141c9cb5ed1a09ea1ae2b34abc6fb3f\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"6789659fdc87d77523d525218e21d4e4c141c9cb5ed1a09ea1ae2b34abc6fb3f\": {\n      \"keyid\": \"6789659fdc87d77523d525218e21d4e4c141c9cb5ed1a09ea1ae2b34abc6fb3f\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQU8rbDFnYWh3MzBhVjM3VW5abERCWjM3Z0R3TnN6NjZpUzJzMTFMU3BIOTg9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"70ae837ea88f0c7487e5ba2b3359a45a53a16a118633bd4c5444522588951929\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"70ae837ea88f0c7487e5ba2b3359a45a53a16a118633bd4c5444522588951929\": {\n      \"keyid\": \"70ae837ea88f0c7487e5ba2b3359a45a53a16a118633bd4c5444522588951929\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWdEMW5EamFXeWNiNG40UCsyRXR6eHZ2Q2F4d0hNWldNVXlsN3laVFJudVk9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"868ccffe10f87468f480360c8f6432a2d6fc19b49c54d2bd778178c3fe324e49\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"868ccffe10f87468f480360c8f6432a2d6fc19b49c54d2bd778178c3fe324e49\": {\n      \"keyid\": \"868ccffe10f87468f480360c8f6432a2d6fc19b49c54d2bd778178c3fe324e49\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUIxUXNiMld2dmhEdmF4bFJMYlpFMm1GenRzREd5MHI0UXRKYnNlb2ZZSEU9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"92971fb66a8cf962e9e861edb726659537bc5125765b560f25c70cd4aa938dfe\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"92971fb66a8cf962e9e861edb726659537bc5125765b560f25c70cd4aa938dfe\": {\n      \"keyid\": \"92971fb66a8cf962e9e861edb726659537bc5125765b560f25c70cd4aa938dfe\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVI0SG1odEd3OU81SlVrTU1wYU5MVmhld0czVW5WNkJqRW43YVZEcS8xUDg9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"fa30c8d30084c71db3747ea375f3d858534521eb2d1d426602f2cf9070482240\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"fa30c8d30084c71db3747ea375f3d858534521eb2d1d426602f2cf9070482240\": {\n      \"keyid\": \"fa30c8d30084c71db3747ea375f3d858534521eb2d1d426602f2cf9070482240\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUF1aHZGTjhCYmpoY00vcmxHN0JSd3E5NU9MVTkzQ2FMeXhYbVJ4ZHBHMkk9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"e10eef76ac0aca987575b038705556ffda1b88b64cd4eb551f184499a8053cca\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"e10eef76ac0aca987575b038705556ffda1b88b64cd4eb551f184499a8053cca\": {\n      \"keyid\": \"e10eef76ac0aca987575b038705556ffda1b88b64cd4eb551f184499a8053cca\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWdMa0s2dCtBMnhZSktEamtOL0NmTWRFcTcvMGNRSTM4LzNrM285SmpSQ0k9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"8da7e7ce3d2327e18024e502836c9571dbf7396749cdede1a6240b32a189a85c\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"8da7e7ce3d2327e18024e502836c9571dbf7396749cdede1a6240b32a189a85c\": {\n      \"keyid\": \"8da7e7ce3d2327e18024e502836c9571dbf7396749cdede1a6240b32a189a85c\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVVWOXRhM3lwNmVwOUJ6OVJuK2t3aDdFd0Rab1c1ZjlIRGVYY3dCZzRYbU09Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"1fadf28335126aa21bd35ad3597537f92012d4ddcc768df2902b154bc03618c5\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"1fadf28335126aa21bd35ad3597537f92012d4ddcc768df2902b154bc03618c5\": {\n      \"keyid\": \"1fadf28335126aa21bd35ad3597537f92012d4ddcc768df2902b154bc03618c5\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTJ6QlBKa1g4NlhkSDE1dXp4OHA2ZE5wd1JwbXYwYkxDTnFLeUpmakNEU1E9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"0d9a41d25aebb5cb0f7d077dd54e13d8a977a35e0d2d0c176dcbf2bc53674dd5\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"0d9a41d25aebb5cb0f7d077dd54e13d8a977a35e0d2d0c176dcbf2bc53674dd5\": {\n      \"keyid\": \"0d9a41d25aebb5cb0f7d077dd54e13d8a977a35e0d2d0c176dcbf2bc53674dd5\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQU1rYnV4cXdHSWI0TzNOZ0c3RVB1YzBFMG1LYVNsYVZ0QTZXbmZERW5JMWM9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"78aeac655a39a00981a3bde6ddc4d07c0adcb9c5267e79eedb1f9337586780c4\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"78aeac655a39a00981a3bde6ddc4d07c0adcb9c5267e79eedb1f9337586780c4\": {\n      \"keyid\": \"78aeac655a39a00981a3bde6ddc4d07c0adcb9c5267e79eedb1f9337586780c4\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVRNUlpCdERRaWdpckRBQXdsQnhiMnMzVGhqSzUxQk5UUW1RZUErampJaVU9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"05ba79be37653d12dc41e49058620943f2169c74b0103adeaf7710f53ba07e16\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"05ba79be37653d12dc41e49058620943f2169c74b0103adeaf7710f53ba07e16\": {\n      \"keyid\": \"05ba79be37653d12dc41e49058620943f2169c74b0103adeaf7710f53ba07e16\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWhscjdlUUFKR09Ib29nd3NsVGkxTUdPWk1nZVArQWd6RjhMRC84ajErdEE9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"d1116f7dbabaed9cd929e9c3c83a5218197710c5a357920dcc6bd92b8c47c216\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"d1116f7dbabaed9cd929e9c3c83a5218197710c5a357920dcc6bd92b8c47c216\": {\n      \"keyid\": \"d1116f7dbabaed9cd929e9c3c83a5218197710c5a357920dcc6bd92b8c47c216\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUtIL3B6UjhHUGlZQUpxWHlLVHdOWmEvR0RzbFNUVldEUzU3YjdFUHlEbDQ9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"e3671befd82148403388608e3e214289d0183ab7e3a436b4de0a9813d2dfe173\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"e3671befd82148403388608e3e214289d0183ab7e3a436b4de0a9813d2dfe173\": {\n      \"keyid\": \"e3671befd82148403388608e3e214289d0183ab7e3a436b4de0a9813d2dfe173\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWhXMlNrUHVVelBnclZTb0k5cmxKUVRibkVDVHJ1MXJSR0E2UEFvYURxUTQ9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"e2eb0ed4a1cfd12167c26b6a2893130f5a4a9dd87848865efd0fe3136324bb4e\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"e2eb0ed4a1cfd12167c26b6a2893130f5a4a9dd87848865efd0fe3136324bb4e\": {\n      \"keyid\": \"e2eb0ed4a1cfd12167c26b6a2893130f5a4a9dd87848865efd0fe3136324bb4e\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVdxUEtjbUdmNFBIVi9uRXV4MVZLVmNoS3lOSk5wWVVkNTZ3R09rMjM4WmM9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"342f2669054ce74273a09e74a202c77d3a9f9dc4cff5f85a769d5156eed73ace\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"342f2669054ce74273a09e74a202c77d3a9f9dc4cff5f85a769d5156eed73ace\": {\n      \"keyid\": \"342f2669054ce74273a09e74a202c77d3a9f9dc4cff5f85a769d5156eed73ace\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVpLUWRaWlJzQS94dUlwSDVubkI2ZUIvSDFtR0VRYVh0NnBvcll3dytQYUE9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"9fed80293c3750c023d7c0e4239a07b10fea49dc7ed7f09f73daac272db46c80\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"9fed80293c3750c023d7c0e4239a07b10fea49dc7ed7f09f73daac272db46c80\": {\n      \"keyid\": \"9fed80293c3750c023d7c0e4239a07b10fea49dc7ed7f09f73daac272db46c80\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXVwNmhQVUtaTmR6eDFqRUhZOFFzR0I2cWZjY2dQSTdtUXVWblpEVlNPWGM9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"56c7395d512b72029f19827fa1b7f8b1b800f794b54bf28aab17ef2ac8eaa8e1\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"56c7395d512b72029f19827fa1b7f8b1b800f794b54bf28aab17ef2ac8eaa8e1\": {\n      \"keyid\": \"56c7395d512b72029f19827fa1b7f8b1b800f794b54bf28aab17ef2ac8eaa8e1\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXVwcnByWnJFeW9MdGpQWHptNmF0RkxyZkg3cExRVnVabDRuWmt1MmRjNjg9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"7fd79ad5e2fb233346338c742203e6c048a79c1b6de5e908aa0a0ec655b79da6\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"7fd79ad5e2fb233346338c742203e6c048a79c1b6de5e908aa0a0ec655b79da6\": {\n      \"keyid\": \"7fd79ad5e2fb233346338c742203e6c048a79c1b6de5e908aa0a0ec655b79da6\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVE1YU5GRk1hdXBRWS80aHUrTFJVd2lDam5HMHNsNis0eEh4Tkg0WHlRS1U9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"f485c106b88a32aabf70d51d28be82223c8073447a746df7a7e0b5155b6211f7\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"f485c106b88a32aabf70d51d28be82223c8073447a746df7a7e0b5155b6211f7\": {\n      \"keyid\": \"f485c106b88a32aabf70d51d28be82223c8073447a746df7a7e0b5155b6211f7\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUZrNGhuUENsV3ppWXFkM1hzODVOZlg0aGM2ajZ5YW10QTRlU0xBSjhieXM9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"aa1b27feb3696f1a9504c48d5f34f12ba7ad2bb86658efa59a284986169f521e\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"aa1b27feb3696f1a9504c48d5f34f12ba7ad2bb86658efa59a284986169f521e\": {\n      \"keyid\": \"aa1b27feb3696f1a9504c48d5f34f12ba7ad2bb86658efa59a284986169f521e\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWpWRVhyUGZUanVIZkVXbGZGMXVHQklSQkYvUEE0MjQ0WHNyVkRkc25nQlU9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"aba8937b42f8c3ccde7fcbabeb8d9036eb798f4cb4c91291df19f00ca948255d\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"aba8937b42f8c3ccde7fcbabeb8d9036eb798f4cb4c91291df19f00ca948255d\": {\n      \"keyid\": \"aba8937b42f8c3ccde7fcbabeb8d9036eb798f4cb4c91291df19f00ca948255d\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWV5SFhBVVpTN2JZUDd0cXFUNVRONEs4b3VsNEJ2MGVYb1JwVlI1VXltZWs9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"7f31bbea2c5ad33103d41468abaf9613f9af915acbac212d695bb0aacc6d2311\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"7f31bbea2c5ad33103d41468abaf9613f9af915acbac212d695bb0aacc6d2311\": {\n      \"keyid\": \"7f31bbea2c5ad33103d41468abaf9613f9af915acbac212d695bb0aacc6d2311\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWY1NWxtVURZVlNnSnBxazBVelh6T2JJTlo4RHZpMktzTEtvYXdIYkFMcWc9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"ddd5b8bf8f99e9dbb218f11bc04c35c082a3b083744b497145b4e42832bad1d5\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"ddd5b8bf8f99e9dbb218f11bc04c35c082a3b083744b497145b4e42832bad1d5\": {\n      \"keyid\": \"ddd5b8bf8f99e9dbb218f11bc04c35c082a3b083744b497145b4e42832bad1d5\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWd5RmdURldJN0ZINDVUcEI0RGs3MXhTQzQ3RCtlUUtoNzIvUDU1VkVONzA9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"aeeb23e11c6228889797d3cb055a9989c13ddcfa431b7a91fe0940f362d9f8eb\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"aeeb23e11c6228889797d3cb055a9989c13ddcfa431b7a91fe0940f362d9f8eb\": {\n      \"keyid\": \"aeeb23e11c6228889797d3cb055a9989c13ddcfa431b7a91fe0940f362d9f8eb\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWk1TDlYNEExTGxXRjdGNGx6dTB0c0ZvS3pJYkNJamdMK2NvbWd2MnZhVTQ9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"96a9075a1398112a31aaf7a0ed5eaffa756ff0ebfcbfed241ab63c9a7e5ebf9d\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"96a9075a1398112a31aaf7a0ed5eaffa756ff0ebfcbfed241ab63c9a7e5ebf9d\": {\n      \"keyid\": \"96a9075a1398112a31aaf7a0ed5eaffa756ff0ebfcbfed241ab63c9a7e5ebf9d\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQU00bHFGZlJTNVBRRzE5TlVsVjdDb2Q1Z1hiUVFnZVcvbnpaUFhUSUpKUXM9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"d84d1624c25341f4fc536c1c06d05218172cee66fd61dd4e7b2131b8df651cbc\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"d84d1624c25341f4fc536c1c06d05218172cee66fd61dd4e7b2131b8df651cbc\": {\n      \"keyid\": \"d84d1624c25341f4fc536c1c06d05218172cee66fd61dd4e7b2131b8df651cbc\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUFDbkxjcGZyaVFHUDBLUVBWWXFsY1hCbTdxWitBbHltT3NXMzcramYrZHM9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"083a7b049e6f0574953ea125421ec98d56d9cf3417ffc7419b027ed2d5c96c2c\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"083a7b049e6f0574953ea125421ec98d56d9cf3417ffc7419b027ed2d5c96c2c\": {\n      \"keyid\": \"083a7b049e6f0574953ea125421ec98d56d9cf3417ffc7419b027ed2d5c96c2c\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWR5aVRDYSttQmNmQjF3Mjk4Zm55VFB0Z1VBbDl3TmEvRHkrQ2FiWnVsMUk9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"587b09a68c49d369e0bcc38516d2a8f69b2d19b19ba438c8093c1d9821e71321\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"587b09a68c49d369e0bcc38516d2a8f69b2d19b19ba438c8093c1d9821e71321\": {\n      \"keyid\": \"587b09a68c49d369e0bcc38516d2a8f69b2d19b19ba438c8093c1d9821e71321\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVhqWS9PV1paV3dkbndhQUFsOVQ5d3hmVzV1Z1EvVFp4NGpuUXpwYUpkYXc9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"8bd9ca6e4f7ac6ceb8bd0237913a776ba972241e576aecfacab546116a681149\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"8bd9ca6e4f7ac6ceb8bd0237913a776ba972241e576aecfacab546116a681149\": {\n      \"keyid\": \"8bd9ca6e4f7ac6ceb8bd0237913a776ba972241e576aecfacab546116a681149\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUhnYnBZK1pEQTE5L3lLdHdIWUdDZHdJZUFFQS9BdFkrVlFuQWJ6TVg5UDQ9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"41ba23e38f8199ebc6cbd88becc454a586f360e19d50d11e311acd132312e9e3\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"41ba23e38f8199ebc6cbd88becc454a586f360e19d50d11e311acd132312e9e3\": {\n      \"keyid\": \"41ba23e38f8199ebc6cbd88becc454a586f360e19d50d11e311acd132312e9e3\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUNrSUxqbXJkTmIzQnQrTFRGY093WkJCNEF1L2ZBKzJ6cktEeHNwZWx2dmc9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"cdd884b4f04a96288eb2dbe2afe64f3d4a6a98789529b2997e2e2b774a10d898\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"cdd884b4f04a96288eb2dbe2afe64f3d4a6a98789529b2997e2e2b774a10d898\": {\n      \"keyid\": \"cdd884b4f04a96288eb2dbe2afe64f3d4a6a98789529b2997e2e2b774a10d898\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWM3cmdwaGlIWXorNlYrblB0eXdoeGJLaWVqT1pxaXhRaXRaWTQva3lINDg9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"bcbed16e51ca8545bdbeeab55156fe54f391f24ee08a99cc3d1ab9ca674d8d85\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"bcbed16e51ca8545bdbeeab55156fe54f391f24ee08a99cc3d1ab9ca674d8d85\": {\n      \"keyid\": \"bcbed16e51ca8545bdbeeab55156fe54f391f24ee08a99cc3d1ab9ca674d8d85\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUhFNjkzNkd4bzdkMDdRSzUvK0I5SlZvNXFFWXlnMWUrcFFWRHVlU0ZPcDQ9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"dc74ae35058dd609094b84af300257c7a47dd614638824ccf71418d53809253a\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"dc74ae35058dd609094b84af300257c7a47dd614638824ccf71418d53809253a\": {\n      \"keyid\": \"dc74ae35058dd609094b84af300257c7a47dd614638824ccf71418d53809253a\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVQwcm05SksxaXJTUGtiOVBiVEE0RGtzNFgxbkgrN01uWVdxaEQrM09RZVk9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"c4c273fabb91a5c859d4f73c52cd4ec1a9be710e1fd6b7a60176b261d0da8740\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"c4c273fabb91a5c859d4f73c52cd4ec1a9be710e1fd6b7a60176b261d0da8740\": {\n      \"keyid\": \"c4c273fabb91a5c859d4f73c52cd4ec1a9be710e1fd6b7a60176b261d0da8740\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUlqMUhmeWFZOHE2Uzg1TWNhRlVlWDdzdkVuaDduMmtST2Jna1hXY1VBalU9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"c502fd28b2803f267dd9b9a1d9dc843b5c9e4e5376e3ee72a0d5f82cd2e922d3\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"c502fd28b2803f267dd9b9a1d9dc843b5c9e4e5376e3ee72a0d5f82cd2e922d3\": {\n      \"keyid\": \"c502fd28b2803f267dd9b9a1d9dc843b5c9e4e5376e3ee72a0d5f82cd2e922d3\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWhBcmhYTWN3UDlvWkpUUCs5c25LZWVUdW91OVlhaGJ3TnBmSUd2dEE4OW89Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"5c1f631554cad0c0145839a7c78131fda05fcdb436a4dc3347770ad19b94f4be\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"5c1f631554cad0c0145839a7c78131fda05fcdb436a4dc3347770ad19b94f4be\": {\n      \"keyid\": \"5c1f631554cad0c0145839a7c78131fda05fcdb436a4dc3347770ad19b94f4be\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQU9OZGpOaCt2eVFZaWI0TkdFWDlGUjJBY3VWS1k3N1I1SHJzekdkY1BnT2M9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"bc701418b4615961cc20de05f0278644e227bc5b85eb65e1ec9c3bd042891ad2\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"bc701418b4615961cc20de05f0278644e227bc5b85eb65e1ec9c3bd042891ad2\": {\n      \"keyid\": \"bc701418b4615961cc20de05f0278644e227bc5b85eb65e1ec9c3bd042891ad2\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWt1RlV4bGx2VWxVVFFHa0FMaWpQZFZOQUE0eUM0Z1VVRGtLK0hVVjJQTkU9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"79397cf7eb9608af9e36afb185f1c9aef05d94ee9ebd1200b25d1f7b35868109\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"79397cf7eb9608af9e36afb185f1c9aef05d94ee9ebd1200b25d1f7b35868109\": {\n      \"keyid\": \"79397cf7eb9608af9e36afb185f1c9aef05d94ee9ebd1200b25d1f7b35868109\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWM2SzArb3ViSU11SkxLM2FaQzAvRGM4ME1MTTFZcGtqa3ozWDdzOGdyNWc9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"30a387ec434af68bc92e0110be054d93fc8758f3bbede5da98b8ffcdb256d044\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"30a387ec434af68bc92e0110be054d93fc8758f3bbede5da98b8ffcdb256d044\": {\n      \"keyid\": \"30a387ec434af68bc92e0110be054d93fc8758f3bbede5da98b8ffcdb256d044\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQW9uL0VnVWwvYlYydlBuM2VwZGFHaERud0FMdU5pVzZIN1NMQnhKTkVvNUE9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"785afc926103f0110c344c91e187ef19d65201e0729f574d231a890e58e857f2\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"785afc926103f0110c344c91e187ef19d65201e0729f574d231a890e58e857f2\": {\n      \"keyid\": \"785afc926103f0110c344c91e187ef19d65201e0729f574d231a890e58e857f2\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWV1cTZla3czSURpd1lQMzJZS2dNN1VHNngzdTJ3aFhFQnRDb0ltSm5wTmM9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"1aef46e3f7859f3ae13516235b94df5520be87b7af58b6d39d0a89a586c0551a\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"1aef46e3f7859f3ae13516235b94df5520be87b7af58b6d39d0a89a586c0551a\": {\n      \"keyid\": \"1aef46e3f7859f3ae13516235b94df5520be87b7af58b6d39d0a89a586c0551a\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTBPSjBZQ0hJdVlrRXk3c3ArNnFGcUhRR2QvQnRiWCsxWGR2Q0prYUJsYXc9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"422eb5c7bff7b82fe8953d66fded031103062b99a03f5c1107481a4a8d3a6960\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"422eb5c7bff7b82fe8953d66fded031103062b99a03f5c1107481a4a8d3a6960\": {\n      \"keyid\": \"422eb5c7bff7b82fe8953d66fded031103062b99a03f5c1107481a4a8d3a6960\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWxSVVBya2xZeDRHbHZmbmV2UUhPc1VrWVpMdEplWW1JblFBYUdKYlFFTzQ9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"eb9e6c73ce2579f70e0f1d50d35b98a63c2a64681de997be06ad062c4faee0ae\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"eb9e6c73ce2579f70e0f1d50d35b98a63c2a64681de997be06ad062c4faee0ae\": {\n      \"keyid\": \"eb9e6c73ce2579f70e0f1d50d35b98a63c2a64681de997be06ad062c4faee0ae\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUljY25TNytlYnJmcUFEYkdnYlVVR2NaamJ6a2Y4QW9aRzVPU1l6Mzg2YWc9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"f6c9cfe133805fc83130bfab883b362987d9ba4c9f6e9cb4b40108050dd07a26\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"f6c9cfe133805fc83130bfab883b362987d9ba4c9f6e9cb4b40108050dd07a26\": {\n      \"keyid\": \"f6c9cfe133805fc83130bfab883b362987d9ba4c9f6e9cb4b40108050dd07a26\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXlkbElVNlAvdmhCTk5FcERJNXFRZ2NKT05DTmx3b3FKdGFpZldLYXFwMEE9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"0c6b8e52a8a6097eeafaab9adc9f8e25329d95dc4186c4f43bb6141c1d144ac4\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"0c6b8e52a8a6097eeafaab9adc9f8e25329d95dc4186c4f43bb6141c1d144ac4\": {\n      \"keyid\": \"0c6b8e52a8a6097eeafaab9adc9f8e25329d95dc4186c4f43bb6141c1d144ac4\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXcrMjlVUnhoVHFvV1Brd0ZSN2tVempzWVY4S3RWQkVCQ1BqYWl6T1V5am89Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"cd02afc1cd048eef3824958ad1b042686b6a56ba22c09438638a2d850b4ad9ff\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"cd02afc1cd048eef3824958ad1b042686b6a56ba22c09438638a2d850b4ad9ff\": {\n      \"keyid\": \"cd02afc1cd048eef3824958ad1b042686b6a56ba22c09438638a2d850b4ad9ff\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTAyQkxLMFgvcjZlamwxSVpJdTdLTDd5ZjNnbkE2SHFnRWNLTmkxRWtNSXc9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"883e93980420e1b1cebdc426e51bf0b3e95c67019b341e348d0d90bf94dc0719\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"883e93980420e1b1cebdc426e51bf0b3e95c67019b341e348d0d90bf94dc0719\": {\n      \"keyid\": \"883e93980420e1b1cebdc426e51bf0b3e95c67019b341e348d0d90bf94dc0719\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUk3M3M4R1ErSmxLWkJlL2h5eW5Ma3k0N2o2Ym9BVDROWmgwR0dKdE9HS2M9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"9eff7df6e903a58c9746f112fe9393d9d6fcbd3477a03003db1276cf5a62d4a5\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"9eff7df6e903a58c9746f112fe9393d9d6fcbd3477a03003db1276cf5a62d4a5\": {\n      \"keyid\": \"9eff7df6e903a58c9746f112fe9393d9d6fcbd3477a03003db1276cf5a62d4a5\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQS9SbWdkVmJzc2h1aHNDbEtLaFVpV1A3TWhjTTJ2UE1FdmNJV3RZb0RBYmc9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"a93b5c85924e965c75bce9774c4c9326bdc799bda895db527b2bfcea7df275e4\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"a93b5c85924e965c75bce9774c4c9326bdc799bda895db527b2bfcea7df275e4\": {\n      \"keyid\": \"a93b5c85924e965c75bce9774c4c9326bdc799bda895db527b2bfcea7df275e4\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVc5R1VjQVZGRlUxak9zODJHRGN2WHpOZ2VPQjNvNlczV3FsQ1BxOE55Vnc9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"2ff0908eb07d9ff10b72ac4a352d274fdf0e0803a68de4c2a78ee35cff0ee1fc\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"2ff0908eb07d9ff10b72ac4a352d274fdf0e0803a68de4c2a78ee35cff0ee1fc\": {\n      \"keyid\": \"2ff0908eb07d9ff10b72ac4a352d274fdf0e0803a68de4c2a78ee35cff0ee1fc\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUt5czA4eUpXLy9DZzlTenFFTENmUzZtemJDWnpkUTZPZStuYnRhMjc5K2M9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"67d53c6f7581f957205f4d58c11e438c8f82b0c810c71044091e4f7689c008a9\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"67d53c6f7581f957205f4d58c11e438c8f82b0c810c71044091e4f7689c008a9\": {\n      \"keyid\": \"67d53c6f7581f957205f4d58c11e438c8f82b0c810c71044091e4f7689c008a9\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQW00YmFKK3BBY0U1dytCR0FnSlBkR2dkMloyQ1NHampBM2FJS2UxdWltUlU9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"63ba70f809a24ac6958fe3d6d770263d2624d98476d0ead6f386f8f5fe8e15de\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"63ba70f809a24ac6958fe3d6d770263d2624d98476d0ead6f386f8f5fe8e15de\": {\n      \"keyid\": \"63ba70f809a24ac6958fe3d6d770263d2624d98476d0ead6f386f8f5fe8e15de\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUk1TXV1TTZHSFVpWURQbmFoWE9zUy9sYzgzdVZESGdUOFRzU1FySnlEQjQ9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"008bb02f1457cc8ddd19082adfb77d9cd82bfb5f77c3b2c925c213f406bb3536\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"008bb02f1457cc8ddd19082adfb77d9cd82bfb5f77c3b2c925c213f406bb3536\": {\n      \"keyid\": \"008bb02f1457cc8ddd19082adfb77d9cd82bfb5f77c3b2c925c213f406bb3536\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXc1Q3ZDTlJZZXVQeWY0MEZFN2VLQWw0czhwbTBpVGdJV0lFZzZKSGNUbjg9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"028f35a8c99864617c83ca747c46c84f7785344cd9c47fa8e3dd84baa3bee243\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"028f35a8c99864617c83ca747c46c84f7785344cd9c47fa8e3dd84baa3bee243\": {\n      \"keyid\": \"028f35a8c99864617c83ca747c46c84f7785344cd9c47fa8e3dd84baa3bee243\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVcrNDZCWnAyeURNczdxWVJXTXc5ZTZDNkZTTENkNnZaMVJwV3lraGpyY2c9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"8f81e82f5624169f7ec436cb587e32b43ad66a3e8d4d698238953618ef97400a\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"8f81e82f5624169f7ec436cb587e32b43ad66a3e8d4d698238953618ef97400a\": {\n      \"keyid\": \"8f81e82f5624169f7ec436cb587e32b43ad66a3e8d4d698238953618ef97400a\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVllVFAyaHJjTVdybFFaTkNIa3lhenBpNzRyQUEvbXpSTS9ZQngwL0c3MEE9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"09f61ea0e7eb7f9defed2f676639dfa122198208d73c28c8b7fd08e36536f6e7\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"09f61ea0e7eb7f9defed2f676639dfa122198208d73c28c8b7fd08e36536f6e7\": {\n      \"keyid\": \"09f61ea0e7eb7f9defed2f676639dfa122198208d73c28c8b7fd08e36536f6e7\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQW82SE0vaHcvYmpRNUlFUG92ZUpsdjlTcDVpWklKQUwwamtQdThhd0cyU3c9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"a83aa98ac9cfe400df068a8455a25abfc92e587b86be1092150d694b4b14eb05\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"a83aa98ac9cfe400df068a8455a25abfc92e587b86be1092150d694b4b14eb05\": {\n      \"keyid\": \"a83aa98ac9cfe400df068a8455a25abfc92e587b86be1092150d694b4b14eb05\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVFYUE54eFpXZGs5MENIU1NyMkRybEtFOXVma01GOEVGbXEwRmVZa3k2N0E9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"9ae4b5802c1af694e33f126b0db58eeb15535c2a2c7bcafc55766c524c6bed4d\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"9ae4b5802c1af694e33f126b0db58eeb15535c2a2c7bcafc55766c524c6bed4d\": {\n      \"keyid\": \"9ae4b5802c1af694e33f126b0db58eeb15535c2a2c7bcafc55766c524c6bed4d\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXUrQkNzOGpUZGFxNTEwOFI1emxZZTRuLytyb05qMXltc3d2a3hZeU1YbTg9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"14c41cb4a6f211dc7ce84d1718dc7fe9d7714c2a927025c1eaeb1581fe31d0b1\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"14c41cb4a6f211dc7ce84d1718dc7fe9d7714c2a927025c1eaeb1581fe31d0b1\": {\n      \"keyid\": \"14c41cb4a6f211dc7ce84d1718dc7fe9d7714c2a927025c1eaeb1581fe31d0b1\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQURtQ09aeUlqNnBNK09BZzcwQjBSTGZrTGI3TCtLN3hvZkZaOWdzM2JwWVU9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"b7f43d6ec05498d5ca96851833e97873ef5970a3eef02634c40d513110b775fa\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"b7f43d6ec05498d5ca96851833e97873ef5970a3eef02634c40d513110b775fa\": {\n      \"keyid\": \"b7f43d6ec05498d5ca96851833e97873ef5970a3eef02634c40d513110b775fa\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTN3TzNNcG9JS0UvemhTdUxIWFE4TXJ5bGtHdFZwWHJZNXNwb0dpcmllNmM9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"c0fd1f289e2dcda226b6ffb25772e6dec158c86ecb89477f60c2a9cb1be2a2c9\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"c0fd1f289e2dcda226b6ffb25772e6dec158c86ecb89477f60c2a9cb1be2a2c9\": {\n      \"keyid\": \"c0fd1f289e2dcda226b6ffb25772e6dec158c86ecb89477f60c2a9cb1be2a2c9\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXZkZE0yWXArVUc3WjFnNkpVckliMEN5aFdJeVdiTnlXazdlT09tREJ0dlU9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"36596a380e132ffb6d6172a17239856794009f91e363e97a9598b1ef767405b0\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"36596a380e132ffb6d6172a17239856794009f91e363e97a9598b1ef767405b0\": {\n      \"keyid\": \"36596a380e132ffb6d6172a17239856794009f91e363e97a9598b1ef767405b0\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTdiTDFNd0d1S0FsSlJScjJwbS9kVDQyd2pJWUxvQ1praE9XRyt0eWt4RGM9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"4f24fbef299bb1c1eea2e9477e680d78a41df8ffcee980339971d986947b438a\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"4f24fbef299bb1c1eea2e9477e680d78a41df8ffcee980339971d986947b438a\": {\n      \"keyid\": \"4f24fbef299bb1c1eea2e9477e680d78a41df8ffcee980339971d986947b438a\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTAydlpHVGlwSFNxR0tQZ3FWL3VEUU9pbkQvYlBQSFcxaUFXeElvMmY2Y0k9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"16239f70f73d0591c5dc1043191484c2717f816ac0e90cb2ae3a16b07366b529\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"16239f70f73d0591c5dc1043191484c2717f816ac0e90cb2ae3a16b07366b529\": {\n      \"keyid\": \"16239f70f73d0591c5dc1043191484c2717f816ac0e90cb2ae3a16b07366b529\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQSs4SUJlamJDaU80VVNzQ0thRmpObHJlMUFQM2tjaVRZNStTUkhVWDlCMzA9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"3f9a547db2cf26855707a60048d293eebe384832dbf1976d642d472b8ab4427d\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"3f9a547db2cf26855707a60048d293eebe384832dbf1976d642d472b8ab4427d\": {\n      \"keyid\": \"3f9a547db2cf26855707a60048d293eebe384832dbf1976d642d472b8ab4427d\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXNtdEVXQmVUMWM2WWdocTQ2U281S3I5UTlIZ25Kb0pjL1BHQndPV2lHQVU9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"c550ce546857ded42bafee7d285281e888c537604771a1f2c52ff2d10c0318a8\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"c550ce546857ded42bafee7d285281e888c537604771a1f2c52ff2d10c0318a8\": {\n      \"keyid\": \"c550ce546857ded42bafee7d285281e888c537604771a1f2c52ff2d10c0318a8\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWhIVjhlVFJFTFFsa0VBbU51bFYrY1QzeElxcG83bWxveEVQSjFDTHZsaG89Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"d05899e0865d8590d958c5a38d7784479e66d092f8b147f7ac122c3bfdeb2c8f\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"d05899e0865d8590d958c5a38d7784479e66d092f8b147f7ac122c3bfdeb2c8f\": {\n      \"keyid\": \"d05899e0865d8590d958c5a38d7784479e66d092f8b147f7ac122c3bfdeb2c8f\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWMxMk1mWEQvRVpOZ1JBZUl1eUNvbzdBTk00LzRRcjk5TTdoeHRZZ0M1dFk9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"f3d338b3b94c4d41083ecd7ed1a1584bc54eaf7fd4a651e92a5df0d3147581f7\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"f3d338b3b94c4d41083ecd7ed1a1584bc54eaf7fd4a651e92a5df0d3147581f7\": {\n      \"keyid\": \"f3d338b3b94c4d41083ecd7ed1a1584bc54eaf7fd4a651e92a5df0d3147581f7\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWFpVFllZHhkM0xub0FtclFHUXQ3L2hwNGJKd0RyTktNN3dHbUJvd05MZ2M9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"cee99f14fe3aad5e9ba860bc458f87a20e5261bae940bb5723405856cee4fdbb\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"cee99f14fe3aad5e9ba860bc458f87a20e5261bae940bb5723405856cee4fdbb\": {\n      \"keyid\": \"cee99f14fe3aad5e9ba860bc458f87a20e5261bae940bb5723405856cee4fdbb\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUg1MkIrcEl3dHpXY2JsK1N5bDV0VmI2NG9IeDlvSFFLajdwY1dWN1RCcW89Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"2366beec3e355f6ea242da4781a3ab8bc5d367dccc4be96297e3195bdcd84ed2\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"2366beec3e355f6ea242da4781a3ab8bc5d367dccc4be96297e3195bdcd84ed2\": {\n      \"keyid\": \"2366beec3e355f6ea242da4781a3ab8bc5d367dccc4be96297e3195bdcd84ed2\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQW5sd2F4dnMxMjdRZnpnWjRKeW5rVFVSUUExK3JwWmJOU3FSQ1NIank2ZXM9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"b96e1bfe87aa52e1a9a651a112dc74b2f3c679b507242a63741382977964a19c\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"b96e1bfe87aa52e1a9a651a112dc74b2f3c679b507242a63741382977964a19c\": {\n      \"keyid\": \"b96e1bfe87aa52e1a9a651a112dc74b2f3c679b507242a63741382977964a19c\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVVSTWVvUkZZZFNTbGpRSm0zaXBOdXFaMDVkelY5QU9ORVREdi9PT09TS0k9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"2a0f6abf6dd79f193a5b3dc255c3f552d7fc7b82f489d88f1e73c24e7c2cc9b8\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"2a0f6abf6dd79f193a5b3dc255c3f552d7fc7b82f489d88f1e73c24e7c2cc9b8\": {\n      \"keyid\": \"2a0f6abf6dd79f193a5b3dc255c3f552d7fc7b82f489d88f1e73c24e7c2cc9b8\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQU5TSzAwUWh5cmwvWDBVbEtuSXBmWjkzNFAybVV1TFJ6Y3VGSXpTeCtSaVU9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"0949e6f6d7c866107136f87c52ff2e1b3ce08529a8ac5a0b078212f6d079bad8\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"0949e6f6d7c866107136f87c52ff2e1b3ce08529a8ac5a0b078212f6d079bad8\": {\n      \"keyid\": \"0949e6f6d7c866107136f87c52ff2e1b3ce08529a8ac5a0b078212f6d079bad8\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVFuODJnLzVTMnIvMUJNNmx4VUxCZ0hUMDZSeXNWN2xGNi9NRlRyZXVoZWM9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"dd417f1e92d910a2d89d5fff3906559cee1263569651bcf4c84188f985b893bf\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"dd417f1e92d910a2d89d5fff3906559cee1263569651bcf4c84188f985b893bf\": {\n      \"keyid\": \"dd417f1e92d910a2d89d5fff3906559cee1263569651bcf4c84188f985b893bf\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVYvQmlPU0dmV3FlRjBqTHlhKzAyc2hRSGRsZVNIOXhaMEZ1QTZaZS9zbE09Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"4446bbf395d5ce903c629903b41692ea6757ac737dec4a1c67e586fd6ac2f1ed\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"4446bbf395d5ce903c629903b41692ea6757ac737dec4a1c67e586fd6ac2f1ed\": {\n      \"keyid\": \"4446bbf395d5ce903c629903b41692ea6757ac737dec4a1c67e586fd6ac2f1ed\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUh1aGZiZ3JJZDU0czlpZldoSVpGbytUVmsyZm8wNmRrU0dTNmVLaUtXdzg9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"0bbfd9ee312e5188a35015e4c0bea0849bc3ba7ea555ef0a407958f279bd47a4\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"0bbfd9ee312e5188a35015e4c0bea0849bc3ba7ea555ef0a407958f279bd47a4\": {\n      \"keyid\": \"0bbfd9ee312e5188a35015e4c0bea0849bc3ba7ea555ef0a407958f279bd47a4\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQStpaEJXT2hqZ2dkaU1ZTHVZVHZ3UFlBc3ZFMlgwTVFuc010OGJTS1Juc009Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"f7ec19ff5358b67bcb7fd444238ab2480461f28c4ab5f9e923d3a776845951d0\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"f7ec19ff5358b67bcb7fd444238ab2480461f28c4ab5f9e923d3a776845951d0\": {\n      \"keyid\": \"f7ec19ff5358b67bcb7fd444238ab2480461f28c4ab5f9e923d3a776845951d0\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQW1PWVJDVHA1YmNTSURJTXVkdnZjRWxzY1ZWd0R1YXpEOG4vK0l5YTBSMEk9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"fefba33fc49c09a1814007e1d2535e0189b17e277d74c70747503fac77f9b49f\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"fefba33fc49c09a1814007e1d2535e0189b17e277d74c70747503fac77f9b49f\": {\n      \"keyid\": \"fefba33fc49c09a1814007e1d2535e0189b17e277d74c70747503fac77f9b49f\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWliY3FEcGM0QXhxY1BOQWZjd1pjeGQ5anRmSGY2WVNMbUJyK3ZONmFGc0U9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"08b8bca9f4e332eddf5d62f9342122c8987bc846224a1ee504e5a10a05018d0d\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"08b8bca9f4e332eddf5d62f9342122c8987bc846224a1ee504e5a10a05018d0d\": {\n      \"keyid\": \"08b8bca9f4e332eddf5d62f9342122c8987bc846224a1ee504e5a10a05018d0d\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVluR2ljdkhtaVBoMDZjeWExQUdNYThPcFZldmlORnpFQ1hEL0p0dkF4N0U9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"19a21438cc7bfff3eafe6c1a50e567eb1b9609dc0b771eca4e950d34918b5821\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"19a21438cc7bfff3eafe6c1a50e567eb1b9609dc0b771eca4e950d34918b5821\": {\n      \"keyid\": \"19a21438cc7bfff3eafe6c1a50e567eb1b9609dc0b771eca4e950d34918b5821\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUJmdGhXZHdHUXhiRmxtM3lQeEF6ZzdGckl4dWFpS3VwajdISFFabjU3UUE9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"2904f37356d0bba78b9c882f49296918f85a82e0567ff20d4150045f8f912588\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"2904f37356d0bba78b9c882f49296918f85a82e0567ff20d4150045f8f912588\": {\n      \"keyid\": \"2904f37356d0bba78b9c882f49296918f85a82e0567ff20d4150045f8f912588\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVgrYnRhNkpVV3RIQnVoeWdUOEpnRDF5ZmNNZzZnZm5qVGRpNW9IZlhUV2s9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"b1635315e30bd862fe5291faa54299860019b91281f44a9c623d5dbffe832eb3\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"b1635315e30bd862fe5291faa54299860019b91281f44a9c623d5dbffe832eb3\": {\n      \"keyid\": \"b1635315e30bd862fe5291faa54299860019b91281f44a9c623d5dbffe832eb3\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUlPQ1RvQ0c4TmFzT3lUQzBLalpMUE5hVzdIK25kb2JGeUZVR2NEYmxmL2M9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"d6f84469a80309e131b330d3b10d16a04381054907e8b00341b81600b5c7652a\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"d6f84469a80309e131b330d3b10d16a04381054907e8b00341b81600b5c7652a\": {\n      \"keyid\": \"d6f84469a80309e131b330d3b10d16a04381054907e8b00341b81600b5c7652a\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVhSa2ZSQ2pkbWRvdXhvblNveHV5cXM1K3dadlpoSWVSWG8wMHpvUE41TjQ9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"6ae4158c43ffadbec1b727ae6b1817b2a70333a886e976e11845be5d9dafc6e1\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"6ae4158c43ffadbec1b727ae6b1817b2a70333a886e976e11845be5d9dafc6e1\": {\n      \"keyid\": \"6ae4158c43ffadbec1b727ae6b1817b2a70333a886e976e11845be5d9dafc6e1\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTNZaFUzQ3hPNkxsY1VRVFFxU3psRU5ZNVBYRUVKYWVZdmJFQXNTNTNCTVE9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"12aee701efe4b23159b530412a07c4af95397af4a1720192057bb34c145c7f4c\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"12aee701efe4b23159b530412a07c4af95397af4a1720192057bb34c145c7f4c\": {\n      \"keyid\": \"12aee701efe4b23159b530412a07c4af95397af4a1720192057bb34c145c7f4c\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQU5YemordWN2MHJDcGRCMmtsaS82OUY4YVRZK3hLRzB3bzRGT0V4WHZSWVE9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"3a56d2ebb94c382ad45c7dd8f8c994bc74f0f74f572eb6a19478b426bf6e0a48\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"3a56d2ebb94c382ad45c7dd8f8c994bc74f0f74f572eb6a19478b426bf6e0a48\": {\n      \"keyid\": \"3a56d2ebb94c382ad45c7dd8f8c994bc74f0f74f572eb6a19478b426bf6e0a48\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVFNcTErYnF2dHdNaHlNUU9DaDVQcnpuKzZEWVE0S0hybnkxZzRVdDRTS2c9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"b68fad87d31f7561e7c2f43521031ff732efeed866d204182f7691027c4fe3fe\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"b68fad87d31f7561e7c2f43521031ff732efeed866d204182f7691027c4fe3fe\": {\n      \"keyid\": \"b68fad87d31f7561e7c2f43521031ff732efeed866d204182f7691027c4fe3fe\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVQwTlNUZGlxWXVJbjdCWktVSFNuaHF4b2dQWnUvSytQT29jWFlGbXEvanc9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"194ee00bf7a94ed230887e810dd7c0289d20b8dfa772795d59e1a6b282decd9e\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"194ee00bf7a94ed230887e810dd7c0289d20b8dfa772795d59e1a6b282decd9e\": {\n      \"keyid\": \"194ee00bf7a94ed230887e810dd7c0289d20b8dfa772795d59e1a6b282decd9e\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQS8zUDVFWnMzdEMyTldKUUJBTW9yemExT2h3VlRxL2N2VEZENVViUWpHTTQ9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"27f8fdf8ef71d300b88b757f0d70b3e85bcc50d5d797f5ef661a656d28c2713f\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"27f8fdf8ef71d300b88b757f0d70b3e85bcc50d5d797f5ef661a656d28c2713f\": {\n      \"keyid\": \"27f8fdf8ef71d300b88b757f0d70b3e85bcc50d5d797f5ef661a656d28c2713f\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWx3aUR2RGEzTTc5RThvb0pYWTVJdEY0NGNUaDVheGNBVXQ4cCtqaVVTbFE9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"90b7b866a88ed8d2ed19b34a4ad232f07e0c0b7c3a51be654575dd1af42c2dbb\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"90b7b866a88ed8d2ed19b34a4ad232f07e0c0b7c3a51be654575dd1af42c2dbb\": {\n      \"keyid\": \"90b7b866a88ed8d2ed19b34a4ad232f07e0c0b7c3a51be654575dd1af42c2dbb\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVd0SGxyVGxaTzhJMUh4ZVR4U1ZMR1ZWSUszVEl6YW1nQytqdHk4V1hyTzg9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"05c9c023ca6e008e3450cffc18bf54ffd079821064ee5f168a5dc75000baa261\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"05c9c023ca6e008e3450cffc18bf54ffd079821064ee5f168a5dc75000baa261\": {\n      \"keyid\": \"05c9c023ca6e008e3450cffc18bf54ffd079821064ee5f168a5dc75000baa261\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVJSQnptdzZCMkxMR2VueHhaeVhxZ2FPeUs0RjdYRkloNWtqV0VXSUc3T1E9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"e11bf320704f226426aeccc200cba3b6176d92ecf5f6690e17b7432adca8cdbb\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"e11bf320704f226426aeccc200cba3b6176d92ecf5f6690e17b7432adca8cdbb\": {\n      \"keyid\": \"e11bf320704f226426aeccc200cba3b6176d92ecf5f6690e17b7432adca8cdbb\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQSs2OWdyYk9ld3RsSXgwOEF1bGF4STVnMjZPV1lNb3gzTU56YTAvRzBpclk9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"d835c67ae47196314d7b7b67744367b3624d56f1b07125ffe85bd2b52bc45aeb\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"d835c67ae47196314d7b7b67744367b3624d56f1b07125ffe85bd2b52bc45aeb\": {\n      \"keyid\": \"d835c67ae47196314d7b7b67744367b3624d56f1b07125ffe85bd2b52bc45aeb\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUpPMEUzV0R6bUFxaWZCK09QZjJWQmF4Kys3R3A3Q2YxY3V4dFNkY0hWSjg9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"d7326c18665542a803fb3a4fe01553062ed61638940f7ea454611216e19123a9\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"d7326c18665542a803fb3a4fe01553062ed61638940f7ea454611216e19123a9\": {\n      \"keyid\": \"d7326c18665542a803fb3a4fe01553062ed61638940f7ea454611216e19123a9\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVlCWTBZVXhsUXRvZnZpTzIyZ1pjK0Q5ZFcrdU9NU3VQWC9jRHhBcmJQd1E9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"21e47887b3605e17c1e4f6ca067de170b67fbdfa1880c80d8f9ac5edc405f567\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"21e47887b3605e17c1e4f6ca067de170b67fbdfa1880c80d8f9ac5edc405f567\": {\n      \"keyid\": \"21e47887b3605e17c1e4f6ca067de170b67fbdfa1880c80d8f9ac5edc405f567\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTJidlpHa0JFVjYvMFpsZ0cydDNvK1VLODJxdHhMQ2U1cVhjYnpmbXdvTXM9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"69bb5eac1464ae09fdf4c6232df00e13c9d3e02a74b2296390e9f926d8b93490\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"69bb5eac1464ae09fdf4c6232df00e13c9d3e02a74b2296390e9f926d8b93490\": {\n      \"keyid\": \"69bb5eac1464ae09fdf4c6232df00e13c9d3e02a74b2296390e9f926d8b93490\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQURNVUxieW94RFYzNVhibG10Z3c0OTVsZGhuamNKNGxVN1RFSnZPYm56RlU9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"fac8ea8a46b927dd25af5f1dc287797d9dbfdec00fd003c9f61f5b94dda0f71e\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"fac8ea8a46b927dd25af5f1dc287797d9dbfdec00fd003c9f61f5b94dda0f71e\": {\n      \"keyid\": \"fac8ea8a46b927dd25af5f1dc287797d9dbfdec00fd003c9f61f5b94dda0f71e\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQU8reFgwQTczWjM2Vyt3eTlmZ2RHSlBwKzVmaFJaaDdNMEtCamhQc1BhdFE9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"992fc31ba2e0bed846f3af29942c1d464b602de4c36bd9ca6fc00bf5da2c0845\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"992fc31ba2e0bed846f3af29942c1d464b602de4c36bd9ca6fc00bf5da2c0845\": {\n      \"keyid\": \"992fc31ba2e0bed846f3af29942c1d464b602de4c36bd9ca6fc00bf5da2c0845\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUVJc1lKTVM3QlpQOHFsRnkxQmthUGVTK3Q1azlNYzlBSDRhcTVXcmJNdzg9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"caabdbf6d6656bef733a0e3b0e4d7810dbd6c504e78ab79ece62af8900bac648\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"caabdbf6d6656bef733a0e3b0e4d7810dbd6c504e78ab79ece62af8900bac648\": {\n      \"keyid\": \"caabdbf6d6656bef733a0e3b0e4d7810dbd6c504e78ab79ece62af8900bac648\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXpNellnUjNqQzJOWXhPMXRSV0VTblI5Umg4bmEyQitRWFJ2NTQ0K2hDNWs9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"c315dd57ebea2259dbf601355fdeee3f01b3dbb9308fba3e4363e8bc9038ad84\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"c315dd57ebea2259dbf601355fdeee3f01b3dbb9308fba3e4363e8bc9038ad84\": {\n      \"keyid\": \"c315dd57ebea2259dbf601355fdeee3f01b3dbb9308fba3e4363e8bc9038ad84\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUM1OW93OTJzZGVEakI4RzJLbzBsUk8rUGpQV1duTm5NR0srMXB6MUZVVXM9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"0ae77d1983a8bf8980bddf87f6cf2302789f0bbf8b34559fe467af29a250124a\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"0ae77d1983a8bf8980bddf87f6cf2302789f0bbf8b34559fe467af29a250124a\": {\n      \"keyid\": \"0ae77d1983a8bf8980bddf87f6cf2302789f0bbf8b34559fe467af29a250124a\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQW56YUk5b2pMMjhjc2NlTWNLNTN5VnlXdVhWY2dNSHhranFmcHJXSlpVTU09Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"72ebc184f7366ca4ec8a884675d4b8d29b499590396c083a627411ea7c30b735\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"72ebc184f7366ca4ec8a884675d4b8d29b499590396c083a627411ea7c30b735\": {\n      \"keyid\": \"72ebc184f7366ca4ec8a884675d4b8d29b499590396c083a627411ea7c30b735\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUJCUHE2QTFJWmVldkdNM05PVlhGWEFaOXpuZXJMYW5kUzgvS2xnSHc0ZzA9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"e1410e9d00ea0850870a9c097bef91df6a9a39420f1b8cdc8cbe3e1f1da5e55e\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"e1410e9d00ea0850870a9c097bef91df6a9a39420f1b8cdc8cbe3e1f1da5e55e\": {\n      \"keyid\": \"e1410e9d00ea0850870a9c097bef91df6a9a39420f1b8cdc8cbe3e1f1da5e55e\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVNXWXpGU3drMnl1bGVML2d4MUxZbk9oUnpKcmxsTjlZYkQyL1B6OGZjdW89Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"c74bed79a6fff2e0ab1be3ff6abe57f5c9d8bc90871d5c665d728587eeb2080b\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"c74bed79a6fff2e0ab1be3ff6abe57f5c9d8bc90871d5c665d728587eeb2080b\": {\n      \"keyid\": \"c74bed79a6fff2e0ab1be3ff6abe57f5c9d8bc90871d5c665d728587eeb2080b\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWNHc3YvTElNL1ljazNnL3RSaDJuV21nRSthVTE0YzI0T1pEUVBtQTI4NTQ9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"0d8f8db2cbcd1764d83704599820048276c3e6f8f290806015eee26d024d2971\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"0d8f8db2cbcd1764d83704599820048276c3e6f8f290806015eee26d024d2971\": {\n      \"keyid\": \"0d8f8db2cbcd1764d83704599820048276c3e6f8f290806015eee26d024d2971\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWwwSkwvNzVTa0t0cE5CVFNEeDRlbzNES1JmTVhyU0YxcHRaRmJ1eUxYdWs9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"5937e2c790dfaf4998b131e5041f444c5bd644c46cb3d3bdf385b6d550704677\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"5937e2c790dfaf4998b131e5041f444c5bd644c46cb3d3bdf385b6d550704677\": {\n      \"keyid\": \"5937e2c790dfaf4998b131e5041f444c5bd644c46cb3d3bdf385b6d550704677\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTQ2c0hjWFY3d21oalRQZXVWNWJkOUdpL1k2WlZEQ0pOTnVqTVY2WTVIWVE9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"b5ecedb67d20207f122c09ac9bde272916b23c9c0139ff7baa2b1d4bb147de0a\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"b5ecedb67d20207f122c09ac9bde272916b23c9c0139ff7baa2b1d4bb147de0a\": {\n      \"keyid\": \"b5ecedb67d20207f122c09ac9bde272916b23c9c0139ff7baa2b1d4bb147de0a\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUtwR3NlYWIzb3NIT1VvWlhKRnFtQzNnTmFPaDROVDhxZlcyRWovK0wrbVE9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"74fc415366b7ccc42930e0495ccc0fa827b0b11bc6578678eaee68b6678056eb\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"74fc415366b7ccc42930e0495ccc0fa827b0b11bc6578678eaee68b6678056eb\": {\n      \"keyid\": \"74fc415366b7ccc42930e0495ccc0fa827b0b11bc6578678eaee68b6678056eb\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQStzdm0yeDFVbTV6VHlnK0ZIT0Z1eEQrdytoMHVmUU1jQ1M4T3dhQzdBWm89Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"fc3a3a7899a440b1febb21748e0194d2a8fee026304116f3f22d30821f9c49df\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"fc3a3a7899a440b1febb21748e0194d2a8fee026304116f3f22d30821f9c49df\": {\n      \"keyid\": \"fc3a3a7899a440b1febb21748e0194d2a8fee026304116f3f22d30821f9c49df\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXhzZldIQ25mSzRrSXM5dTdRTCtaTW1EeThWMkhMS2xTbkkrVGdVdjYxMWs9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"cec9cad9440e43f53aa35c4c63a01968efd9d772330bbd2c9e7ab54b16fbb23b\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"cec9cad9440e43f53aa35c4c63a01968efd9d772330bbd2c9e7ab54b16fbb23b\": {\n      \"keyid\": \"cec9cad9440e43f53aa35c4c63a01968efd9d772330bbd2c9e7ab54b16fbb23b\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUE2b0NvdndoeVpaMktQZXkxM0htd2pZUEU2dWJwN2pFL2dxSG1JclNZS0E9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"30cce28a6531d051d7e24895dc8acc8bd58172715a3b29326f5394a76f7feb04\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"30cce28a6531d051d7e24895dc8acc8bd58172715a3b29326f5394a76f7feb04\": {\n      \"keyid\": \"30cce28a6531d051d7e24895dc8acc8bd58172715a3b29326f5394a76f7feb04\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWR6SGF6aGhCUW44cFNRM0lid0l6NnFhWlcvb3BjMHVnb2RwOFhmZmJYdzA9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"9ee9f95cb0a4435ac6de647fc8af3c6e26c25ce01d1b5a65efd9cde88edd349a\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"9ee9f95cb0a4435ac6de647fc8af3c6e26c25ce01d1b5a65efd9cde88edd349a\": {\n      \"keyid\": \"9ee9f95cb0a4435ac6de647fc8af3c6e26c25ce01d1b5a65efd9cde88edd349a\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWxxRzg2Sm1WYVRVOGFCVyt0YmhzY2htYzd0WTZ2bEViYUpSVmlIWVAxelU9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"47278742480f64b5e6f1a44582f31fbef8906f8bb6d6b98095172bc9eb66c695\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"47278742480f64b5e6f1a44582f31fbef8906f8bb6d6b98095172bc9eb66c695\": {\n      \"keyid\": \"47278742480f64b5e6f1a44582f31fbef8906f8bb6d6b98095172bc9eb66c695\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTNjeHUxeDZsOFRmcTVtVnRmZS9ibjdQTUhFdG82RGpURVNtcnA2RktHTXc9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"10ab79834fe818d6c4df1526a0d75004d171903e06aef8de6707eb9761e1e699\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"10ab79834fe818d6c4df1526a0d75004d171903e06aef8de6707eb9761e1e699\": {\n      \"keyid\": \"10ab79834fe818d6c4df1526a0d75004d171903e06aef8de6707eb9761e1e699\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVMzNFUrREZEMGJ0MlpoS09JWlYvN2ZjTUwxbTdvYmt5NG1FNE5YZUNCdEk9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"1810e1abbd3cd1df16aeede9f06fd0422948c41e1192531099db17af17b557b7\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"1810e1abbd3cd1df16aeede9f06fd0422948c41e1192531099db17af17b557b7\": {\n      \"keyid\": \"1810e1abbd3cd1df16aeede9f06fd0422948c41e1192531099db17af17b557b7\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVNPaVRNSGltRTJVTE1BbVdkMUlKQXVNY1lVcUJoSjFDYytXMmVjZ3E2UWM9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"bf2fa6a2fd7206d0e55367f8ad6b117de388d5f2d607009a0658e78f535d3e72\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"bf2fa6a2fd7206d0e55367f8ad6b117de388d5f2d607009a0658e78f535d3e72\": {\n      \"keyid\": \"bf2fa6a2fd7206d0e55367f8ad6b117de388d5f2d607009a0658e78f535d3e72\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUptS2ZqcEJtZWRhUzdLMER2T1RNUGE5ZkZrLzRVQWtZRHNYeGcwanQ5cUE9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"ab45d27e8695f19c156f99af649bb2a7f487c7d127219d1cfc69d3dc74bdcea5\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"ab45d27e8695f19c156f99af649bb2a7f487c7d127219d1cfc69d3dc74bdcea5\": {\n      \"keyid\": \"ab45d27e8695f19c156f99af649bb2a7f487c7d127219d1cfc69d3dc74bdcea5\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQU5CQU5TcHdhdlc0enRLT0htRzJIcHZta2hIOXFOa1NPa0JsZ2xIcXNzdUU9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"d69b6e8fe70e7ada293a0fbfee5dd5925b879c5ef691d70b3b8b0694059b43f4\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"d69b6e8fe70e7ada293a0fbfee5dd5925b879c5ef691d70b3b8b0694059b43f4\": {\n      \"keyid\": \"d69b6e8fe70e7ada293a0fbfee5dd5925b879c5ef691d70b3b8b0694059b43f4\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXJsTnpUS1NzeGl1MUI3M0k3WlJGQUhxeWU1M0pLM1NDanNkQ0QyWGl1Zm89Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"7793cc536bc86e91bffebc480abc03cf8af71a523003a67bed4fb83d6ef60dc2\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"7793cc536bc86e91bffebc480abc03cf8af71a523003a67bed4fb83d6ef60dc2\": {\n      \"keyid\": \"7793cc536bc86e91bffebc480abc03cf8af71a523003a67bed4fb83d6ef60dc2\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVhURXppMjQ1QUh2dlpIU1VZUDBDcnNTYUdHNmJUTU9IMzNXRkl6dU1ZWkU9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"69acccce27e6a732bd09ba6214f01d6999e9fe7469fb4a7a328c490210899b9b\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"69acccce27e6a732bd09ba6214f01d6999e9fe7469fb4a7a328c490210899b9b\": {\n      \"keyid\": \"69acccce27e6a732bd09ba6214f01d6999e9fe7469fb4a7a328c490210899b9b\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQW9HV1VSK00zOEhnSi9IQWtRVHhWREZqSjM4eDkwZHZwTEpIVng4UW9rdTQ9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"71aefae3068ce2c8522e4d5e1eca0eee85f32cbd550587b3d2ac6060413534db\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"71aefae3068ce2c8522e4d5e1eca0eee85f32cbd550587b3d2ac6060413534db\": {\n      \"keyid\": \"71aefae3068ce2c8522e4d5e1eca0eee85f32cbd550587b3d2ac6060413534db\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUdJeEVTMS8vT1V2NFg1MldmUjVpdzZXSThYUzRtL0dlVVJDZDF2empralk9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"7e9d902917ec3af2bef926729ab345483d305fac7983256d72d0048ddc2dfd47\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"7e9d902917ec3af2bef926729ab345483d305fac7983256d72d0048ddc2dfd47\": {\n      \"keyid\": \"7e9d902917ec3af2bef926729ab345483d305fac7983256d72d0048ddc2dfd47\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWVyUHdxME5adnRrblRwSXdYekRhamFrUElYMURCSlJ1S1RTOFFoTjZ2K2s9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"2113cb678a1ca285ab613ed209d5e291e10f48b6c70f01e051783667f0721f39\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"2113cb678a1ca285ab613ed209d5e291e10f48b6c70f01e051783667f0721f39\": {\n      \"keyid\": \"2113cb678a1ca285ab613ed209d5e291e10f48b6c70f01e051783667f0721f39\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWQ2YUhQTzl3MDdvSzdNYkQyc0U4YnVDTEpmcU5xOXdNbUx0eENoWU9UWlE9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"90488e14c1ef96a08ccb06fe9cd10dfa33db024d396bddeab4674d3008a04498\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"90488e14c1ef96a08ccb06fe9cd10dfa33db024d396bddeab4674d3008a04498\": {\n      \"keyid\": \"90488e14c1ef96a08ccb06fe9cd10dfa33db024d396bddeab4674d3008a04498\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVpqVmVGOWVEaUszZ2F2aGVyTnVxekN1SUFFQUpRakxFMnpYNE4rRGlXZzg9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"fe3aa55f4a08581d957e185f4aa0a6dd53790effa313b0192b1e6845eacf1333\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"fe3aa55f4a08581d957e185f4aa0a6dd53790effa313b0192b1e6845eacf1333\": {\n      \"keyid\": \"fe3aa55f4a08581d957e185f4aa0a6dd53790effa313b0192b1e6845eacf1333\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWJzZ28yd0dBWXQrMklER1VDN0lhZmVFbEY3TmlycnlOcnV5Y0MrdzB2dkE9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"c4fe8939a9316a691b2792dda83a1c7c7a6be2660913b852e9a3b31d7534c656\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"c4fe8939a9316a691b2792dda83a1c7c7a6be2660913b852e9a3b31d7534c656\": {\n      \"keyid\": \"c4fe8939a9316a691b2792dda83a1c7c7a6be2660913b852e9a3b31d7534c656\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWRhbmY1MXdpbVgwaHBiemV0K3RXZjZCM2JaMHZhMHRwS2ErMGtrellVNE09Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"42efd3ee34ef6edf656be961da1b00712ac33c9320427dbecd7ff528ce31fc8d\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"42efd3ee34ef6edf656be961da1b00712ac33c9320427dbecd7ff528ce31fc8d\": {\n      \"keyid\": \"42efd3ee34ef6edf656be961da1b00712ac33c9320427dbecd7ff528ce31fc8d\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTAxaWp4YjFnMGVXNmJ4T1pYbWJqUlVnRGt2ZFpnenVkTUREWlAwM1FvSDQ9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"a4fa2e7934c3cf13e5b1b8da1a1ae86b2cd80a47fa365af30ffb7a4de3222894\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"a4fa2e7934c3cf13e5b1b8da1a1ae86b2cd80a47fa365af30ffb7a4de3222894\": {\n      \"keyid\": \"a4fa2e7934c3cf13e5b1b8da1a1ae86b2cd80a47fa365af30ffb7a4de3222894\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTdaZkI3d2N6NWQ5Zng0SUZmMVRhRDRCMGk2MkVpMldHTW16cVZ3Q2toQnM9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"ebdeb0ccb5fa2af53e0d1c6ed2fd612ab8c8113761e9ffc2057ca21468baa3aa\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"ebdeb0ccb5fa2af53e0d1c6ed2fd612ab8c8113761e9ffc2057ca21468baa3aa\": {\n      \"keyid\": \"ebdeb0ccb5fa2af53e0d1c6ed2fd612ab8c8113761e9ffc2057ca21468baa3aa\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTZET0RCbFE5dVZZNmNtN1R1V2h2UkcrMGZLUUw1Z2xtNWlzREpWeWpyOGs9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"d38f4dd6928fd20ba0d55064b266143b9787676f07e00f6dc5e63fe9f2bb3dc6\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"d38f4dd6928fd20ba0d55064b266143b9787676f07e00f6dc5e63fe9f2bb3dc6\": {\n      \"keyid\": \"d38f4dd6928fd20ba0d55064b266143b9787676f07e00f6dc5e63fe9f2bb3dc6\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXpiYkFKcGlXY2FLa1FXQUhPMlVwSkpCVEQxemZQY2FNTVhsWHhobVZmZm89Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"cb01fbdd67789a79003aae52b8ee82472ec82ea87fec1fffec96991f371b0b72\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"cb01fbdd67789a79003aae52b8ee82472ec82ea87fec1fffec96991f371b0b72\": {\n      \"keyid\": \"cb01fbdd67789a79003aae52b8ee82472ec82ea87fec1fffec96991f371b0b72\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWZ0MlhORjRVdzkxSFNuZ0hWQ2NwYmJzTmhsVlAwcHhUbzRnOFJCek4wLzg9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"b79c5edd41c092be09db508bbcb7842e2f053c39e97cf2be625efe4748bb8476\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"b79c5edd41c092be09db508bbcb7842e2f053c39e97cf2be625efe4748bb8476\": {\n      \"keyid\": \"b79c5edd41c092be09db508bbcb7842e2f053c39e97cf2be625efe4748bb8476\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQU9CN3I4S05ibUFRRjJOUldIY2lBQUVnanhoOHNiWTAyc0VPZXBRREdHZGc9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"fe7757f69b269195c5913f9be2f0000e833fe1ea5dbf91e0796ee75a7b93237e\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"fe7757f69b269195c5913f9be2f0000e833fe1ea5dbf91e0796ee75a7b93237e\": {\n      \"keyid\": \"fe7757f69b269195c5913f9be2f0000e833fe1ea5dbf91e0796ee75a7b93237e\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVhqdHNsVHRwektMelhMdTRPbmZRY1llalNON1g1UEdzbXRaZnJZNjhZbVU9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"f0b03b0bd28ff1a69fe5a4f9424869483ec1a17b96d95ae11855265ab12fb233\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"f0b03b0bd28ff1a69fe5a4f9424869483ec1a17b96d95ae11855265ab12fb233\": {\n      \"keyid\": \"f0b03b0bd28ff1a69fe5a4f9424869483ec1a17b96d95ae11855265ab12fb233\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQU1sakhXMCtlU3hwaXZLamdzaXplb29zb0YvTkwvYnY3N0R6TUhyYzd5YVk9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"456f574b06a09baa6f8d765d6d6645206b6bbccf99f09764b754e00c418b82e5\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"456f574b06a09baa6f8d765d6d6645206b6bbccf99f09764b754e00c418b82e5\": {\n      \"keyid\": \"456f574b06a09baa6f8d765d6d6645206b6bbccf99f09764b754e00c418b82e5\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTBzbXFNM2tSNGY1K3pZTDA0QUF3bGdpNVk4UkUzSm0rTUVWNExBMkZ2SkU9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"1a758ba52965eaebe24018fb5a2f6a6f1b038e3c6f6091c6a5649d70da05d67b\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"1a758ba52965eaebe24018fb5a2f6a6f1b038e3c6f6091c6a5649d70da05d67b\": {\n      \"keyid\": \"1a758ba52965eaebe24018fb5a2f6a6f1b038e3c6f6091c6a5649d70da05d67b\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQW81VFZCVyt4eXM1SVhNN0FYbGU5dDFkNDRKWWhRZ1RQR0traEtyQmxkUWc9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"d3fd08c7ed117ae853821753da0e6a203b9c3c83dd2c6592a89451881684f412\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"d3fd08c7ed117ae853821753da0e6a203b9c3c83dd2c6592a89451881684f412\": {\n      \"keyid\": \"d3fd08c7ed117ae853821753da0e6a203b9c3c83dd2c6592a89451881684f412\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQW10emFNU2dIeEV3Q1ZLQlBtVTZIa2pMbjZEampoZFZNK1pPMjVRT21qWUE9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"b8f7b80a590a5c6189eec17fb395827dbc705ab976f59a8f6d81429543f48290\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"b8f7b80a590a5c6189eec17fb395827dbc705ab976f59a8f6d81429543f48290\": {\n      \"keyid\": \"b8f7b80a590a5c6189eec17fb395827dbc705ab976f59a8f6d81429543f48290\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQW1ORXFMUWRjTU0zWnB1bnBXN3JIRFJsdm5zS2FYbWlQR0ROR3ROSElLQVE9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"eda92cd9b80556e29b5eed5906c2e297fd2585b87e67171c48dbe53eafdb6830\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"eda92cd9b80556e29b5eed5906c2e297fd2585b87e67171c48dbe53eafdb6830\": {\n      \"keyid\": \"eda92cd9b80556e29b5eed5906c2e297fd2585b87e67171c48dbe53eafdb6830\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVhKZ0U1alRGcWdwVHhWYmhwQXdHbGM1UWpmdGtOcnpJR254Skp3dHRkT0k9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"06c5386a6317608645898cbb7c0a97e688665829725ed38b0a55a545492f7d4d\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"06c5386a6317608645898cbb7c0a97e688665829725ed38b0a55a545492f7d4d\": {\n      \"keyid\": \"06c5386a6317608645898cbb7c0a97e688665829725ed38b0a55a545492f7d4d\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUkxZk5GQ1c5SVNsNEN5MGhlWHdPenVJMklXSzNzS0oxSFE3NHE3bHkxaVk9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"3337e691d0e7706d298ca9d68e35590221ffdea4b85802b1b215e045a31614ea\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"3337e691d0e7706d298ca9d68e35590221ffdea4b85802b1b215e045a31614ea\": {\n      \"keyid\": \"3337e691d0e7706d298ca9d68e35590221ffdea4b85802b1b215e045a31614ea\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQW5uSzlHWGdqdXMxVzhNTFBZUEYrckNqcVV3SDd2eWsxSWM5Q1N2c2hISW89Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"595eaeeeaa3ea4e6eb8e07a855c7334fe9a19a81fa77216982b69c185d8767b9\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"595eaeeeaa3ea4e6eb8e07a855c7334fe9a19a81fa77216982b69c185d8767b9\": {\n      \"keyid\": \"595eaeeeaa3ea4e6eb8e07a855c7334fe9a19a81fa77216982b69c185d8767b9\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXJGM1A3RHFldTJleU5vV2tlUUFzNGpHeTNGbFR5cGJTeDA3RVlpeFE1WDQ9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"7a1b0a960c2213d2fea9084c993e87858f4b02080c878f056b081959e2d31181\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"7a1b0a960c2213d2fea9084c993e87858f4b02080c878f056b081959e2d31181\": {\n      \"keyid\": \"7a1b0a960c2213d2fea9084c993e87858f4b02080c878f056b081959e2d31181\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXhtTTRFR2N5Z0pPRCsxS0sxaXBHMExDRmVlUHVqbjI1ZWJlbnp5VU9UV2M9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"010b4cb054b8714aa5037872b297064151aeaa03a1f7a33aa5528041974c31ee\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"010b4cb054b8714aa5037872b297064151aeaa03a1f7a33aa5528041974c31ee\": {\n      \"keyid\": \"010b4cb054b8714aa5037872b297064151aeaa03a1f7a33aa5528041974c31ee\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUNXOVRFeWpxMkQxU3ZNRmIrVzJXTzkwekprS29pQmRMb2F4cFRrc3YwWVU9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"bcc7555419eebe9ad03e118f39684309545ff98d7da714faa4ecb3d89bd8267e\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"bcc7555419eebe9ad03e118f39684309545ff98d7da714faa4ecb3d89bd8267e\": {\n      \"keyid\": \"bcc7555419eebe9ad03e118f39684309545ff98d7da714faa4ecb3d89bd8267e\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVVkN2NtcVo4U0pyWm5TSGtqQmh2ZXRoUC9pa2pXK21rd0JrRm5FUTlldlE9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"0b20deae7fe4bf949494d13417cddda9967a4ae2c53c34c5750a88b30430933f\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"0b20deae7fe4bf949494d13417cddda9967a4ae2c53c34c5750a88b30430933f\": {\n      \"keyid\": \"0b20deae7fe4bf949494d13417cddda9967a4ae2c53c34c5750a88b30430933f\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWtFSmlvSXFpYVpwYS9DUVlPTFBUSWltbTFNSVVoV05GSzlLMnRPKzJQb2c9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"0aba5eeed149f7233a23024ec89037fc16df042cdfe179fafecef2a6e5e5b3da\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"0aba5eeed149f7233a23024ec89037fc16df042cdfe179fafecef2a6e5e5b3da\": {\n      \"keyid\": \"0aba5eeed149f7233a23024ec89037fc16df042cdfe179fafecef2a6e5e5b3da\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXlrTjIzelVQTmMrdSswdndQTzFrUURRbUtjK0IxSFhwNkk4RlBpRjFVODA9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"79cdc1ddfc8ccad5ad4a71cd6b39652e82c96cd97b1ad26050caa1c5567836e8\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"79cdc1ddfc8ccad5ad4a71cd6b39652e82c96cd97b1ad26050caa1c5567836e8\": {\n      \"keyid\": \"79cdc1ddfc8ccad5ad4a71cd6b39652e82c96cd97b1ad26050caa1c5567836e8\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVgvYThxREhWNTN2Mk1lQWNyVHc5Z25iMjQ3VFBsVXJPd3NSNjJzdXU2UUE9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"e9914c834d2356db3294d19790ddbb9511811353ac2378eafe3ef8910f724410\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"e9914c834d2356db3294d19790ddbb9511811353ac2378eafe3ef8910f724410\": {\n      \"keyid\": \"e9914c834d2356db3294d19790ddbb9511811353ac2378eafe3ef8910f724410\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTI2bUZTUEVEZUovVFZUamxkT3AwRVcyZXloY1lZVEtrNnhlNTJmdTRTVEE9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"71136bd93da65c753a0a4dfbb94afd82e126e6a6490d398e2e8af1f2b0c2c9ce\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"71136bd93da65c753a0a4dfbb94afd82e126e6a6490d398e2e8af1f2b0c2c9ce\": {\n      \"keyid\": \"71136bd93da65c753a0a4dfbb94afd82e126e6a6490d398e2e8af1f2b0c2c9ce\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWxNOGhpRjZlOXZqY1J2QjdvUkk2T3BnMytMelJzSHZnZjNVTmdNZTBtREU9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"baa036e01c3ce5822374070a7e461cebcb0977bf8b5526e4326c75b910c91121\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"baa036e01c3ce5822374070a7e461cebcb0977bf8b5526e4326c75b910c91121\": {\n      \"keyid\": \"baa036e01c3ce5822374070a7e461cebcb0977bf8b5526e4326c75b910c91121\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVlySnU1RmVJNjhveURybkVHZEVnVW9CaUhtUm10NUpYRU5lSFhuTERsWEU9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"b85927b09fd072c933fc264f3d3d7c5f8f536919a380727d3404f1b2574419cc\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"b85927b09fd072c933fc264f3d3d7c5f8f536919a380727d3404f1b2574419cc\": {\n      \"keyid\": \"b85927b09fd072c933fc264f3d3d7c5f8f536919a380727d3404f1b2574419cc\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXZHVWJJVmU0WmtDSTJWV2NkblVoajdlb2xVRVB6YjZFVi9vSmFRR0FOTmc9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"9754be393dc232335644fde6f3d7f0cd29276e0e213b48a9c7cda5a010157304\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"9754be393dc232335644fde6f3d7f0cd29276e0e213b48a9c7cda5a010157304\": {\n      \"keyid\": \"9754be393dc232335644fde6f3d7f0cd29276e0e213b48a9c7cda5a010157304\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUhJcWhxSTZOZ1pjSG1lckpjSEpPYnpqTXhpOHJyRElHNHZ6SlYyT3JRNlk9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"919d4c352498494656cbc8e7e783c701eb0b87796e18a508cb6dac8bf2db1146\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"919d4c352498494656cbc8e7e783c701eb0b87796e18a508cb6dac8bf2db1146\": {\n      \"keyid\": \"919d4c352498494656cbc8e7e783c701eb0b87796e18a508cb6dac8bf2db1146\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQW1iSHVXVnc4Q1lPVmsxQ2N6dm45RFNFbnlLSDhPUzcvazBzcU9pbmoveFE9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"199d1ab64c3f2adf236443704f2805add0b3a09d0100fd795c789c010bffe26e\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"199d1ab64c3f2adf236443704f2805add0b3a09d0100fd795c789c010bffe26e\": {\n      \"keyid\": \"199d1ab64c3f2adf236443704f2805add0b3a09d0100fd795c789c010bffe26e\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWV2bFJPOThFVEJIN2g5WmZ5Qm9NVktyZHhWUzZIK3ZTbzhOYmJxSC9BSDQ9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"51b82e5183b58389d359548dbdc640f99ac9487d94096b040493f1162d590da9\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"51b82e5183b58389d359548dbdc640f99ac9487d94096b040493f1162d590da9\": {\n      \"keyid\": \"51b82e5183b58389d359548dbdc640f99ac9487d94096b040493f1162d590da9\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVN3SDlEUEE2bmdaajRzSlFlT3pFTzlDb3UrOGFLWlRXSW5KVXpSTUptbTQ9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"c54c027d85e122a275cae93cd982715da08e90650a54c1d4c80d27c15ff00d9e\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"c54c027d85e122a275cae93cd982715da08e90650a54c1d4c80d27c15ff00d9e\": {\n      \"keyid\": \"c54c027d85e122a275cae93cd982715da08e90650a54c1d4c80d27c15ff00d9e\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVdpQ0dKR1JrdDIvcUNsaE9YcWNkUU51ak9ZTElKV2kvUFYxWHhOdWx4QXc9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"ea4ad57047286d0ff2211a008cd1c0363c2bb3e01e5d50f4a9f77360de7c0dd1\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"ea4ad57047286d0ff2211a008cd1c0363c2bb3e01e5d50f4a9f77360de7c0dd1\": {\n      \"keyid\": \"ea4ad57047286d0ff2211a008cd1c0363c2bb3e01e5d50f4a9f77360de7c0dd1\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUZma1hXaWlVZTYzR2dtYkNrYlRrdm1LelZZTVZobmI4VGsvMDFvOWJ3SkE9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"aefd1fa152814022ae36bb86fe6f2cdc6b261a03b2aede71b2c15399a9f4c820\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"aefd1fa152814022ae36bb86fe6f2cdc6b261a03b2aede71b2c15399a9f4c820\": {\n      \"keyid\": \"aefd1fa152814022ae36bb86fe6f2cdc6b261a03b2aede71b2c15399a9f4c820\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUtSTHdPSnFwRENzTHFxTHJHZ1pVVk8xcURjclJRMEk3TFlCSEllbDI2em89Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"7cc3f8b11006d814c4eb91cd53df33dd15e2526c8599d981cbdce52e43342ea6\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"7cc3f8b11006d814c4eb91cd53df33dd15e2526c8599d981cbdce52e43342ea6\": {\n      \"keyid\": \"7cc3f8b11006d814c4eb91cd53df33dd15e2526c8599d981cbdce52e43342ea6\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUJHdXZ2VXE1eGZJVVNBcjRoK0JUVEd5bnlnaThsRThPWnV4YlBNVE5uQVU9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"1afa0c97a4394db84a4a049ba44d8d152108f083727b50032609b923c0367a67\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"1afa0c97a4394db84a4a049ba44d8d152108f083727b50032609b923c0367a67\": {\n      \"keyid\": \"1afa0c97a4394db84a4a049ba44d8d152108f083727b50032609b923c0367a67\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVdGMXBpdXVpZlVRUHp1RmRxcnBBdXdmU3Bub3ZhYy9xWURKbUlTcitNb3c9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"4b198cad0ec54e56592e41287e2e36ffc794e3328db10588c26fbc5803a239a1\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"4b198cad0ec54e56592e41287e2e36ffc794e3328db10588c26fbc5803a239a1\": {\n      \"keyid\": \"4b198cad0ec54e56592e41287e2e36ffc794e3328db10588c26fbc5803a239a1\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTY1bVM5UmVFT2JLdGpTTlZmODI2VmI3R2lQR3A2bUhsSGN0Y2VoUHlSM2c9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"cb62e6b2f724fb89fc01dc4b48702955fbe7822c5ab63d80030f29d814435523\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"cb62e6b2f724fb89fc01dc4b48702955fbe7822c5ab63d80030f29d814435523\": {\n      \"keyid\": \"cb62e6b2f724fb89fc01dc4b48702955fbe7822c5ab63d80030f29d814435523\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWd3RkVkR0ZQWkFoYmcwQzBSRDMxb095WmthcUpuNjlMRnZpV1JscXVOeVU9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"ad87a73b529a6e58a2b792d45bfcd4ddc157883fc6a64800fe4cceeeb09764b4\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"ad87a73b529a6e58a2b792d45bfcd4ddc157883fc6a64800fe4cceeeb09764b4\": {\n      \"keyid\": \"ad87a73b529a6e58a2b792d45bfcd4ddc157883fc6a64800fe4cceeeb09764b4\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUhlNDErK1doS1JBd3BBaWFyUFBEYmtWeHAyaFVHVjlXM29HMTZDdFNiaG89Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"be03088721f1f34e37c1ff7b8e26ee8128f202dba900fd9b1ebd71b1c64449c5\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"be03088721f1f34e37c1ff7b8e26ee8128f202dba900fd9b1ebd71b1c64449c5\": {\n      \"keyid\": \"be03088721f1f34e37c1ff7b8e26ee8128f202dba900fd9b1ebd71b1c64449c5\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWVpWEFEMVE0QncrL3g1d3lIOXArUU5IZlQ3ZU1UZ1lyWGhYL2RobHVNUjg9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"9e83f166cec1ac8da140c2522f9c55fccd20a9a1dc23ca9bbd5dfa6666501250\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"9e83f166cec1ac8da140c2522f9c55fccd20a9a1dc23ca9bbd5dfa6666501250\": {\n      \"keyid\": \"9e83f166cec1ac8da140c2522f9c55fccd20a9a1dc23ca9bbd5dfa6666501250\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVozTVdoaWV6amNGSE9PdGhKZm1ucjYxcVhwdE9UbW9kZk5wVzYzQUlIMFE9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"f9a3c8c57fd56f7e7ae8ea6e7520b963e7d74eda8054be2223abcae932c9f0df\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"f9a3c8c57fd56f7e7ae8ea6e7520b963e7d74eda8054be2223abcae932c9f0df\": {\n      \"keyid\": \"f9a3c8c57fd56f7e7ae8ea6e7520b963e7d74eda8054be2223abcae932c9f0df\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTZwQkU2OEh4UVZ3YUFyM2pjd01oUXRFd0I1cU1OOXV2Q2xJd0p0eit3c1E9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"18b8521da0b87f612389fadc78ef272a13b8b3500355b3ce0b8103a71bab5f15\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"18b8521da0b87f612389fadc78ef272a13b8b3500355b3ce0b8103a71bab5f15\": {\n      \"keyid\": \"18b8521da0b87f612389fadc78ef272a13b8b3500355b3ce0b8103a71bab5f15\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQW93Q3FQQ21Qei80bUk4TGpqUFcyNzRoekwxZ3h2bmJhZ2xGZmRkUm5ZOEk9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"ed4caca67bb011a43dd744cabf713e9f0166cc674e29680dd90142aecde42441\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"ed4caca67bb011a43dd744cabf713e9f0166cc674e29680dd90142aecde42441\": {\n      \"keyid\": \"ed4caca67bb011a43dd744cabf713e9f0166cc674e29680dd90142aecde42441\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWZqQ2w4VnQ1dW5wK3JRK0lDUVVaWDBESzc5R09jeGcxNjVod0RPUXd6VkU9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"90c0a44e5e31aa00e9368f716329ab56f75458eb2b0b1354d066226c7069af5b\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"90c0a44e5e31aa00e9368f716329ab56f75458eb2b0b1354d066226c7069af5b\": {\n      \"keyid\": \"90c0a44e5e31aa00e9368f716329ab56f75458eb2b0b1354d066226c7069af5b\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQU9PZEpaa0VvZmE2emRJMnFPTEcvUUVPTTFYOXNkR0J5TmlaSGdNMkdnWTA9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"f0b4e829d4d5c6459489906f843b943f3534975c0781c45a63985511422d413e\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"f0b4e829d4d5c6459489906f843b943f3534975c0781c45a63985511422d413e\": {\n      \"keyid\": \"f0b4e829d4d5c6459489906f843b943f3534975c0781c45a63985511422d413e\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVF2eDUvaURHZlBLWFNqbHB6UDlHdjZmRER4SnFtWVgrbitPaVhtWVRjOTA9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"59ba1a0ea3d141fda4380f6f0fbce60119e74892d222c4cc076c5e32ff719998\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"59ba1a0ea3d141fda4380f6f0fbce60119e74892d222c4cc076c5e32ff719998\": {\n      \"keyid\": \"59ba1a0ea3d141fda4380f6f0fbce60119e74892d222c4cc076c5e32ff719998\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVdkVG82bXU3UjZmeHNuK0FnejJqQWxUSEo3RGp4V0R5MFNxNVRuNGNuZUU9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"a0d51fce3a569e77264ac4efb02cc08823c1faa5206cb921a64a85ed55aedc1a\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"a0d51fce3a569e77264ac4efb02cc08823c1faa5206cb921a64a85ed55aedc1a\": {\n      \"keyid\": \"a0d51fce3a569e77264ac4efb02cc08823c1faa5206cb921a64a85ed55aedc1a\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWI4Nm1seml6bzc1RUw5cGlzaXBOWUZHTW94eElXdTFvRE9RcTFva2VxNm89Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"6e4267dfd0ebb31cabcb08a9e11f272d168d271710783d436fe9048fae84dce7\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"6e4267dfd0ebb31cabcb08a9e11f272d168d271710783d436fe9048fae84dce7\": {\n      \"keyid\": \"6e4267dfd0ebb31cabcb08a9e11f272d168d271710783d436fe9048fae84dce7\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXhGNWdsRGlweGpDUTVLMjhCeE9CbHBKYWxKb2lPcVU5QjBXTDFZb3VQdHM9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"6c39dcf47a6abfe040dbe82e4351f0bca69cfc35eba713f23f8257d58b9f8e1b\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"6c39dcf47a6abfe040dbe82e4351f0bca69cfc35eba713f23f8257d58b9f8e1b\": {\n      \"keyid\": \"6c39dcf47a6abfe040dbe82e4351f0bca69cfc35eba713f23f8257d58b9f8e1b\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXhwa0VVTGdFY1pZT1IvNVNNeHp1MnAxVGlDMFFEYytaNHl5OTRpbXk3Sm89Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"648b2ff265d9b2c64edb99f283e6d6b6fa5ba20eb14f39edbcc6f27031aa7fc5\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"648b2ff265d9b2c64edb99f283e6d6b6fa5ba20eb14f39edbcc6f27031aa7fc5\": {\n      \"keyid\": \"648b2ff265d9b2c64edb99f283e6d6b6fa5ba20eb14f39edbcc6f27031aa7fc5\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXV6RktaeVJzMG1lTGo5RFlFcUNJdXNCWlZoWkdTbnlpdDVVTS9wYXV2UUk9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"5a023d52191689dd6cb8c5c61aafc933b71b09abfae4caca712fc5c9360f1e8b\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"5a023d52191689dd6cb8c5c61aafc933b71b09abfae4caca712fc5c9360f1e8b\": {\n      \"keyid\": \"5a023d52191689dd6cb8c5c61aafc933b71b09abfae4caca712fc5c9360f1e8b\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQS9aeFZoUDl6WEpNSnp5OTZkQ0lGTmtQQTA2NEV1Q1hBVlN1TEpHUmRyeDQ9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"c75660533f31994c5b867ff0432a80e20a3765f113e4fcfd1f45c01aed59b8bd\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"c75660533f31994c5b867ff0432a80e20a3765f113e4fcfd1f45c01aed59b8bd\": {\n      \"keyid\": \"c75660533f31994c5b867ff0432a80e20a3765f113e4fcfd1f45c01aed59b8bd\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWhSaXBPNUcyZFFJbVFaUlJlckpvbkZxZlMwSktwa0RHV2FZNzFoK1RZTzQ9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"a6c4d9945736e2a142cfbcb00d8ea37946efec925d326cf03c756809aaf995ea\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"a6c4d9945736e2a142cfbcb00d8ea37946efec925d326cf03c756809aaf995ea\": {\n      \"keyid\": \"a6c4d9945736e2a142cfbcb00d8ea37946efec925d326cf03c756809aaf995ea\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXVieEdycnBVRlZtdFd5YnBEL1ZGSklsN2F6RDBhN09WaDdzN0RyZXhtOUE9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"e749ec176160a73541360deb35fb3efdbadddbf644bc9e90a9f71715d6aec078\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"e749ec176160a73541360deb35fb3efdbadddbf644bc9e90a9f71715d6aec078\": {\n      \"keyid\": \"e749ec176160a73541360deb35fb3efdbadddbf644bc9e90a9f71715d6aec078\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQStXTWlWdzlUK0Zxam0vOXdPQWNCbFF5Z3RBaTlHRWVhZXMxcjlsWnJkZ0k9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"50cbb483e0368fa2a54b3d5bb8ac4f35d09d1fe29a54f493f662a42397cfcaa4\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"50cbb483e0368fa2a54b3d5bb8ac4f35d09d1fe29a54f493f662a42397cfcaa4\": {\n      \"keyid\": \"50cbb483e0368fa2a54b3d5bb8ac4f35d09d1fe29a54f493f662a42397cfcaa4\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUJGSExoaG5RamhkWUdoSVdpSXgxbHpUdFMvaUtVcjdielA4QWhCTE5HeEU9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"80418a932bcd9415530e09168f852a5ef00b315053e1796e42ba058f627bf1d9\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"80418a932bcd9415530e09168f852a5ef00b315053e1796e42ba058f627bf1d9\": {\n      \"keyid\": \"80418a932bcd9415530e09168f852a5ef00b315053e1796e42ba058f627bf1d9\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXZiZWJSWStKQ2k3UkpGcUlDd21IWkc1eHpoN0E1YTZGc0FZdm1MRFRjTzQ9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"34594f3eaf78ed423fa02ff8f5f0bebc7511acc1f87439375af0e2eec61379cd\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"34594f3eaf78ed423fa02ff8f5f0bebc7511acc1f87439375af0e2eec61379cd\": {\n      \"keyid\": \"34594f3eaf78ed423fa02ff8f5f0bebc7511acc1f87439375af0e2eec61379cd\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQW9Ba0lNSm9GalBqU0JHaHNSWXhRNUlvcnVQVThPNGJjOE9LazU2QTl4Nmc9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"4c6c7eb8a029cc7729a92b71755f46ebe0fe62ec74c7e68a69482375e0ea1833\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"4c6c7eb8a029cc7729a92b71755f46ebe0fe62ec74c7e68a69482375e0ea1833\": {\n      \"keyid\": \"4c6c7eb8a029cc7729a92b71755f46ebe0fe62ec74c7e68a69482375e0ea1833\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWxyR2RSN3RXRVROWnpTb0JjWjl6VGlBTTNDbUIyenJhQUQ2cGNaZUNaRHM9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"ec1baa473eb4a47cefa4a4635056bc69909d94a8e75737f2d7de459596c478ed\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"ec1baa473eb4a47cefa4a4635056bc69909d94a8e75737f2d7de459596c478ed\": {\n      \"keyid\": \"ec1baa473eb4a47cefa4a4635056bc69909d94a8e75737f2d7de459596c478ed\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTRXeVdUb2NnMFZydUNGYVdxRkdQUGQ2UDVlb2MvQXlySW5jenBXdlBFRDQ9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"99cd599cf11bf2e138afa3f319321de27c8ae279700b4febabd4af5bf0599c3b\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"99cd599cf11bf2e138afa3f319321de27c8ae279700b4febabd4af5bf0599c3b\": {\n      \"keyid\": \"99cd599cf11bf2e138afa3f319321de27c8ae279700b4febabd4af5bf0599c3b\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVdVWlJ6TXZHN05jT0lEdXdSa2NNRS9hZHovclpETzFnaUJyLzEvNFZlWlk9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"5a4e754c906a979d69518f21cc9e84391248a71450b7ddbdc98f420a03ba7b3a\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"5a4e754c906a979d69518f21cc9e84391248a71450b7ddbdc98f420a03ba7b3a\": {\n      \"keyid\": \"5a4e754c906a979d69518f21cc9e84391248a71450b7ddbdc98f420a03ba7b3a\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVRqZzVaSWJjcFA4c1F1YzkzMUV3M21mUjJGeFZJZEM1dzBMSC9BR3pHTG89Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"bc83e93262a37e6445dccc838d5b7c5a82e9a7d97513de98cd33deedc07893ab\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"bc83e93262a37e6445dccc838d5b7c5a82e9a7d97513de98cd33deedc07893ab\": {\n      \"keyid\": \"bc83e93262a37e6445dccc838d5b7c5a82e9a7d97513de98cd33deedc07893ab\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTlBK0RPREZlWkpSSDgwakk0TklmM3JJNzZZTjMvdXBoOVRqS2NvbmpXVUE9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"1fc12c116e5126d82d2165cddef1fdb6dbb6b8fad38765851b2fa1b7f5820427\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"1fc12c116e5126d82d2165cddef1fdb6dbb6b8fad38765851b2fa1b7f5820427\": {\n      \"keyid\": \"1fc12c116e5126d82d2165cddef1fdb6dbb6b8fad38765851b2fa1b7f5820427\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXgxQmphM2RPRXRpUEZMWFRoN21Ub08wOFQ5V1FsY0FzeFlXaHpXYzFTVzQ9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"2575d8aa59d42f8920af4716b841e7c46cfdbb5f654a9df6640a877bfc4e3174\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"2575d8aa59d42f8920af4716b841e7c46cfdbb5f654a9df6640a877bfc4e3174\": {\n      \"keyid\": \"2575d8aa59d42f8920af4716b841e7c46cfdbb5f654a9df6640a877bfc4e3174\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVVNZHNaSmpXcXFDREp4d1lvdHd4b0ZrTUZlZVpmNldLQnE4UTdpTnZvUlU9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"ee9b17afdd1bdea5770d347e57e317ef727519fab461a67d1ac467b1f4ddc5b0\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"ee9b17afdd1bdea5770d347e57e317ef727519fab461a67d1ac467b1f4ddc5b0\": {\n      \"keyid\": \"ee9b17afdd1bdea5770d347e57e317ef727519fab461a67d1ac467b1f4ddc5b0\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQW44T0JsYkxXaWFINDczNCtJRllkTEFPZjJiQUltYUxIY1hka2U3NUErMjQ9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"ffc04bfe4c4b28fc7dda8813ff00f7431a6db4cb6cf59580d9a6c954c7a19876\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"ffc04bfe4c4b28fc7dda8813ff00f7431a6db4cb6cf59580d9a6c954c7a19876\": {\n      \"keyid\": \"ffc04bfe4c4b28fc7dda8813ff00f7431a6db4cb6cf59580d9a6c954c7a19876\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWRmMTFDMHlVdkxHK1UrYjIzOE9NazJFR2JJMmdvMWEzSm9QbGs1cVl4ZmM9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"8ff2b7f1056dcefecdd6c9f9f9007160bca6e213ab654bae1d9ef0f93b12bd6b\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"8ff2b7f1056dcefecdd6c9f9f9007160bca6e213ab654bae1d9ef0f93b12bd6b\": {\n      \"keyid\": \"8ff2b7f1056dcefecdd6c9f9f9007160bca6e213ab654bae1d9ef0f93b12bd6b\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTJNSEN0MzRXRjlQZ3BsZmhxZmwzYmVXZmxkb3BHUHNmR0c4c29XS2FWNm89Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"f3dacc47e2ea6c2dade56a22adf5f29b06579d6f52e90da8c982759dc7c1dc3f\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"f3dacc47e2ea6c2dade56a22adf5f29b06579d6f52e90da8c982759dc7c1dc3f\": {\n      \"keyid\": \"f3dacc47e2ea6c2dade56a22adf5f29b06579d6f52e90da8c982759dc7c1dc3f\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVRpSmViem1JRHFzMmc0bG8rNWd5RGZoZVFjWGVMVHR3eEtpNEkyMEsyMmM9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"78368096a404e830b71943a65cbda126f1c4c86f8ce8fb1f2bf2103ff6b0058e\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"78368096a404e830b71943a65cbda126f1c4c86f8ce8fb1f2bf2103ff6b0058e\": {\n      \"keyid\": \"78368096a404e830b71943a65cbda126f1c4c86f8ce8fb1f2bf2103ff6b0058e\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXE1M2UyNWlMYnE2TkdwVDcxZ2xEU1RQT3RnSGExT2JHakw3SzdZOEt0S2c9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"061c3471b171bc0197990d36576d32a6319b323e2963e08c1b89d1db0fc92780\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"061c3471b171bc0197990d36576d32a6319b323e2963e08c1b89d1db0fc92780\": {\n      \"keyid\": \"061c3471b171bc0197990d36576d32a6319b323e2963e08c1b89d1db0fc92780\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVhadG9NYTBEekJkTGlqSGRWTlVScHkrRGhpT2JMajZ2OFB2ZVIwamd0YlU9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"2b3d8160e32506bf0ee6f71b508f822720629839bd1df508d0f4f228213692c8\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"2b3d8160e32506bf0ee6f71b508f822720629839bd1df508d0f4f228213692c8\": {\n      \"keyid\": \"2b3d8160e32506bf0ee6f71b508f822720629839bd1df508d0f4f228213692c8\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQStQdEYyNVFHU0pnYVBweSs4MlNtbHQ0c2dqYnBUTmZ1Z1A0SEdLa3Fkdlk9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"bf178c2f486531948912817606025da21132de7cb68a3644fe512f2e51cb87b9\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"bf178c2f486531948912817606025da21132de7cb68a3644fe512f2e51cb87b9\": {\n      \"keyid\": \"bf178c2f486531948912817606025da21132de7cb68a3644fe512f2e51cb87b9\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXFjSHJnTDlFdXA2OXBXSnlnc01lUnY5YWE4c3NIR3JRNXVHZzFOOHVZOE09Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"fbed68749a34dcb265e4a28ce4af93bc6a62f7f73c324810d4becf705118a40e\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"fbed68749a34dcb265e4a28ce4af93bc6a62f7f73c324810d4becf705118a40e\": {\n      \"keyid\": \"fbed68749a34dcb265e4a28ce4af93bc6a62f7f73c324810d4becf705118a40e\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXFoWFNsT0JPMzd2NTlKZ2M4RGh1QjRkSi9JemZYTHF3UVl2aW5tTVQ4T2c9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"6442c243b11bbfb6aa6312589c6148c1a7742cc8146f283082df25a60aa6b245\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"6442c243b11bbfb6aa6312589c6148c1a7742cc8146f283082df25a60aa6b245\": {\n      \"keyid\": \"6442c243b11bbfb6aa6312589c6148c1a7742cc8146f283082df25a60aa6b245\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXkzNGNBSWpTU2JXWm8rNjdCTmZvNDUzM0s4d1Rna2pRV3FRZlVNdFVRK0E9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"bafe57f66563827b4b2c64be79dd31147582e4aac196e80a1acdc8863792218e\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"bafe57f66563827b4b2c64be79dd31147582e4aac196e80a1acdc8863792218e\": {\n      \"keyid\": \"bafe57f66563827b4b2c64be79dd31147582e4aac196e80a1acdc8863792218e\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXcycGxtRjhVMUNrS1lpSm5wRnppdlRZYWNMd2RhN0VVMHdkN2Rrc1BLSGM9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"25006581321cc5c3307d71a554b42191a63a01194c79b9730e5e289b3b856ee5\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"25006581321cc5c3307d71a554b42191a63a01194c79b9730e5e289b3b856ee5\": {\n      \"keyid\": \"25006581321cc5c3307d71a554b42191a63a01194c79b9730e5e289b3b856ee5\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQStseWl6SXRnOVArQnE4cFF0elQ2bXpwKzI1NVlpMzBEdmNaSEE2ZjNzbFU9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"44eed91ae06e81f42700bf535175ab15681ba2fd001f7c1f04d8f97622e24c52\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"44eed91ae06e81f42700bf535175ab15681ba2fd001f7c1f04d8f97622e24c52\": {\n      \"keyid\": \"44eed91ae06e81f42700bf535175ab15681ba2fd001f7c1f04d8f97622e24c52\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUcwbi9USzh5TnV6Zyt1eHJWMlhYN0JxZ3dvelFYNWtsendsMm9JamJXUXM9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"ba97a9ce3f9236c04bea947c42eff09482a51800cb3a8192e40e75f66356a5ac\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"ba97a9ce3f9236c04bea947c42eff09482a51800cb3a8192e40e75f66356a5ac\": {\n      \"keyid\": \"ba97a9ce3f9236c04bea947c42eff09482a51800cb3a8192e40e75f66356a5ac\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTMweTNkbjB5L3lSeWhSamZBMytMNFZaS2NXcEwvL0VmVmtLSmYzSWE3TnM9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"7c36375fdbc30583d1d098db7e9adc5d110416d360e437dbfe94c7d4b6460732\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"7c36375fdbc30583d1d098db7e9adc5d110416d360e437dbfe94c7d4b6460732\": {\n      \"keyid\": \"7c36375fdbc30583d1d098db7e9adc5d110416d360e437dbfe94c7d4b6460732\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQThxV0kzcC8xRUhhS3EzL2ZUdVF3VGtBNFh6MHVQazFBaTR0aW5Ud1Z2Nnc9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"3e719a0117097c01eaf2295024f24ccc62d874ae06a9e5ac91e5595ee36799ca\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"3e719a0117097c01eaf2295024f24ccc62d874ae06a9e5ac91e5595ee36799ca\": {\n      \"keyid\": \"3e719a0117097c01eaf2295024f24ccc62d874ae06a9e5ac91e5595ee36799ca\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWRJRU1FbnYxNWxlQ2dGbWFEQkNnd28zZEpyODJ1YnRGZEtwVlFqeUR4MmM9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"515236ef6663bbd8af55d2ddd8c3085206ec792d7a749170996c19be151a606c\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"515236ef6663bbd8af55d2ddd8c3085206ec792d7a749170996c19be151a606c\": {\n      \"keyid\": \"515236ef6663bbd8af55d2ddd8c3085206ec792d7a749170996c19be151a606c\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTVSblZQOVZxWHFDYTdsTVBhbnNOT2x3c05JSHZTU1J1Um9QS1R2QXRmeFU9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"92a380c29640853a60296e6587ce89ae853d3d6dfce5b7c50fe44f331a31e2cf\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"92a380c29640853a60296e6587ce89ae853d3d6dfce5b7c50fe44f331a31e2cf\": {\n      \"keyid\": \"92a380c29640853a60296e6587ce89ae853d3d6dfce5b7c50fe44f331a31e2cf\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUlxNHE5S20wbG1HdGhEdmpEQnhOdDJWNzNIeWgxOWdKTW1sS1Y4RFFxN3c9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"1c6ffa011025ed1598e3cba779d91d2b6c5b2399e8b2f84a254932e4875c7e73\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"1c6ffa011025ed1598e3cba779d91d2b6c5b2399e8b2f84a254932e4875c7e73\": {\n      \"keyid\": \"1c6ffa011025ed1598e3cba779d91d2b6c5b2399e8b2f84a254932e4875c7e73\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWJnU3JKSnJjZVhmclhMODlsTld6UHRhZGxIUlNtcFRZY1Z4a0lPMWlLb1U9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"e593a55029e69a3153a016807e3db4b2f51b104ccd8a8523e8b6437c5a76fa2e\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"e593a55029e69a3153a016807e3db4b2f51b104ccd8a8523e8b6437c5a76fa2e\": {\n      \"keyid\": \"e593a55029e69a3153a016807e3db4b2f51b104ccd8a8523e8b6437c5a76fa2e\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWN1djg4bnQ3aldHSTBGVSsvSVgzSUc2MEZpb1VBb1pRdEp0cU1Xd2FlMjg9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"50a991f754001b3eac92ed88e9aa2020a9c376c8b7eb43935a38fcad0ad22439\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"50a991f754001b3eac92ed88e9aa2020a9c376c8b7eb43935a38fcad0ad22439\": {\n      \"keyid\": \"50a991f754001b3eac92ed88e9aa2020a9c376c8b7eb43935a38fcad0ad22439\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUtKU0hNbGhIbTR5N0NEaU9ib0Yxdm1nMG8wck9wZEwwb0hvV1lKeEFiMkU9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"524ccf5889c2988dbc06f47548e10d9e9df925b1ae809fa49ce11a2b66903a37\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"524ccf5889c2988dbc06f47548e10d9e9df925b1ae809fa49ce11a2b66903a37\": {\n      \"keyid\": \"524ccf5889c2988dbc06f47548e10d9e9df925b1ae809fa49ce11a2b66903a37\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTllYUNLcytHQlBjV25qWmRnTkord0lhb3BvUERZNklTblB5b0Jia2ZBanc9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"968e0be6ce116c9873cc1c73c5b80e7bddcb4435a119962dbc869b61f5172507\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"968e0be6ce116c9873cc1c73c5b80e7bddcb4435a119962dbc869b61f5172507\": {\n      \"keyid\": \"968e0be6ce116c9873cc1c73c5b80e7bddcb4435a119962dbc869b61f5172507\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXF5RDIvUGRia0N6bm03Vk5WWU12UmwzN3NOdmlzNnlBelZMNUt2eXVsaFk9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"cb0a20a897ab5dd94b57f8614b6d17e64bfb40da28e57b29ff8bfe74437e6c65\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"cb0a20a897ab5dd94b57f8614b6d17e64bfb40da28e57b29ff8bfe74437e6c65\": {\n      \"keyid\": \"cb0a20a897ab5dd94b57f8614b6d17e64bfb40da28e57b29ff8bfe74437e6c65\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQThJYkZwbWpDQWd4dG5tWExMZlZTOEVsMDB6Vy9qZ0lGbnRXdnVOQy8zbVE9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"8d16851c46d2d4b016c3b1f62e62a6b59ae6edc678a0dda865a96dce8cac5711\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"8d16851c46d2d4b016c3b1f62e62a6b59ae6edc678a0dda865a96dce8cac5711\": {\n      \"keyid\": \"8d16851c46d2d4b016c3b1f62e62a6b59ae6edc678a0dda865a96dce8cac5711\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVlMVTg4Qk9lSlFTbVJ0cDhNWkc3Q0k1YXpYWllMYWwvS1RBaExldjY3VWs9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"57fba9a5c5c88a279334c89ddfec2e0776bf472d994e6ad3c4ecd839a481cc94\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"57fba9a5c5c88a279334c89ddfec2e0776bf472d994e6ad3c4ecd839a481cc94\": {\n      \"keyid\": \"57fba9a5c5c88a279334c89ddfec2e0776bf472d994e6ad3c4ecd839a481cc94\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUpmdGFEOHNlMVNHNndmUGNIdGJlTG04TGRUVTAvQWNpU2ZBSGYzQjdDMzQ9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"4024f5595af55eabe71e23cbaa07fcede1bc950d82a2efd9ca030a132f81ed4a\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"4024f5595af55eabe71e23cbaa07fcede1bc950d82a2efd9ca030a132f81ed4a\": {\n      \"keyid\": \"4024f5595af55eabe71e23cbaa07fcede1bc950d82a2efd9ca030a132f81ed4a\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXQ5TXNEMVVMY0Y1Q0o3Mi9YcTFob1p6MG5PcFdFSCtBYkR4RUxVQytUaHM9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"5c4dc6dc611898c4ed5d939caf94b5a6deb8601e95131e205ad257db30a22a69\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"5c4dc6dc611898c4ed5d939caf94b5a6deb8601e95131e205ad257db30a22a69\": {\n      \"keyid\": \"5c4dc6dc611898c4ed5d939caf94b5a6deb8601e95131e205ad257db30a22a69\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTNDSk5IS1hGZkhPSlptakdUc0ZObkpkdmF6aTBRdThHL1o3enMrTkQvQTA9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"46f32b4c74f6dfd7d9aabd4d21285257c26170ac027b3efa4447698f01421af8\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"46f32b4c74f6dfd7d9aabd4d21285257c26170ac027b3efa4447698f01421af8\": {\n      \"keyid\": \"46f32b4c74f6dfd7d9aabd4d21285257c26170ac027b3efa4447698f01421af8\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUl3aXV2ZlpoUFJIUmtYVlZIZVoyN3pXaHBJNXdkcTFkMUlZWVFFQlJacms9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"9e277849e44b6a70ed27b3864b0d3a16a2017bc1f4df5800803007baa264fa98\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"9e277849e44b6a70ed27b3864b0d3a16a2017bc1f4df5800803007baa264fa98\": {\n      \"keyid\": \"9e277849e44b6a70ed27b3864b0d3a16a2017bc1f4df5800803007baa264fa98\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTU2WEdMWEMzZ0pCTjZUMUUrWmk5UStCSzNIREdjY3JhcFJUWVdnYjFBUDQ9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"4377b7f5b89f2ff3e80b1ebc1e01741afa6eb7fbcfbb39bee0b7bce49327f9a6\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"4377b7f5b89f2ff3e80b1ebc1e01741afa6eb7fbcfbb39bee0b7bce49327f9a6\": {\n      \"keyid\": \"4377b7f5b89f2ff3e80b1ebc1e01741afa6eb7fbcfbb39bee0b7bce49327f9a6\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVhKZkFKZTRPNjJwYk5iU1YwNUxETmIwdkFDQWxGUDV1VXZmOUtZMFdOUTg9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"f8e8c5e888b244d7b80ece35481bcc63460d4848906c692cb655c698f43010b4\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"f8e8c5e888b244d7b80ece35481bcc63460d4848906c692cb655c698f43010b4\": {\n      \"keyid\": \"f8e8c5e888b244d7b80ece35481bcc63460d4848906c692cb655c698f43010b4\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWdsNGRKV0lWNDJYSk5ZV2tDbkJQbSttRUtFRVJjcDFEbjRyalMxcm0rM1E9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"f992681d433d0a8531617d7879c43055e4711c86d3ff2396be653ebb0fa71677\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"f992681d433d0a8531617d7879c43055e4711c86d3ff2396be653ebb0fa71677\": {\n      \"keyid\": \"f992681d433d0a8531617d7879c43055e4711c86d3ff2396be653ebb0fa71677\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXA3NW9RR3VWd25HNDBWWjRNbVhNK1daWTNyMy9QWHJrOTZoOW1wSEt5SE09Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"839e014650da910082d6c9ccc1957a4c0cba6229b73f48cfeb31141d7ba4fb46\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"839e014650da910082d6c9ccc1957a4c0cba6229b73f48cfeb31141d7ba4fb46\": {\n      \"keyid\": \"839e014650da910082d6c9ccc1957a4c0cba6229b73f48cfeb31141d7ba4fb46\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXNTMEl6NEJTd1JPM1dBL2E0bStFdFNCZ2JUNUtUb1QwTCtVL2txRHVtdTg9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"da120c600f55529a88c7fa5c67ebac30b22b47adbe79dfaf6d5c90ea423f2ef9\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"da120c600f55529a88c7fa5c67ebac30b22b47adbe79dfaf6d5c90ea423f2ef9\": {\n      \"keyid\": \"da120c600f55529a88c7fa5c67ebac30b22b47adbe79dfaf6d5c90ea423f2ef9\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUN5NDVwN09HT092aFNXeWFpOE1rR2FPUzUvRm5DKythKzhyNjQ5UTQ1bXc9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"84a391a8ff74fac99292c89d76405a8d3a9fda756d7f2b2e8e4badd0738b63f6\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"84a391a8ff74fac99292c89d76405a8d3a9fda756d7f2b2e8e4badd0738b63f6\": {\n      \"keyid\": \"84a391a8ff74fac99292c89d76405a8d3a9fda756d7f2b2e8e4badd0738b63f6\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQW9GdWZ3RHVxTFA0cll1c2F2aExremdySkZFMnBsOS91d2dRaU9vL2Ivam89Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"56c0b7c9228f633182ccc3e38389b00edf6a4d3123b09680008cc620dcf4dc71\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"56c0b7c9228f633182ccc3e38389b00edf6a4d3123b09680008cc620dcf4dc71\": {\n      \"keyid\": \"56c0b7c9228f633182ccc3e38389b00edf6a4d3123b09680008cc620dcf4dc71\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXlBaGVUajQ3a2xidUNDTHZ2TTBVL21mTzV2ZXNoV1laSENOeVJsS0V6MEU9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"18858ee6dcf9cd3d00561299707fb7735279d4aff2aa2e39d8b933a9175f33bb\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"18858ee6dcf9cd3d00561299707fb7735279d4aff2aa2e39d8b933a9175f33bb\": {\n      \"keyid\": \"18858ee6dcf9cd3d00561299707fb7735279d4aff2aa2e39d8b933a9175f33bb\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWFSay9NRGdoSVk1N0w0YXl0ZHROakhpazd4NWJhR2RKTmFMWDh5WWFUWVk9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"cd67deaadac634729ea9e5ce56f3a14a22aadc1f6afcf512c8fc8a474a6d3e83\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"cd67deaadac634729ea9e5ce56f3a14a22aadc1f6afcf512c8fc8a474a6d3e83\": {\n      \"keyid\": \"cd67deaadac634729ea9e5ce56f3a14a22aadc1f6afcf512c8fc8a474a6d3e83\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVQ0cThwWFpia05MTnNCWVloWk51VXFBZ25xVE4wRS94NHFETE5CdDhPWGc9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"1dc76fa189b18479bbbce83c1ae1769c3aa54fa1ad147a77f7078f78b56b9e7d\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"1dc76fa189b18479bbbce83c1ae1769c3aa54fa1ad147a77f7078f78b56b9e7d\": {\n      \"keyid\": \"1dc76fa189b18479bbbce83c1ae1769c3aa54fa1ad147a77f7078f78b56b9e7d\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQW53dGR2ZmxuN0t1TitnOWJ3UTlKRDhhMUJMb2M1VTA5VjBXQ3VPd3hSV2s9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"dc953ab638b0440ba9c629cc5747afc5cc50dcad8384fa23a90c2e9f7bb10b1c\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"dc953ab638b0440ba9c629cc5747afc5cc50dcad8384fa23a90c2e9f7bb10b1c\": {\n      \"keyid\": \"dc953ab638b0440ba9c629cc5747afc5cc50dcad8384fa23a90c2e9f7bb10b1c\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTYzL2tFTG1Hc3RsTi8wK09XeTliWGUwYWdOdUhTS0kwaVVGUWp1eDU2NUU9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"ecb73d372bef97f5d3e1ac80f54752b8c0fd6a0987fb788baad38aa4623fc7ce\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"ecb73d372bef97f5d3e1ac80f54752b8c0fd6a0987fb788baad38aa4623fc7ce\": {\n      \"keyid\": \"ecb73d372bef97f5d3e1ac80f54752b8c0fd6a0987fb788baad38aa4623fc7ce\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXlNL3luay9TRngybTZOV0JXS29XdVhUM3JPU1l2MEZEZldMWjg2MlkrNFE9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"59554d7a29fceb7f77964ac61ebaa39004e7f9251f412abf5aef2f2b4bdde721\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"59554d7a29fceb7f77964ac61ebaa39004e7f9251f412abf5aef2f2b4bdde721\": {\n      \"keyid\": \"59554d7a29fceb7f77964ac61ebaa39004e7f9251f412abf5aef2f2b4bdde721\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXFmamVPM1hEYjV1Mk9td0d3R3NaVGp6Mzk5dFJVa0gxQWdsL2c1M3VDcWs9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"c9b15bb1248b3c577ab1560625b69eb4f98dcde48fe5996193af1ddea2343ebf\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"c9b15bb1248b3c577ab1560625b69eb4f98dcde48fe5996193af1ddea2343ebf\": {\n      \"keyid\": \"c9b15bb1248b3c577ab1560625b69eb4f98dcde48fe5996193af1ddea2343ebf\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQU13VGpMUjRIZVRGdTM4S29Yc1hLcTcraE1hRGI2d3dHWENRdnZXN1RuNkk9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"1fdef4a46f90645340070c767506f3ac3a9b199397a10eaad3f680a1ca855ff9\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"1fdef4a46f90645340070c767506f3ac3a9b199397a10eaad3f680a1ca855ff9\": {\n      \"keyid\": \"1fdef4a46f90645340070c767506f3ac3a9b199397a10eaad3f680a1ca855ff9\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVBOOEowSzZuZzRBMkdDeVRkdkJ2djZ5TWk0NEZWUmwwUkYwYXd5eE1nc2c9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"aad70247c9042134d42cb2a0f62dbdcb0ce86a9bd1f634267e5806e7675686ac\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"aad70247c9042134d42cb2a0f62dbdcb0ce86a9bd1f634267e5806e7675686ac\": {\n      \"keyid\": \"aad70247c9042134d42cb2a0f62dbdcb0ce86a9bd1f634267e5806e7675686ac\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUFIYmhMWURycXhwYUVrMzRHNDg0N2pUQ0x0SWtNK3Jmc2IrdEJJaFE1NHc9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"6d270579046ae07a5a0cc14a4fbb0b204328744122b262bcf0b2b01f70ecadba\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"6d270579046ae07a5a0cc14a4fbb0b204328744122b262bcf0b2b01f70ecadba\": {\n      \"keyid\": \"6d270579046ae07a5a0cc14a4fbb0b204328744122b262bcf0b2b01f70ecadba\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVlsSytTc29OLzl4cE1IUzBhMDdza0VHQlpMbTJtNVo4ZGhKd1RuN095ZTA9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"8fc3f5660d65b5fd3c92914a6093441a53cd25f16923577abac0448d21132f4e\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"8fc3f5660d65b5fd3c92914a6093441a53cd25f16923577abac0448d21132f4e\": {\n      \"keyid\": \"8fc3f5660d65b5fd3c92914a6093441a53cd25f16923577abac0448d21132f4e\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQSsvVGhmWlcyaVFWL3lEYzhMVXhwVjFFekdhdW9IVFFDOC9QWWlPc1hvaGs9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"a3381234fd205cd8d21d69deba141b227efc2c1c5796292e53c8f9f6dcdae1eb\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"a3381234fd205cd8d21d69deba141b227efc2c1c5796292e53c8f9f6dcdae1eb\": {\n      \"keyid\": \"a3381234fd205cd8d21d69deba141b227efc2c1c5796292e53c8f9f6dcdae1eb\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUNBK3BydUd6cHg4bDQzc0NtSkFOck9EQUsvcm9NNXg3L3ZndCtiT2p0M1k9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"468e06b18d0aad4b84e582358e50cac99a1ad180a4352cc9a281a570e2760b76\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"468e06b18d0aad4b84e582358e50cac99a1ad180a4352cc9a281a570e2760b76\": {\n      \"keyid\": \"468e06b18d0aad4b84e582358e50cac99a1ad180a4352cc9a281a570e2760b76\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUo0by9zRmtQdEVCbCtxeEhIeDRZNEEyR2U2c3VUeGpTT0VtNDQvRGlnOXc9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"a9d1a58e1ac32ce9f42bea139a6856d22b501e55b663be04004c7cabb99def96\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"a9d1a58e1ac32ce9f42bea139a6856d22b501e55b663be04004c7cabb99def96\": {\n      \"keyid\": \"a9d1a58e1ac32ce9f42bea139a6856d22b501e55b663be04004c7cabb99def96\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQU9ENS9RdkVtQ3BzbnVmZVJJdVpNMExKWEZtcnYwRVdnbEVqRFNjMUpnVVU9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"00b179dffe7b32d32cccddd0bb96afb6bf2df705f498f926e55a3a2837466421\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"00b179dffe7b32d32cccddd0bb96afb6bf2df705f498f926e55a3a2837466421\": {\n      \"keyid\": \"00b179dffe7b32d32cccddd0bb96afb6bf2df705f498f926e55a3a2837466421\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUU1amlXdjY2cGltQ1RhUytlRHZmOHVPNjdCUFZPVWdjMHZsWEdoYmc4TzA9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"b5155c6c84e56054a4b6652a405858f5b6033d2619df3202dac964e1b8a360e5\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"b5155c6c84e56054a4b6652a405858f5b6033d2619df3202dac964e1b8a360e5\": {\n      \"keyid\": \"b5155c6c84e56054a4b6652a405858f5b6033d2619df3202dac964e1b8a360e5\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVMxYjlwUmZ3S05EVGl4bCttZW9lM0NlUU1nT2xubHhWSDJneDI0ZGtXZkE9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"895f531d91dcf0ecf7c7c4f7cf5d0f1589afd3cb602bc01846908fb1372f5c5c\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"895f531d91dcf0ecf7c7c4f7cf5d0f1589afd3cb602bc01846908fb1372f5c5c\": {\n      \"keyid\": \"895f531d91dcf0ecf7c7c4f7cf5d0f1589afd3cb602bc01846908fb1372f5c5c\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVlQTnZFV2kxdU1MaXlKM1lZMkJHRVZCWU51cEFyVlNUMHNYOURCeTgzbXc9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"0892270c72a756abf56393ccf510d9a0104c8adcdcd31cdab11fbb4a463d0cf3\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"0892270c72a756abf56393ccf510d9a0104c8adcdcd31cdab11fbb4a463d0cf3\": {\n      \"keyid\": \"0892270c72a756abf56393ccf510d9a0104c8adcdcd31cdab11fbb4a463d0cf3\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVdJbHdwM01lUUs3aDdYWSt1L2xTWi8zZEtWU2RFMlR4VlQ1V29MMi9seXc9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"1c2160ac02da6f80b1f47663a4b4fd35835e8b13389274a5fee12808b1e4562a\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"1c2160ac02da6f80b1f47663a4b4fd35835e8b13389274a5fee12808b1e4562a\": {\n      \"keyid\": \"1c2160ac02da6f80b1f47663a4b4fd35835e8b13389274a5fee12808b1e4562a\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUNaT0MzY2JHRG5Va1o0YStwRWFKa1krRVJac2k5djlNMEQrU1JLS1hqUm89Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"e2a32cb498a2f49cbd3a3885e1e67c8c0391560757facbeed4b069c4f39a7d53\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"e2a32cb498a2f49cbd3a3885e1e67c8c0391560757facbeed4b069c4f39a7d53\": {\n      \"keyid\": \"e2a32cb498a2f49cbd3a3885e1e67c8c0391560757facbeed4b069c4f39a7d53\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVBjRnIrcU9mQXpOQTBSRHkyaDVRcmh4YTRpak5STStNcW5vY3BrOW9hL289Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"d288041d3b8877179327df6426a9b70af3eefaa38a83a02a3ffbb98f9ec55bb4\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"d288041d3b8877179327df6426a9b70af3eefaa38a83a02a3ffbb98f9ec55bb4\": {\n      \"keyid\": \"d288041d3b8877179327df6426a9b70af3eefaa38a83a02a3ffbb98f9ec55bb4\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXhCQkljZmFnUlhmVGY0bnE0WkRuUU8vd1VFdDZmL2ZIU25EMS9zL2Z1SUk9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"0677ba13e738db207bcf3e8db8d7cd2be3e227155e4d4d2e25ee5de4e6a31c0c\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"0677ba13e738db207bcf3e8db8d7cd2be3e227155e4d4d2e25ee5de4e6a31c0c\": {\n      \"keyid\": \"0677ba13e738db207bcf3e8db8d7cd2be3e227155e4d4d2e25ee5de4e6a31c0c\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWM2Y1padGlDaE00bHVLaElGTXFQekJrMHZWcm1zN1dibkszTmdmaHNhV1U9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"6c41d4ff25184f288738e109661167c6d3b943a6ff47b6ee3145122cd7877dd0\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"6c41d4ff25184f288738e109661167c6d3b943a6ff47b6ee3145122cd7877dd0\": {\n      \"keyid\": \"6c41d4ff25184f288738e109661167c6d3b943a6ff47b6ee3145122cd7877dd0\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWJzTjFKSTVNRGN2OGdwcFJXbzNJOHg2VStRRnBWNE5Mbm55aVRzbXRVVjA9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"340bfe3c918f14eac71cd3d190315b73d4bc854e1517b9efd50ae8469205d834\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"340bfe3c918f14eac71cd3d190315b73d4bc854e1517b9efd50ae8469205d834\": {\n      \"keyid\": \"340bfe3c918f14eac71cd3d190315b73d4bc854e1517b9efd50ae8469205d834\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQThKYVRDSmtFR291TzhIK2R3SGp3TkFiZHNPRnNtb0U2WnR2dFZBOCtmWDg9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"311ba92695a30a3c6a74e823126dda7fb1ab401da4b51b4fcb6a41d2c6e36b19\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"311ba92695a30a3c6a74e823126dda7fb1ab401da4b51b4fcb6a41d2c6e36b19\": {\n      \"keyid\": \"311ba92695a30a3c6a74e823126dda7fb1ab401da4b51b4fcb6a41d2c6e36b19\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWszSG56aDB0WEVLTmUyTlVEUmtqRjM5TDRySDVveTBUbko1VUJUMGQ1Z1k9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"1e0ae3ebeb7732b90e8f57b707f863093ff78299d57a973d4998db94ebbb310c\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"1e0ae3ebeb7732b90e8f57b707f863093ff78299d57a973d4998db94ebbb310c\": {\n      \"keyid\": \"1e0ae3ebeb7732b90e8f57b707f863093ff78299d57a973d4998db94ebbb310c\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTBrUWVHREVRVExwVllDMlBKUzNpdHpvYkJxd0NyOGp1b2JGNlVzQ1NWVGs9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"999ad22d02c6bd045567ac0640fdea47a9c37f8d83f4d8dcd3e14895643edb2e\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"999ad22d02c6bd045567ac0640fdea47a9c37f8d83f4d8dcd3e14895643edb2e\": {\n      \"keyid\": \"999ad22d02c6bd045567ac0640fdea47a9c37f8d83f4d8dcd3e14895643edb2e\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUpxTW44a1k1WnVoYXdDWTRyb2oya2tnaERRTi90VzllcnJsVUlEZXNodHM9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"26a4f28d0a03d7d119bf817897f8529434e96bea56c8f74d65e2e54f385b4866\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"26a4f28d0a03d7d119bf817897f8529434e96bea56c8f74d65e2e54f385b4866\": {\n      \"keyid\": \"26a4f28d0a03d7d119bf817897f8529434e96bea56c8f74d65e2e54f385b4866\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQW1Za285VHQrZTdMc2xMYWZoZTQwbjlsQmNvNWwvY05ZMVdKMitsemY2RVE9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"693349394d2b54a503940045d7a58056634e6c2c1ee8365df565ef490c70f1c9\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"693349394d2b54a503940045d7a58056634e6c2c1ee8365df565ef490c70f1c9\": {\n      \"keyid\": \"693349394d2b54a503940045d7a58056634e6c2c1ee8365df565ef490c70f1c9\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXd5dWVpMWRmWnV4a3phKzlWMDlHMzZuQ21POXpJQjlldXR1L3Rqd2JxS3c9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"469973da2a90cb06258ea7bba73bf08a424da10e6269e892855ccb4318515f62\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"469973da2a90cb06258ea7bba73bf08a424da10e6269e892855ccb4318515f62\": {\n      \"keyid\": \"469973da2a90cb06258ea7bba73bf08a424da10e6269e892855ccb4318515f62\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUJ2ZTVsYlhyT2h1bTFrUXB2dk1lOEJJUkdVQzByL21ESjQvOC9sS0VHeVU9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"f78f9c98cf21583195a2c586c145a2921414499a1c2f17a509bf7b23dc430761\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"f78f9c98cf21583195a2c586c145a2921414499a1c2f17a509bf7b23dc430761\": {\n      \"keyid\": \"f78f9c98cf21583195a2c586c145a2921414499a1c2f17a509bf7b23dc430761\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUJYTGxCUDNNb0RKS3VMdmRlU1RxUzhWZ0F0MjhQTE53YnpCRHUwcldoS0k9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"d6db79756fdc3f646cd51b2e162b266307f622ed8c3f379517e195b76b9ae47a\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"d6db79756fdc3f646cd51b2e162b266307f622ed8c3f379517e195b76b9ae47a\": {\n      \"keyid\": \"d6db79756fdc3f646cd51b2e162b266307f622ed8c3f379517e195b76b9ae47a\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWpPcXZQeWhWZ1UxL3VsWDdlb00xWDBqZzVGU29vVElHTitqSG9hT0NraWM9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"88009b9dc9a8375bc337b9f485c9a493f23ab781f9bb17751ee3cb6cd2c26e57\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"88009b9dc9a8375bc337b9f485c9a493f23ab781f9bb17751ee3cb6cd2c26e57\": {\n      \"keyid\": \"88009b9dc9a8375bc337b9f485c9a493f23ab781f9bb17751ee3cb6cd2c26e57\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQU9BM2F3eXIveVFrY2QzRm5tWVpJZlhKSmdET2xERE1wVU5pUWZiUGFBNEU9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"db9e6891be4df37d11c27c558bca3b9cf40c0ac1186b791bf52e73e00de93eb5\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"db9e6891be4df37d11c27c558bca3b9cf40c0ac1186b791bf52e73e00de93eb5\": {\n      \"keyid\": \"db9e6891be4df37d11c27c558bca3b9cf40c0ac1186b791bf52e73e00de93eb5\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUVYWkZLaGMyV3VSK0RySWhsWkxRWEhWMEF3MGRrRDVVYURCRlRVbWlqUUk9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"45d29220c2c9535705a623a71ae65eef3392cfa0f6a8baf0c236485ffb0f842e\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"45d29220c2c9535705a623a71ae65eef3392cfa0f6a8baf0c236485ffb0f842e\": {\n      \"keyid\": \"45d29220c2c9535705a623a71ae65eef3392cfa0f6a8baf0c236485ffb0f842e\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQU1tSVJVMWVjVjZlL2Fpdi9XSVJWWjFCa0ZLQldPSHE1RXNlN3lmdm00U1E9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"7bc17cfb2e7a232d36ee39f8f026801e3c084e6e477e63089a1ca920614685a2\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"7bc17cfb2e7a232d36ee39f8f026801e3c084e6e477e63089a1ca920614685a2\": {\n      \"keyid\": \"7bc17cfb2e7a232d36ee39f8f026801e3c084e6e477e63089a1ca920614685a2\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUNXblMwSFFYVGo0UW5QclkxanJTRkxERkVOVWxLQTVSTWtpVjQvcWRSVWs9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"763fdd57dad80e10a5d96acb3d42bf6bb87823fdc49109c73428175d255b2716\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"763fdd57dad80e10a5d96acb3d42bf6bb87823fdc49109c73428175d255b2716\": {\n      \"keyid\": \"763fdd57dad80e10a5d96acb3d42bf6bb87823fdc49109c73428175d255b2716\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWNQSmlGQkhiYXdELzF0RFhzQUZ4dmMxWWpSa1JMSDFuSFJsVlFLYmVyaUU9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"2e08c5ffc421f2c4b999ba4397aa8c74df6d63813fd4e41721b2c2c277b09b8e\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"2e08c5ffc421f2c4b999ba4397aa8c74df6d63813fd4e41721b2c2c277b09b8e\": {\n      \"keyid\": \"2e08c5ffc421f2c4b999ba4397aa8c74df6d63813fd4e41721b2c2c277b09b8e\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXE4RCt3N24wNDEzend3RUNvc3g1UUxlWDhpNFZjWWsydDlxNGlBLzVYRUU9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"fbc94fa81144b62617b851e87b0173faac16f375947ba27073e51cebca8f16da\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"fbc94fa81144b62617b851e87b0173faac16f375947ba27073e51cebca8f16da\": {\n      \"keyid\": \"fbc94fa81144b62617b851e87b0173faac16f375947ba27073e51cebca8f16da\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQW9zTzFOU0l6eTV6NkQ2YTVmWTFDRmlxMER3K2Fza3plLzk4ZkpVZU5VeG89Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"2cd90a53945f5a9508e3ab0360c25496b913aad8e548fb359e3e79488c8713e8\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"2cd90a53945f5a9508e3ab0360c25496b913aad8e548fb359e3e79488c8713e8\": {\n      \"keyid\": \"2cd90a53945f5a9508e3ab0360c25496b913aad8e548fb359e3e79488c8713e8\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUx6dVVyNnk5M0JFMXF0UWY1SmttQ1k0cGdHM1NFd1poRGR5OVhFOEtPYm89Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"7acd8583c249315da2081797e197a35b8b502d81d0217fe01cab252420d026ee\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"7acd8583c249315da2081797e197a35b8b502d81d0217fe01cab252420d026ee\": {\n      \"keyid\": \"7acd8583c249315da2081797e197a35b8b502d81d0217fe01cab252420d026ee\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVI0Y09IcDc1T1ZDcnkwMm10enIzZmxVMjcycC9pOExTODI3cENOZ0p1Q3c9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"f95da819fc036251d573071972b7aab072354f6cffd2f7368549dbd3cb6ef0a1\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"f95da819fc036251d573071972b7aab072354f6cffd2f7368549dbd3cb6ef0a1\": {\n      \"keyid\": \"f95da819fc036251d573071972b7aab072354f6cffd2f7368549dbd3cb6ef0a1\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXY5U25uZGhuWnhPNUV6M3hYZzdyeDF5eElOQVBwMmhKUE9wa0JRcFNQeFk9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"336d071d23ff99602557bcb568743b8df1623449cc67cac4634ec66f2bd80f9e\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"336d071d23ff99602557bcb568743b8df1623449cc67cac4634ec66f2bd80f9e\": {\n      \"keyid\": \"336d071d23ff99602557bcb568743b8df1623449cc67cac4634ec66f2bd80f9e\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUxqSXNCOTBNNkRlZGdidnZRamF1REhtSEE1LzNrQmVETDlERTU4VU5aOUU9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"545fa8abe9210bad9a62348a9288a1c2a4bd9667c5c7fc6a31d99d978ad49611\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"545fa8abe9210bad9a62348a9288a1c2a4bd9667c5c7fc6a31d99d978ad49611\": {\n      \"keyid\": \"545fa8abe9210bad9a62348a9288a1c2a4bd9667c5c7fc6a31d99d978ad49611\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQURjOXQvZ1JGZGNVUmpGU1dMR2RmK2p4dkNxZ2hFU01EZERrelZaeVQzalk9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"a26daa68784da39aa649b455d2beb26c50ccec4a2a0df4c14b791eeccdeb2910\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"a26daa68784da39aa649b455d2beb26c50ccec4a2a0df4c14b791eeccdeb2910\": {\n      \"keyid\": \"a26daa68784da39aa649b455d2beb26c50ccec4a2a0df4c14b791eeccdeb2910\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTRQZU56TXlCLzFQeWFEWXFlcm43S1pGSkxZSWo3ZThkUTRmeUxlNkQ3SWs9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"bfbd5ab8f0ec5b3d67345f7af24ebbf55fdd7acf5a5cce613957800c310ef190\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"bfbd5ab8f0ec5b3d67345f7af24ebbf55fdd7acf5a5cce613957800c310ef190\": {\n      \"keyid\": \"bfbd5ab8f0ec5b3d67345f7af24ebbf55fdd7acf5a5cce613957800c310ef190\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQU83TGlKenNqdTczNVdlbjE2Y2llUUdUMDNXcFJpVGJVQWdSQkNHbGxDdTQ9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"0429e13c5fb3fb9063e932906d46ceb668610610b3233fa9272275dee0b6a3cf\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"0429e13c5fb3fb9063e932906d46ceb668610610b3233fa9272275dee0b6a3cf\": {\n      \"keyid\": \"0429e13c5fb3fb9063e932906d46ceb668610610b3233fa9272275dee0b6a3cf\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVppNGptOWdmVW1KbFA2aW1YWEFUbmROTnQxdlVGcmcyazlzZGY5ZVprVFk9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"f70f36b79cdb8e10ccb2960b58aeb821aa266ba7c9d66bffecb0eb915e65f177\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"f70f36b79cdb8e10ccb2960b58aeb821aa266ba7c9d66bffecb0eb915e65f177\": {\n      \"keyid\": \"f70f36b79cdb8e10ccb2960b58aeb821aa266ba7c9d66bffecb0eb915e65f177\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWQwYXMrWkZ1QkFmVm5nYTkyaEplYzNVWHNXVitGcm1nRFpvY2l4SHB3Uzg9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"71bc3d52f3833b8844d954ca9cae452475c38a938437ba62ca306f3fc5e46a95\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"71bc3d52f3833b8844d954ca9cae452475c38a938437ba62ca306f3fc5e46a95\": {\n      \"keyid\": \"71bc3d52f3833b8844d954ca9cae452475c38a938437ba62ca306f3fc5e46a95\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWxwSmhTQWVvRUdXam05bS94MU9qZHpXbVN4enhsNXBNZnZFeFlxcmR2clE9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"8696cdfbf2142d11f7064bccdca17933063decb272f5777ec424c675b719241a\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"8696cdfbf2142d11f7064bccdca17933063decb272f5777ec424c675b719241a\": {\n      \"keyid\": \"8696cdfbf2142d11f7064bccdca17933063decb272f5777ec424c675b719241a\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVExUFJhbWdPWm8zVFcvZHlCdEdseHJWZFE0ak1VbmpPd3VXYkV5bS9yRUE9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"bf0b9dc14d8788e1bfbac5664ccb5a76027050f284f38000b27b03f7d0c05dfd\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"bf0b9dc14d8788e1bfbac5664ccb5a76027050f284f38000b27b03f7d0c05dfd\": {\n      \"keyid\": \"bf0b9dc14d8788e1bfbac5664ccb5a76027050f284f38000b27b03f7d0c05dfd\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUJ0clpybWxFU3BmdHVwanYyS3NvOW1nL2VVT0cxY3l0MFFKUFNkbmo4eHc9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"d54b582517d3b3efbb9b448e1d15239f478c943b1c52b43473df2984a8099b1b\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"d54b582517d3b3efbb9b448e1d15239f478c943b1c52b43473df2984a8099b1b\": {\n      \"keyid\": \"d54b582517d3b3efbb9b448e1d15239f478c943b1c52b43473df2984a8099b1b\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTlURkFmOHRPOFM3SzJqM25hK3FpUjVxVmFES0p4dWFFdWhUSWVrRm8zMGc9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"35dda400510df002caba1e12c4cbe7dad8fe867b8883cb4f826460ab49f4bb04\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"35dda400510df002caba1e12c4cbe7dad8fe867b8883cb4f826460ab49f4bb04\": {\n      \"keyid\": \"35dda400510df002caba1e12c4cbe7dad8fe867b8883cb4f826460ab49f4bb04\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWdqT0xlOFI4T2JtbUxIQnUyMjl5QzY5anlscDZmd3ZKOVlrc1p2YVUyL2M9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"688e83e8129f57284561116ae777c592ab6f5d06296fa8f886e3f7db9e1a230c\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"688e83e8129f57284561116ae777c592ab6f5d06296fa8f886e3f7db9e1a230c\": {\n      \"keyid\": \"688e83e8129f57284561116ae777c592ab6f5d06296fa8f886e3f7db9e1a230c\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQU9YdWl6blRjbloveWRETlRhNEwycXdnb1RoUURsM0Q1ZHVkWDBUUEdYejQ9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"df274f42c496fbe9316d933160885c4d508710f6ca8570600747d4cce971a86f\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"df274f42c496fbe9316d933160885c4d508710f6ca8570600747d4cce971a86f\": {\n      \"keyid\": \"df274f42c496fbe9316d933160885c4d508710f6ca8570600747d4cce971a86f\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUtRYmxkdjhaaXkyOWNJcjlHdkJDeUw0NFpJN1ZYcFppclJEdGVEMHV4UEU9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"c3cc1193a517417804efed07e33390647b8c5786a0369c83717186b0c3df4d6d\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"c3cc1193a517417804efed07e33390647b8c5786a0369c83717186b0c3df4d6d\": {\n      \"keyid\": \"c3cc1193a517417804efed07e33390647b8c5786a0369c83717186b0c3df4d6d\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQU9Gc3NFbzJOUkY0bk9mNWhuUjhiQWRaV3hQTjd4TmhDWjhyd1dOU3QxVTg9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"6f6421150747f3d19f25d5cc002bdb0d999072cf964a8f65ec7cde2202ee93c4\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"6f6421150747f3d19f25d5cc002bdb0d999072cf964a8f65ec7cde2202ee93c4\": {\n      \"keyid\": \"6f6421150747f3d19f25d5cc002bdb0d999072cf964a8f65ec7cde2202ee93c4\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQThrbjJDbzJiK0l6a0VPTk9EZVg4ZHRzcHpxdGhLOCttS2o4YXNML09HeU09Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"ce748b20d4fe3ec181714317e4d31011ca50436956cc80bffd127896957f26a3\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"ce748b20d4fe3ec181714317e4d31011ca50436956cc80bffd127896957f26a3\": {\n      \"keyid\": \"ce748b20d4fe3ec181714317e4d31011ca50436956cc80bffd127896957f26a3\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVNmbUo4SFpjbVQvcUQ1bHptamZ3T3A5TWJsS2JXL0dHYnNic081ME9hUzA9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"0e3f793a4be405824b9d0fc3c3322e6d083741b013001bd1a7d3089e6da9b981\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"0e3f793a4be405824b9d0fc3c3322e6d083741b013001bd1a7d3089e6da9b981\": {\n      \"keyid\": \"0e3f793a4be405824b9d0fc3c3322e6d083741b013001bd1a7d3089e6da9b981\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXFoUXNoVXI0alVJdmE2QlEzRTMxNWl4NjFBYjRtR2RubDB2b0JxRU9iU289Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"ce43445b9d56ae15168f42dcb574018d02886f12344ef5438d9127f09514b375\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"ce43445b9d56ae15168f42dcb574018d02886f12344ef5438d9127f09514b375\": {\n      \"keyid\": \"ce43445b9d56ae15168f42dcb574018d02886f12344ef5438d9127f09514b375\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUdWd0Q1dndUaXJIbnVaRkhXYmVXQktlOHZGOWpzdUpIejJxckVnbjNHUW89Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"99478765597fe4ab9a12071870843307ab1d10d1c8053d29dab870bbd5238914\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"99478765597fe4ab9a12071870843307ab1d10d1c8053d29dab870bbd5238914\": {\n      \"keyid\": \"99478765597fe4ab9a12071870843307ab1d10d1c8053d29dab870bbd5238914\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTgxZlpJcG1xWkl3aXBhaE1rT203TUJ0ck9BeFFKbnZ1QjZ4ZHlDYWxNVjQ9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"6c890ca9e45f2dd4af3913751a31e370427eea86f40aa843b48454e415dc34ac\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"6c890ca9e45f2dd4af3913751a31e370427eea86f40aa843b48454e415dc34ac\": {\n      \"keyid\": \"6c890ca9e45f2dd4af3913751a31e370427eea86f40aa843b48454e415dc34ac\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXBiZWVGZ1gwRENNMk5nbDkyU2ZMblR5STAvTWVKVlRqVmtaVDNlcFFUcEE9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"19f8f0e9a759a0870b0e64fa7320bd1760cf32ebf54d1ab8e25bdf4b68a6a098\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"19f8f0e9a759a0870b0e64fa7320bd1760cf32ebf54d1ab8e25bdf4b68a6a098\": {\n      \"keyid\": \"19f8f0e9a759a0870b0e64fa7320bd1760cf32ebf54d1ab8e25bdf4b68a6a098\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTVFdnRXcWFHbEJvV2ZUVFRaUnZyV0Q3M21FZjNCRHBzdG1tRHNRUG5SNm89Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"741429f79d15f2fc06c1edf4353d320552e0e9bd8f4836fbd0c0c8e375e49d24\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"741429f79d15f2fc06c1edf4353d320552e0e9bd8f4836fbd0c0c8e375e49d24\": {\n      \"keyid\": \"741429f79d15f2fc06c1edf4353d320552e0e9bd8f4836fbd0c0c8e375e49d24\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQW9EQXFpbE9DRzJHNmNXSG1qbGxqc0lObVB1VUpUaHBPSE1HRVppcThvRk09Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"ad641acd3a805e98a25f8b78fca3dae26d27e76ca5f84e0e57c4cef0d740e037\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"ad641acd3a805e98a25f8b78fca3dae26d27e76ca5f84e0e57c4cef0d740e037\": {\n      \"keyid\": \"ad641acd3a805e98a25f8b78fca3dae26d27e76ca5f84e0e57c4cef0d740e037\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTJGdEJJc0N5dWhLbTZhaGJlVDBFR2hiQmVSVHBheWtFV3ZuMTlDWVQxQ3c9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"128f9723e70291a7db9e3bf4c862033253422b1c9e6048bba7e1c13fd1b27127\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"128f9723e70291a7db9e3bf4c862033253422b1c9e6048bba7e1c13fd1b27127\": {\n      \"keyid\": \"128f9723e70291a7db9e3bf4c862033253422b1c9e6048bba7e1c13fd1b27127\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTB3RCs5Nm5ZQUxxNVJuQWlUTTFhRVZiT1YvNy9pbE1OYXBqT0xpZ2d5VXM9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"b13f653f29f00bc82344409890ff05f9ccb0e4887fa6cd98eda280837795bad5\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"b13f653f29f00bc82344409890ff05f9ccb0e4887fa6cd98eda280837795bad5\": {\n      \"keyid\": \"b13f653f29f00bc82344409890ff05f9ccb0e4887fa6cd98eda280837795bad5\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVJ3TExyOGVtSHk4K3JsanMwem1tZ0h4dk9SKzJTTlVvT1hrTnpsaThMQnM9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"6fb57f909c46283d2e48997dba0453eaf2fe8be79094cb566197a30658706583\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"6fb57f909c46283d2e48997dba0453eaf2fe8be79094cb566197a30658706583\": {\n      \"keyid\": \"6fb57f909c46283d2e48997dba0453eaf2fe8be79094cb566197a30658706583\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUtqOWV6bFVvYzhlMWlIdDJLbEIyV1FjdDBQdDRIdmVjbmYxR1VjQWF6WWM9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"76999cf3f78c83e98f22497bd2edc6b7e53a4ec2d15f98a6caa46405d58b5359\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"76999cf3f78c83e98f22497bd2edc6b7e53a4ec2d15f98a6caa46405d58b5359\": {\n      \"keyid\": \"76999cf3f78c83e98f22497bd2edc6b7e53a4ec2d15f98a6caa46405d58b5359\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQW5aVUdQaGlMQWhiZnpqM0h6dzhTYStDR0hmVHhEVlh3WjNrL0NidG9nVTg9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"fa304fdd1f8695ea83b07cb2f1f4943d24b5d76feffdb9fa735301fdb8133ed4\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"fa304fdd1f8695ea83b07cb2f1f4943d24b5d76feffdb9fa735301fdb8133ed4\": {\n      \"keyid\": \"fa304fdd1f8695ea83b07cb2f1f4943d24b5d76feffdb9fa735301fdb8133ed4\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTBhQWd0b2VFOGxJbEZPSnhxMlZReXVRZUoxR25Tek1yZThuQTNjbExmRG89Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"f88b41318451285947a9e567fddb3cf27ba04642ff9b9173cca3408027dc99da\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"f88b41318451285947a9e567fddb3cf27ba04642ff9b9173cca3408027dc99da\": {\n      \"keyid\": \"f88b41318451285947a9e567fddb3cf27ba04642ff9b9173cca3408027dc99da\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQU4yUituSlAxL1djKzlFU3NGYTUvTEc2RWFIWVljUUVHN3ZFaFUwK2Q5TjA9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"99b127f4c0f19f75dd4449f5e6a0455ef8f5caf761eec8d5a983a6dd56b1e543\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"99b127f4c0f19f75dd4449f5e6a0455ef8f5caf761eec8d5a983a6dd56b1e543\": {\n      \"keyid\": \"99b127f4c0f19f75dd4449f5e6a0455ef8f5caf761eec8d5a983a6dd56b1e543\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQU1LZHJ4YnVJcERuZXZIeDhEdTFsQ0ZMaWpBOGxERUMvMGhBL2hVOUtSMFU9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"cf28a830c13e00fd739ad6284b11e5a4b0868e1880cf861572334162621d58be\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"cf28a830c13e00fd739ad6284b11e5a4b0868e1880cf861572334162621d58be\": {\n      \"keyid\": \"cf28a830c13e00fd739ad6284b11e5a4b0868e1880cf861572334162621d58be\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWlIWnJOZHN5UlczdmZ6Z3FVTWJ3aHlULzlSOXAvbjl0R0JtQnp3QkQ3Zm89Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"bec427025dc4d630c068e866ee7c1031eea1c27375f91ce3844c799b721da7b5\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"bec427025dc4d630c068e866ee7c1031eea1c27375f91ce3844c799b721da7b5\": {\n      \"keyid\": \"bec427025dc4d630c068e866ee7c1031eea1c27375f91ce3844c799b721da7b5\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQU1iRWRQVnRqMVdRNENlVm9YdFhvcDl0UjliV2NoYVBRRU96Yk16dUwwcEE9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"d3f43753678b4c3349ded8ed8d6ce71108efec394f4a10a661b0bc6b919f7fa0\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"d3f43753678b4c3349ded8ed8d6ce71108efec394f4a10a661b0bc6b919f7fa0\": {\n      \"keyid\": \"d3f43753678b4c3349ded8ed8d6ce71108efec394f4a10a661b0bc6b919f7fa0\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUtqZGpNT0RhU2NLNUhhNmtvek51OVp5UHRUeS9GYTdQQ2tNbVJhWjd3REE9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"2d2b7a9f44042dfd437e6bfa25dd7bf1ef1ff2377b37728a1caa85cf0ac83760\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"2d2b7a9f44042dfd437e6bfa25dd7bf1ef1ff2377b37728a1caa85cf0ac83760\": {\n      \"keyid\": \"2d2b7a9f44042dfd437e6bfa25dd7bf1ef1ff2377b37728a1caa85cf0ac83760\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWd2RTlhdWlxV3d3MXRtTHVCbVJ1akpNWG1IYXFiZVVJZENmYkRNdytsYUk9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"b9c1096e3d50b198931b84629edce5f7d1952ad36131de61dbc4d54eab89107a\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"b9c1096e3d50b198931b84629edce5f7d1952ad36131de61dbc4d54eab89107a\": {\n      \"keyid\": \"b9c1096e3d50b198931b84629edce5f7d1952ad36131de61dbc4d54eab89107a\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTRiUFc0cDJHbXNyMGljSkZnbUdLMjJpdzZxSDU0UUhWaHB0L0VmcGNVSjQ9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"7f7755031485c08343bea5bac52d4f2931d440b4432e5fd85e27771ef82de7a2\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"7f7755031485c08343bea5bac52d4f2931d440b4432e5fd85e27771ef82de7a2\": {\n      \"keyid\": \"7f7755031485c08343bea5bac52d4f2931d440b4432e5fd85e27771ef82de7a2\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTdGUU9mZWhRamFhVFkzcGRwS0FZTjN0WXhuWDU4N2hzN1Zkekw0YmdiNFk9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"3607b335cb480712bce1410f29a90e037e45f4fe7bf80198f6b71bbe00e1c6e7\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"3607b335cb480712bce1410f29a90e037e45f4fe7bf80198f6b71bbe00e1c6e7\": {\n      \"keyid\": \"3607b335cb480712bce1410f29a90e037e45f4fe7bf80198f6b71bbe00e1c6e7\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUJyNVhXUEJzL0FtdVNCVjg5SFhqNnA0U214QVpITVJvVEl0dTRTdVc4REk9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"aa19ede1f01eda8fbfa17578fdcac3f65c7c154ecb8bf746a71a6303c2629ebb\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"aa19ede1f01eda8fbfa17578fdcac3f65c7c154ecb8bf746a71a6303c2629ebb\": {\n      \"keyid\": \"aa19ede1f01eda8fbfa17578fdcac3f65c7c154ecb8bf746a71a6303c2629ebb\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTVObTdxSWVhK0NlNC94azdwQXZaMWFxOStaSHA3RFc3a0g1bm9DVlU3cFE9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"01347ad9356c58400525c5c91ee17543577d474fc1cf8fd06503cad43145d4ac\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"01347ad9356c58400525c5c91ee17543577d474fc1cf8fd06503cad43145d4ac\": {\n      \"keyid\": \"01347ad9356c58400525c5c91ee17543577d474fc1cf8fd06503cad43145d4ac\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTdlSW1mUnR1RzRra08wNXJvTDNpZ0V4QmFEeXVDMGNBYU9YMjJzdVV0WWc9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"655b77c7b2cd8a7d07118a19129bf5fa83e8bf957edb6fdaf5c86ebb36975f72\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"655b77c7b2cd8a7d07118a19129bf5fa83e8bf957edb6fdaf5c86ebb36975f72\": {\n      \"keyid\": \"655b77c7b2cd8a7d07118a19129bf5fa83e8bf957edb6fdaf5c86ebb36975f72\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQStUcVZmcWZFRW1yOW1WNHNVZHFDbnhZYlZoSStYOUtRUXp2QkxtVWE0Yzg9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"d64cf0e96b63c75bd257672fce4fbec1bb500bd21deed36e9778150421b2124f\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"d64cf0e96b63c75bd257672fce4fbec1bb500bd21deed36e9778150421b2124f\": {\n      \"keyid\": \"d64cf0e96b63c75bd257672fce4fbec1bb500bd21deed36e9778150421b2124f\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXNEWTd4UmYvZFJYREJZRnE2bXhlTlNpc2tMaHRTWVJmU2JEZVNOTkllOFk9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"91f36fb695372e338deb424afb02819f691e9b9fde79aacc5b8d9d3bccc58bb9\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"91f36fb695372e338deb424afb02819f691e9b9fde79aacc5b8d9d3bccc58bb9\": {\n      \"keyid\": \"91f36fb695372e338deb424afb02819f691e9b9fde79aacc5b8d9d3bccc58bb9\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXpVS2tnSitpU3JmTzNoSlBUd2ZDbUdNVFNDYmpjSFBlZG5XdndqY3h5YVk9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"6ef2ba61a83e6c5834f9efd050befa993677097e1ed2673977733f6b74aa306e\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"6ef2ba61a83e6c5834f9efd050befa993677097e1ed2673977733f6b74aa306e\": {\n      \"keyid\": \"6ef2ba61a83e6c5834f9efd050befa993677097e1ed2673977733f6b74aa306e\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUhJeFBwajRhYy95STBkb3FqR0dQc3hqeG05ME1lVkEyNHF5cWdEcEQ2Q0E9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"a30b076c59b93e901d059147385160b72cf1a84ea9371e682dbee0b098964799\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"a30b076c59b93e901d059147385160b72cf1a84ea9371e682dbee0b098964799\": {\n      \"keyid\": \"a30b076c59b93e901d059147385160b72cf1a84ea9371e682dbee0b098964799\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUJheU1jd0VBUHdmZkRHQ0kzR0tYOWNQREt0RzJqR2lpKzEvQ3VOYUdrVmc9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"3e12cb54ad83983b8eb3f154a8066ef6fca52464b10bce118cca3059739eaebf\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"3e12cb54ad83983b8eb3f154a8066ef6fca52464b10bce118cca3059739eaebf\": {\n      \"keyid\": \"3e12cb54ad83983b8eb3f154a8066ef6fca52464b10bce118cca3059739eaebf\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTVRcnNWU04xcnIvT2s2TVR5M3J1ZlYreklmeTRxb0syOU05SUNhMlZqd1U9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"1ebbae3b0bc775b8c548f3a6fd786dab036ba6c8a88c0a44d1fac8f4e93bcb84\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"1ebbae3b0bc775b8c548f3a6fd786dab036ba6c8a88c0a44d1fac8f4e93bcb84\": {\n      \"keyid\": \"1ebbae3b0bc775b8c548f3a6fd786dab036ba6c8a88c0a44d1fac8f4e93bcb84\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWQ5MkJCclZGUGMyOTdBVW85N2FMRm9nY2tGUzJqVCtHWTJHYXl0TTNzMG89Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"bca0b981443a9dd284e41639e05cae27703828aba6a4a8a554c253080ad70349\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"bca0b981443a9dd284e41639e05cae27703828aba6a4a8a554c253080ad70349\": {\n      \"keyid\": \"bca0b981443a9dd284e41639e05cae27703828aba6a4a8a554c253080ad70349\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXFjQWw4NHRXc3loMlYwQXNORFNSQS8wdUtZQ3VIYjlRaExCS0ZlVDFuV2M9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"57077311bae6a74570cc431e2d3827ecaafb1a8d8c3e19a2b22e4159aa2da3ec\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"57077311bae6a74570cc431e2d3827ecaafb1a8d8c3e19a2b22e4159aa2da3ec\": {\n      \"keyid\": \"57077311bae6a74570cc431e2d3827ecaafb1a8d8c3e19a2b22e4159aa2da3ec\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWMwa2V4L3RnREY0anVXVDd3VjZCZnR6RjJOZkdVcDQ4b3lvTjhHMUwzQlk9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"6296ace0f768e326feb08403eaf6de06ec32e67b708d54ee41cae2b219bd4df6\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"6296ace0f768e326feb08403eaf6de06ec32e67b708d54ee41cae2b219bd4df6\": {\n      \"keyid\": \"6296ace0f768e326feb08403eaf6de06ec32e67b708d54ee41cae2b219bd4df6\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVp4b0dwV3FMckxIYzJVYjhOQ05jNFdjbW1TazI5SHkrUTRRQlZHcWl1bVE9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"1dac766ca948535c3a73b91ebfd5f30da284102d34a12e551e4fe435c63f3196\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"1dac766ca948535c3a73b91ebfd5f30da284102d34a12e551e4fe435c63f3196\": {\n      \"keyid\": \"1dac766ca948535c3a73b91ebfd5f30da284102d34a12e551e4fe435c63f3196\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQURCVWNrVzJyLzk2NnNSRUw5UWsreTFFNWdnZmFmOTFxWkdMUTdZMFl0djA9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"8c0ab66b35026c25e53deaa6596f7bd67f60d94f2a782adf94fcf83fe305076a\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"8c0ab66b35026c25e53deaa6596f7bd67f60d94f2a782adf94fcf83fe305076a\": {\n      \"keyid\": \"8c0ab66b35026c25e53deaa6596f7bd67f60d94f2a782adf94fcf83fe305076a\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTM2dStDUXFDS2IrVDB2R2gra0FXM0duZVpLZlllZnEwTTJvYy9KTXJhQXc9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"dde3172998b45c3e4bd42b05621ebd737813aa2443745d7ad9939b907a911328\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"dde3172998b45c3e4bd42b05621ebd737813aa2443745d7ad9939b907a911328\": {\n      \"keyid\": \"dde3172998b45c3e4bd42b05621ebd737813aa2443745d7ad9939b907a911328\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVY4Z25iVFJ1azkwUWNXU2FhR3BYWUpBb3FwTzhHUjg1TW9scTVEZHE5YlU9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"39b24339ca23e6c8684df61ada34353bdda161b182b5b7a3801ee66d5246c1e6\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"39b24339ca23e6c8684df61ada34353bdda161b182b5b7a3801ee66d5246c1e6\": {\n      \"keyid\": \"39b24339ca23e6c8684df61ada34353bdda161b182b5b7a3801ee66d5246c1e6\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWlpdjNrc2dzQ3pGbHZOaGMzUVArOHQvdUhnN2YvUkdoZzFqL2VqQ0ExY2M9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"ce8a60f1b9fa165db230072eded9474ac61c5aa5d403da03618a86449c5539a5\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"ce8a60f1b9fa165db230072eded9474ac61c5aa5d403da03618a86449c5539a5\": {\n      \"keyid\": \"ce8a60f1b9fa165db230072eded9474ac61c5aa5d403da03618a86449c5539a5\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVZNQlJNaDBSaDVqY1VmN3JuaWgrNE9BQ0RNeHdFNXp0OHZyWDd5UFBaUVk9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"8a2cb79b5bbee1e6ca048e5d5b5b69b66003dc87e59c955e674178a86665d3fa\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"8a2cb79b5bbee1e6ca048e5d5b5b69b66003dc87e59c955e674178a86665d3fa\": {\n      \"keyid\": \"8a2cb79b5bbee1e6ca048e5d5b5b69b66003dc87e59c955e674178a86665d3fa\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXlTY2N2cVo3S0VPVFRyV21PWlZnM21jREFDMXM2MmlzN0pCTTNEaEYxQW89Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"fd5ec6e0531909b9ab8390459bf474e5bf5914b4d0b8f5637bc9e93be651847f\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"fd5ec6e0531909b9ab8390459bf474e5bf5914b4d0b8f5637bc9e93be651847f\": {\n      \"keyid\": \"fd5ec6e0531909b9ab8390459bf474e5bf5914b4d0b8f5637bc9e93be651847f\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVFQTUZQOFRsMjhDSEUxc1V0cXpjc3Fhd052QmE0YnU0OHdKTkNsTTZMZ009Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"0b7009ecda5ed5fa6d36c9bbb148218434d40dde576c0c7d767fb9bc66ea79b9\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"0b7009ecda5ed5fa6d36c9bbb148218434d40dde576c0c7d767fb9bc66ea79b9\": {\n      \"keyid\": \"0b7009ecda5ed5fa6d36c9bbb148218434d40dde576c0c7d767fb9bc66ea79b9\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTRaVEZ2NS9ReVAwaVZGTnZPbFFXUlJlanpWdjIrRXJaeVFSa0ttemhUalU9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"03e975f71ee33a4cdbb2b03002814f716c1ebd6c988d6f5a22a10cee0239e558\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"03e975f71ee33a4cdbb2b03002814f716c1ebd6c988d6f5a22a10cee0239e558\": {\n      \"keyid\": \"03e975f71ee33a4cdbb2b03002814f716c1ebd6c988d6f5a22a10cee0239e558\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXpxeFRndVptUEE0U0I2Wi9hT2F3L2pZeE5ZZWJLdzUxczdwQlFLVXRhSUE9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"03fc0ddc846eb9b45ef986750046ec73700506d8bcf81465f41cb0cc2fd69e5e\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"03fc0ddc846eb9b45ef986750046ec73700506d8bcf81465f41cb0cc2fd69e5e\": {\n      \"keyid\": \"03fc0ddc846eb9b45ef986750046ec73700506d8bcf81465f41cb0cc2fd69e5e\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWdXejZyUjA4dEZwSGVuWXRCS1ZoeHI1TU5PUVo1OUo3aUs2SHZRelFYWTQ9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"ffaf3254b850dd4bd8c639219921376e2a1a6ea088734822846138addbc43578\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"ffaf3254b850dd4bd8c639219921376e2a1a6ea088734822846138addbc43578\": {\n      \"keyid\": \"ffaf3254b850dd4bd8c639219921376e2a1a6ea088734822846138addbc43578\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUJPcXA1V3ZMT3U3K2tmU3lod0tQVGIvWFkzM045M040UE1ialVjQ3hpUXM9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"eef8d8d1ae904d8f90f3f0963609a631feac732484b74db95309506c73d52db3\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"eef8d8d1ae904d8f90f3f0963609a631feac732484b74db95309506c73d52db3\": {\n      \"keyid\": \"eef8d8d1ae904d8f90f3f0963609a631feac732484b74db95309506c73d52db3\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVV5ZnBrVTRpK2thRzNuL0libWVmc0lxaHV6amFhbk1hNUpxMEdPT051OEE9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"e417c6010c8b3b5586916be25cafe4ae2d3422b4442b06c55d1fb6edee96b36b\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"e417c6010c8b3b5586916be25cafe4ae2d3422b4442b06c55d1fb6edee96b36b\": {\n      \"keyid\": \"e417c6010c8b3b5586916be25cafe4ae2d3422b4442b06c55d1fb6edee96b36b\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVZtcCsyV04rdEdScDkrdzUzdVR4ZHlBNW9MYWpOVm5zTjNzcFdITWxCMFk9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"864b05c7945724b9bae7248b467d0e8f7e278fb2e1e351f43b76c14b78c9a071\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"864b05c7945724b9bae7248b467d0e8f7e278fb2e1e351f43b76c14b78c9a071\": {\n      \"keyid\": \"864b05c7945724b9bae7248b467d0e8f7e278fb2e1e351f43b76c14b78c9a071\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTlBSk9VTi8vTEtTdDVqK3Z2SWZzQkJBcWJjN0d5Y3Y4My9BclhXblEyUWc9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"8f742dbd18ab5c9fd200885b63acc5d8f27c20eb016833ac57714704320539d5\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"8f742dbd18ab5c9fd200885b63acc5d8f27c20eb016833ac57714704320539d5\": {\n      \"keyid\": \"8f742dbd18ab5c9fd200885b63acc5d8f27c20eb016833ac57714704320539d5\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQThFQzNseWN0Z2cxdEl0alo3SFBKVVdSUDE2NnJ1S1AyVWQrdDBIVWdKL009Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"c5287a5761cd1d04a91a9693fdf4ab629dc2c82f0a354e020797b99aaf81b8e5\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"c5287a5761cd1d04a91a9693fdf4ab629dc2c82f0a354e020797b99aaf81b8e5\": {\n      \"keyid\": \"c5287a5761cd1d04a91a9693fdf4ab629dc2c82f0a354e020797b99aaf81b8e5\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVhtVjkxVHI0UUxneVBUUDE2SndlSGFRS3FvUmhneVgrOUV4K3dkY0dTTm89Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"17e8bfa9fffdcdc4f1f0466a3fa9f71b66ab4c74228c672b61f4c4de94570d45\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"17e8bfa9fffdcdc4f1f0466a3fa9f71b66ab4c74228c672b61f4c4de94570d45\": {\n      \"keyid\": \"17e8bfa9fffdcdc4f1f0466a3fa9f71b66ab4c74228c672b61f4c4de94570d45\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUpCRVhkUER3b0dqUUU1OXpIQTZxelFGVjdDbGFyNXJDK3MzWkxEbkxXY2c9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"9578eda7b75cf2adeaf4ab54dbdbf4ec716f03955e8fc6eea9e43ceec9ea3af0\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"9578eda7b75cf2adeaf4ab54dbdbf4ec716f03955e8fc6eea9e43ceec9ea3af0\": {\n      \"keyid\": \"9578eda7b75cf2adeaf4ab54dbdbf4ec716f03955e8fc6eea9e43ceec9ea3af0\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQURKc2QwRU1yYk5PbndUUXBkUmRvYktzY21WNEVJbG9aL0tyQ1Q2c0hPYWM9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"e283a47619c265fbeac12f1caf798678ea20d6baac0ebd88a72018f131373b82\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"e283a47619c265fbeac12f1caf798678ea20d6baac0ebd88a72018f131373b82\": {\n      \"keyid\": \"e283a47619c265fbeac12f1caf798678ea20d6baac0ebd88a72018f131373b82\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTU4QTVXV1UzRFA1czIxanovMWVrNEpLZVlZcElMK3g4bzJpR3dnR3NrYzQ9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"9252c33340aa7ef95260115145bd3d63738308ef182e962e32c47d1f29ab9d21\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"9252c33340aa7ef95260115145bd3d63738308ef182e962e32c47d1f29ab9d21\": {\n      \"keyid\": \"9252c33340aa7ef95260115145bd3d63738308ef182e962e32c47d1f29ab9d21\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWRaK1MxNVFPK3RVNWs4QlRUS1JzbTd1Y0dyOEtYQ1Z5cU1tMGNMeXRQbzA9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"10146aa30d60e3f68c805879171a8d33897bef33c4c643e7d59c23f94ddb0207\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"10146aa30d60e3f68c805879171a8d33897bef33c4c643e7d59c23f94ddb0207\": {\n      \"keyid\": \"10146aa30d60e3f68c805879171a8d33897bef33c4c643e7d59c23f94ddb0207\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWpSeGNnOWN3dy9veENoSUpVSVMzMkt1ZDVCbzlKd1lZaThRbTFnR0hDOVk9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"f81c450d8dfcce0d66589a21feac22d815fd8c8e5795b023aab3fdf6db425f4e\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"f81c450d8dfcce0d66589a21feac22d815fd8c8e5795b023aab3fdf6db425f4e\": {\n      \"keyid\": \"f81c450d8dfcce0d66589a21feac22d815fd8c8e5795b023aab3fdf6db425f4e\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTd2MUVubENtMlFJajJBQW04Sm81Q2I3eko0TGxhMk1QMHJhQW5Ec1dhZVU9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"61db32ecd2c1f811c073c422301fa04f2f7f2e36a89b66cafd696a500a93504b\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"61db32ecd2c1f811c073c422301fa04f2f7f2e36a89b66cafd696a500a93504b\": {\n      \"keyid\": \"61db32ecd2c1f811c073c422301fa04f2f7f2e36a89b66cafd696a500a93504b\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXhhdDd2ekxvZS9UVkFwRldhMUJQZjVQZllzQ212QkUxQ0R0ZlNVbnFWa0E9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"d0510325791739fb8c7b108c661f9529079be3cc0ef2b3004aa98bb599b8d2c0\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"d0510325791739fb8c7b108c661f9529079be3cc0ef2b3004aa98bb599b8d2c0\": {\n      \"keyid\": \"d0510325791739fb8c7b108c661f9529079be3cc0ef2b3004aa98bb599b8d2c0\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXcxYWR3cE9sWWhJTzdnWHBDaXE2VEsxd1V2NWd3L0VVMW5na1JOUVVpNm89Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"fd37ea0694f752a6ff79d9101b3c9ab998f56759d68ca83fe10b0584f1fac15c\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"fd37ea0694f752a6ff79d9101b3c9ab998f56759d68ca83fe10b0584f1fac15c\": {\n      \"keyid\": \"fd37ea0694f752a6ff79d9101b3c9ab998f56759d68ca83fe10b0584f1fac15c\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXQxZ0twcDlialM2cklEcFdPMXdlNDFJZm5HcHd1LytCSVgrNEF2VXlaWUE9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"c443d0a8c95a4b06b02fc958f0460babe29cc7b8d6c837473e7ef62e8842c830\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"c443d0a8c95a4b06b02fc958f0460babe29cc7b8d6c837473e7ef62e8842c830\": {\n      \"keyid\": \"c443d0a8c95a4b06b02fc958f0460babe29cc7b8d6c837473e7ef62e8842c830\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTFnTWZTWEQvSUJ5cWZPT0taV2F1VWZwenNpTmJRVFVTalViZW4zQnR6WTg9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"801072355de147d67c600a934b215c05dfff34ba108d8b8af3cc9d9f61f3dd56\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"801072355de147d67c600a934b215c05dfff34ba108d8b8af3cc9d9f61f3dd56\": {\n      \"keyid\": \"801072355de147d67c600a934b215c05dfff34ba108d8b8af3cc9d9f61f3dd56\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTY1LzR3b3V6TStTOFE4VmZoSjE5ZVpTaWE1SGVpS0NVa1dINDVjcVUrajg9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"07d573121980f797097c265bc11bdd0c345bc04e999d3c22e06fc8d41dc284b2\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"07d573121980f797097c265bc11bdd0c345bc04e999d3c22e06fc8d41dc284b2\": {\n      \"keyid\": \"07d573121980f797097c265bc11bdd0c345bc04e999d3c22e06fc8d41dc284b2\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTIwQW1hQnhPUktLamV2OVdaSWtvK09IbWFBbm1zZEp5Vlh5L2MxOEFlbFk9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"a3fb4c844d9952d17d3e9608913112cbdd3509c5bd5e482ab1d0f3c35a8a11e2\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"a3fb4c844d9952d17d3e9608913112cbdd3509c5bd5e482ab1d0f3c35a8a11e2\": {\n      \"keyid\": \"a3fb4c844d9952d17d3e9608913112cbdd3509c5bd5e482ab1d0f3c35a8a11e2\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUI0WlF3ZVJWQ3d2ZGp6M0w5YnQvQWlYWWkrUDhVY1dJNk4rRGs2UWlZQzQ9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"2cf01043cef45cd3278aa0d8e85a0cead685f264db3796637aab1663ca420e08\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"2cf01043cef45cd3278aa0d8e85a0cead685f264db3796637aab1663ca420e08\": {\n      \"keyid\": \"2cf01043cef45cd3278aa0d8e85a0cead685f264db3796637aab1663ca420e08\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVBFL2xMNG4vUFkwc0NXOXNvbldhdThueU1qYWhoMFlpVFZ6R3pwR2pkbzg9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"d58d23820c4dc20da841aa7b26e9063275d45c7ea85fe9434c051a8c5aac3e04\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"d58d23820c4dc20da841aa7b26e9063275d45c7ea85fe9434c051a8c5aac3e04\": {\n      \"keyid\": \"d58d23820c4dc20da841aa7b26e9063275d45c7ea85fe9434c051a8c5aac3e04\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQU50TFpzNlg4c2VaVDFrRTVvTXhUcXR1RXZLVXRraXljU1paRExWOG1xZlU9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"b677e93308a1eb276914ab7b6ef7301c0f35d4324ee2b65d5f222fa58b8899f0\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"b677e93308a1eb276914ab7b6ef7301c0f35d4324ee2b65d5f222fa58b8899f0\": {\n      \"keyid\": \"b677e93308a1eb276914ab7b6ef7301c0f35d4324ee2b65d5f222fa58b8899f0\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXZZUFRVa09UZ3k0d2FrMmc0blBIWDl3NGRCMHAvTHB5WkE1UWVzSUJFcUk9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"94703cc89fe37721dac81ebc060f713e9fa8920bc01a1c1c8b2d09f241ccc2a3\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"94703cc89fe37721dac81ebc060f713e9fa8920bc01a1c1c8b2d09f241ccc2a3\": {\n      \"keyid\": \"94703cc89fe37721dac81ebc060f713e9fa8920bc01a1c1c8b2d09f241ccc2a3\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXk3ZVFHQ3BCQ2FMVWx2RnVPeTBHb0k4dHhLekNCUzhoRlZLYXdoUjRaQWs9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"2d38dde60249cfc5d850789cbb2e117eead504d23fbefef5f95998621d2c4c42\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"2d38dde60249cfc5d850789cbb2e117eead504d23fbefef5f95998621d2c4c42\": {\n      \"keyid\": \"2d38dde60249cfc5d850789cbb2e117eead504d23fbefef5f95998621d2c4c42\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVlJMUtoY013dDJUS210ditKNldZUElvMUczSWFSaVRodnhJbUNiU3p4Z0k9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"84602e9f1ba88c7ce8b7d04bd7a975005b59a92110fe17904bcd1faf7a7b0680\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"84602e9f1ba88c7ce8b7d04bd7a975005b59a92110fe17904bcd1faf7a7b0680\": {\n      \"keyid\": \"84602e9f1ba88c7ce8b7d04bd7a975005b59a92110fe17904bcd1faf7a7b0680\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXRwTVNkVVV0Zm4yMGhHSVAxSUhaaUtReGVERmt0S0hmck1CcjBUMS9FK1k9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"773e91b384df056813824fb5197729ed627cebbc2a54b62f7557de49f3f6f360\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"773e91b384df056813824fb5197729ed627cebbc2a54b62f7557de49f3f6f360\": {\n      \"keyid\": \"773e91b384df056813824fb5197729ed627cebbc2a54b62f7557de49f3f6f360\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWJHOEdTUjJBcnhmQ0w0M1M2dGMzamRMTVBhT0xSTEw0ekhOb29rVFBFRlU9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"99db69f928c9256366e46e4f2202de026dc8645b0e3fd35139ee316c67f766b2\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"99db69f928c9256366e46e4f2202de026dc8645b0e3fd35139ee316c67f766b2\": {\n      \"keyid\": \"99db69f928c9256366e46e4f2202de026dc8645b0e3fd35139ee316c67f766b2\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVNDWUt2L3RxcjRIMDY3UHQzUHJLT2lCNnpRMlQ4R2NXZVNiUHN3bllmM1k9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"a2789441796039ce0b66bba89b991251ea92ea76f9e4d3f0d8c06bd859d18d9b\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"a2789441796039ce0b66bba89b991251ea92ea76f9e4d3f0d8c06bd859d18d9b\": {\n      \"keyid\": \"a2789441796039ce0b66bba89b991251ea92ea76f9e4d3f0d8c06bd859d18d9b\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQU9BQTFtb2lHazVsUndzUWpidGN5eVZzWm41RWd5WW9xd2dPeWZmYUtiR1U9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"464376c528a661be7720645ce4ca9e40af3121d55a119869ac18b3f05eda6a6c\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"464376c528a661be7720645ce4ca9e40af3121d55a119869ac18b3f05eda6a6c\": {\n      \"keyid\": \"464376c528a661be7720645ce4ca9e40af3121d55a119869ac18b3f05eda6a6c\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWJkR25LN3JZQkhKZ2V3RUErWm1ScDM0SS9nUExyeW1FOXRIdWVlL0Y0THM9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"d1d5fae95d04fe5d9d6b341779e500716119db465c4ae0daf316da64d5ce6867\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"d1d5fae95d04fe5d9d6b341779e500716119db465c4ae0daf316da64d5ce6867\": {\n      \"keyid\": \"d1d5fae95d04fe5d9d6b341779e500716119db465c4ae0daf316da64d5ce6867\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUR1eExwRG0vMWFHUmxFR2FhTHlPZTYwT3MrMzgzRnF3K0JzZ2hQWnBmdW89Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"46d10f2d5b2c531dbeeb979256abb9963b50ffe22d189077566106f5a4125067\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"46d10f2d5b2c531dbeeb979256abb9963b50ffe22d189077566106f5a4125067\": {\n      \"keyid\": \"46d10f2d5b2c531dbeeb979256abb9963b50ffe22d189077566106f5a4125067\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVhpS09HeWp2R09XY1JJQjNMYWUxWktqMmFGS0pCejVtQmIrVVhQSlVPVTQ9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"0e0dffb25c18ddf12aae43c10737d3471ef7eebce0d0f180180c5768b162317a\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"0e0dffb25c18ddf12aae43c10737d3471ef7eebce0d0f180180c5768b162317a\": {\n      \"keyid\": \"0e0dffb25c18ddf12aae43c10737d3471ef7eebce0d0f180180c5768b162317a\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWt4dzl1bmE0Y1llRnZNQU1lVFpwWXkvTWlWdTJocGFLaTd2bTJZNktoMm89Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"70397c0d69702ea0e5aafcd51f0523c2c7067f450858e2631d98c5e037ad7a43\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"70397c0d69702ea0e5aafcd51f0523c2c7067f450858e2631d98c5e037ad7a43\": {\n      \"keyid\": \"70397c0d69702ea0e5aafcd51f0523c2c7067f450858e2631d98c5e037ad7a43\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXBLZmRGbml2cFhOaVNCTjdmVXEwbUdNL2JoREpMcGZUd3ZVcGdGQW1xbFk9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"732fdeccc9a20b780cab8dceb45ab367a063aa078fa185a3a28be0fa76ce4a26\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"732fdeccc9a20b780cab8dceb45ab367a063aa078fa185a3a28be0fa76ce4a26\": {\n      \"keyid\": \"732fdeccc9a20b780cab8dceb45ab367a063aa078fa185a3a28be0fa76ce4a26\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWhtZ2FaWDFGTlM0MXl0eW9vTTg1bzFURWs3all6RUJBbitFZGYrQ3Y4NzA9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"3bc1b20b66e87b3ef117fec85ce3d397b7c9c0cdcd344452bec515653dfee189\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"3bc1b20b66e87b3ef117fec85ce3d397b7c9c0cdcd344452bec515653dfee189\": {\n      \"keyid\": \"3bc1b20b66e87b3ef117fec85ce3d397b7c9c0cdcd344452bec515653dfee189\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVFJZkN1WUdwaVlkYStXTzAxYm5qK0FIYkNVK09zOTBvT3V0QkFWUzBDOTg9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"2ed0088dae268f6145d7fa18ed342d2dc3cf5fe87d924358540b95eb069e7bab\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"2ed0088dae268f6145d7fa18ed342d2dc3cf5fe87d924358540b95eb069e7bab\": {\n      \"keyid\": \"2ed0088dae268f6145d7fa18ed342d2dc3cf5fe87d924358540b95eb069e7bab\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXdlR0MvcGZiUkpBelZlOElRNDZFMGhqYjhJcjNiNUhPbkZzN2pPMzJlSTA9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"ec33cea1ca16d0e35e89168348a73c518d87539118abd450d5c2121002361c7a\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"ec33cea1ca16d0e35e89168348a73c518d87539118abd450d5c2121002361c7a\": {\n      \"keyid\": \"ec33cea1ca16d0e35e89168348a73c518d87539118abd450d5c2121002361c7a\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTY5TkZ1N0dxUThBTU5mQUg3Q0cvWnp1ci85Tkw3aEhqdk9SVVZCaHczWDg9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"4cb5ba518e53898ef20bcdf1f7b079e387728472527313a8d92b6d92a298f440\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"4cb5ba518e53898ef20bcdf1f7b079e387728472527313a8d92b6d92a298f440\": {\n      \"keyid\": \"4cb5ba518e53898ef20bcdf1f7b079e387728472527313a8d92b6d92a298f440\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUkvRWltVmdKY1gzRHhCTmozckl6a1lRVm91bVlLemZCSWZRM0tlMCtMNzA9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"d4a9ad914ac37d1dca5810fd3eaae9e735af0bd8b4396a478630cff72c6de2ad\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"d4a9ad914ac37d1dca5810fd3eaae9e735af0bd8b4396a478630cff72c6de2ad\": {\n      \"keyid\": \"d4a9ad914ac37d1dca5810fd3eaae9e735af0bd8b4396a478630cff72c6de2ad\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWZZa0d5eWYxdmJUMW9lOU5penMwN0NsRkVLWFR2WmtmS2pKb2E2cTFqS0E9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"4d3e9f983ee18892f3e02a8829869d64d12498a4983bf7c08e5d505092966ff8\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"4d3e9f983ee18892f3e02a8829869d64d12498a4983bf7c08e5d505092966ff8\": {\n      \"keyid\": \"4d3e9f983ee18892f3e02a8829869d64d12498a4983bf7c08e5d505092966ff8\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVpHVmdpYmQ2UHJKR2ZTbHZ1VVVRMUhsamJuTUNHSHJyRkg5QnBJaTd6T0U9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"ebcd6b36bd50f3f052056862ec1b1f47460c8ecc2aa5a92876d42f0e6ad7b647\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"ebcd6b36bd50f3f052056862ec1b1f47460c8ecc2aa5a92876d42f0e6ad7b647\": {\n      \"keyid\": \"ebcd6b36bd50f3f052056862ec1b1f47460c8ecc2aa5a92876d42f0e6ad7b647\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXlWSTd0b0JSZmo5L0YxQkt0TXFMN0lVeXl1Nk15azZkaUtiWTdjQSszS2c9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"b94d1c86112b8cc6d4d522223ff0cd8bb2ff1f731b4ebb0bd69d04f70bc93f74\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"b94d1c86112b8cc6d4d522223ff0cd8bb2ff1f731b4ebb0bd69d04f70bc93f74\": {\n      \"keyid\": \"b94d1c86112b8cc6d4d522223ff0cd8bb2ff1f731b4ebb0bd69d04f70bc93f74\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVJaaWdoekc4NDBzK3pmYXpiWXFKd0t6SEJyaXZnb0JOV3EzTHJiWHRudXc9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"c0d04f656c110d621ca8894328318e25190bfc998ca1e98f10bd1a29e92c472d\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"c0d04f656c110d621ca8894328318e25190bfc998ca1e98f10bd1a29e92c472d\": {\n      \"keyid\": \"c0d04f656c110d621ca8894328318e25190bfc998ca1e98f10bd1a29e92c472d\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQW1iYkNJbXRZS0FWTzlrUk5kWlUvSXVmUUxxQk5MZ1ZmaXBwS0Q2ZTNQUEk9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"dbddacf8d4858e347b7bd436c2eecdba0208109f0bf89a66eeb3256bdf6441bc\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"dbddacf8d4858e347b7bd436c2eecdba0208109f0bf89a66eeb3256bdf6441bc\": {\n      \"keyid\": \"dbddacf8d4858e347b7bd436c2eecdba0208109f0bf89a66eeb3256bdf6441bc\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQU11K2FZLzExVWM1cDlHS1YyZ2ErNE0wT2ZxcUMxWlJQRXMvTUNnZUNVZDQ9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"a23690caad4b63837f7c15243dddf79ab2ee81e50b9ea5a0281c24b2652f1315\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"a23690caad4b63837f7c15243dddf79ab2ee81e50b9ea5a0281c24b2652f1315\": {\n      \"keyid\": \"a23690caad4b63837f7c15243dddf79ab2ee81e50b9ea5a0281c24b2652f1315\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUVYZkdoZS9JMjMwNks4aFdISVB4ZHhYY0hSUzdkVEFnVk45QnVuOWo1azA9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"1eead1cad14a9d564b730366b08e5b181a9d186557fcc9abc69ae02867287b44\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"1eead1cad14a9d564b730366b08e5b181a9d186557fcc9abc69ae02867287b44\": {\n      \"keyid\": \"1eead1cad14a9d564b730366b08e5b181a9d186557fcc9abc69ae02867287b44\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVRHVnF2TUtLZTBQOUpIbDlHbUNSTm5CSzgvelZwS2FmZXVLcHB0REpHUWM9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"578054e604abd3b99d16b4697c9065d4201474e4e704123f80ff10605164a1a8\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"578054e604abd3b99d16b4697c9065d4201474e4e704123f80ff10605164a1a8\": {\n      \"keyid\": \"578054e604abd3b99d16b4697c9065d4201474e4e704123f80ff10605164a1a8\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXJNMG93UzNhNjdnUzA2K2Y2NFpyU1hLZFNaTTh5ZXdUK0w0NlJRRXFaQ2s9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"22d609db4e002e48fbc81dc607b40f95c8334953e320f23db453f916a531245c\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"22d609db4e002e48fbc81dc607b40f95c8334953e320f23db453f916a531245c\": {\n      \"keyid\": \"22d609db4e002e48fbc81dc607b40f95c8334953e320f23db453f916a531245c\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVpOTXdPaU1mc0ppcFdzaTJnYmk3ZlY3ZnpETUhuaVlQMm1SRTlpVWdIZkU9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"9fc709220fb40202e663efdfb414197b525764de664764b6c84a2763b7954a6f\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"9fc709220fb40202e663efdfb414197b525764de664764b6c84a2763b7954a6f\": {\n      \"keyid\": \"9fc709220fb40202e663efdfb414197b525764de664764b6c84a2763b7954a6f\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVlQdlhINTQraDUyYTByNXo4TER1VklQeDQxUzRTaXp1K0wrM3Zzc3lkbGc9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"3a62b366d751b98a9e217d8a7d53cfb5809f81ab74310ac8efd2838fef4a50d4\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"3a62b366d751b98a9e217d8a7d53cfb5809f81ab74310ac8efd2838fef4a50d4\": {\n      \"keyid\": \"3a62b366d751b98a9e217d8a7d53cfb5809f81ab74310ac8efd2838fef4a50d4\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWp0SFdCVTUyY2kwakZ4WkdQRUdsQW5jd0lJNmtnZ1VSRnhUV21vUUNoT2s9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"47b6d590ba585d40ed119a16646c57ae0d5667e4c1f71d62b07ce6e0f6c9e01e\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"47b6d590ba585d40ed119a16646c57ae0d5667e4c1f71d62b07ce6e0f6c9e01e\": {\n      \"keyid\": \"47b6d590ba585d40ed119a16646c57ae0d5667e4c1f71d62b07ce6e0f6c9e01e\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWFFd3NvaThxTVo1Yk0yb0M4ZGlPNTZiWXJQUGROcE96TDFGK2t1dk91UUk9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"d67c64300370cef49d13fc8bc5de92491829c1d2b96d4287b8f4f3f32eafd7bc\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"d67c64300370cef49d13fc8bc5de92491829c1d2b96d4287b8f4f3f32eafd7bc\": {\n      \"keyid\": \"d67c64300370cef49d13fc8bc5de92491829c1d2b96d4287b8f4f3f32eafd7bc\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQS9NL1JxSmhOMklUZ0p0OHlHOVlXcWlSOEZDZm01ZmVXMEpCNzdNSjF6ekk9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"c92f518f3699b0d7ec5c80aaabe60eae41776b132c64a6a6fb5069a9449ec89c\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"c92f518f3699b0d7ec5c80aaabe60eae41776b132c64a6a6fb5069a9449ec89c\": {\n      \"keyid\": \"c92f518f3699b0d7ec5c80aaabe60eae41776b132c64a6a6fb5069a9449ec89c\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWk5VG5qWkNSejZEZjFSODhlZkNqdjhLUEg4SUp3d0FwelgwTjN6VGJydFE9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"21f57102d00a035c38da610c7d930503334c9101badfe0c171dcc6cc3d6b9142\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"21f57102d00a035c38da610c7d930503334c9101badfe0c171dcc6cc3d6b9142\": {\n      \"keyid\": \"21f57102d00a035c38da610c7d930503334c9101badfe0c171dcc6cc3d6b9142\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWZKbEVKY3BmSHpPN25wbGtqMDFFNUJrdVFXWmc5WGxMUU9EUFdJblNJRjg9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"d0c77f2a8af96845758b1df9bc3d1e217a81a63bd57efb4643823934b857581a\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"d0c77f2a8af96845758b1df9bc3d1e217a81a63bd57efb4643823934b857581a\": {\n      \"keyid\": \"d0c77f2a8af96845758b1df9bc3d1e217a81a63bd57efb4643823934b857581a\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVU1N2hsSWpRMExWQjl6NG52OElWczgzbFdzMVR6VXdxOVpncWc5TUJZdWc9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"04c2384f80fc6d45d8082fc66e2fdf4a00deeabf43eb34c56ac9b0329a916931\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"04c2384f80fc6d45d8082fc66e2fdf4a00deeabf43eb34c56ac9b0329a916931\": {\n      \"keyid\": \"04c2384f80fc6d45d8082fc66e2fdf4a00deeabf43eb34c56ac9b0329a916931\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUdST3FVRDZ5V3NCdVh5bUFvME1ZNmVsY0FIR21Fa0FLSTk0eFBuSWM2bm89Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"281b58b5f588779f22662d66e459dea38285c99d49f8fa6b0a89c8058008bf3e\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"281b58b5f588779f22662d66e459dea38285c99d49f8fa6b0a89c8058008bf3e\": {\n      \"keyid\": \"281b58b5f588779f22662d66e459dea38285c99d49f8fa6b0a89c8058008bf3e\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUozbWNqZmwwdGNzLzlrZ05zNmxxV0l1ak1mcU5KeFU0VFphUlpnbVlKL2M9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"3ab18869c640143218c2396324911a5d3a743348acfc307bca3a0cdbe456332f\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"3ab18869c640143218c2396324911a5d3a743348acfc307bca3a0cdbe456332f\": {\n      \"keyid\": \"3ab18869c640143218c2396324911a5d3a743348acfc307bca3a0cdbe456332f\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTFDQjJwdmtFNnlDYmVNSks5VUw5bFhzR0c3Nms2VG5IMldqVmhTMkI2cFk9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"84b4a29b8db0932c134eb4cd181f5dc1e74061654a476680254e69fc99ae77b0\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"84b4a29b8db0932c134eb4cd181f5dc1e74061654a476680254e69fc99ae77b0\": {\n      \"keyid\": \"84b4a29b8db0932c134eb4cd181f5dc1e74061654a476680254e69fc99ae77b0\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUV4V0JmNGRkNmc0UTNtVTBEMUc1QklLUzE4NW04WjUwNUN1TkkyTnVVVGc9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"0f8db7a5e6962f0dc62b0e94f824fbaf3f7012da0bd47e0ab92123199973dc7a\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"0f8db7a5e6962f0dc62b0e94f824fbaf3f7012da0bd47e0ab92123199973dc7a\": {\n      \"keyid\": \"0f8db7a5e6962f0dc62b0e94f824fbaf3f7012da0bd47e0ab92123199973dc7a\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQThrTHFCZVVZVXQvY0tHRnVLWnFCN0tlSVV1Y0pNZ2l0akJncS8vcUtYQ0U9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"5a9866e135db3be6ffdae9d31682fb252d2fd23e135b1713e02ed10b9a6b5259\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"5a9866e135db3be6ffdae9d31682fb252d2fd23e135b1713e02ed10b9a6b5259\": {\n      \"keyid\": \"5a9866e135db3be6ffdae9d31682fb252d2fd23e135b1713e02ed10b9a6b5259\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVYyNndDN05yWXlONWRXMGhJN0N0QXhVR1FiZ1FwYVorcVRqb1RiWFhMbmc9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"15bae828706303695faf1ec40278048c6f6cedeaabf73c3ffbadca64b5a8961e\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"15bae828706303695faf1ec40278048c6f6cedeaabf73c3ffbadca64b5a8961e\": {\n      \"keyid\": \"15bae828706303695faf1ec40278048c6f6cedeaabf73c3ffbadca64b5a8961e\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUxFY0kxL3dMQXkySGd1dXdNelFvOXBscVNRZ1haMmVpSVlRMXFVSTBXY1k9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"7c4e344d49cdfc392ce7668d17ad0e30e8dde9d69afbf6612e352b2f8c2bd414\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"7c4e344d49cdfc392ce7668d17ad0e30e8dde9d69afbf6612e352b2f8c2bd414\": {\n      \"keyid\": \"7c4e344d49cdfc392ce7668d17ad0e30e8dde9d69afbf6612e352b2f8c2bd414\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUl4clp3QUZqaGUzN0QwTWVYMHp3QzlvMWtPMmNKeSt3QXpSaDRCV09ZK2M9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"e842cfce40f6cd0f3bc04281c5149d847d61f2f7a797ce2857d3692e61475b93\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"e842cfce40f6cd0f3bc04281c5149d847d61f2f7a797ce2857d3692e61475b93\": {\n      \"keyid\": \"e842cfce40f6cd0f3bc04281c5149d847d61f2f7a797ce2857d3692e61475b93\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVoxSWJuMGwxc25mR3BXVjVlaW1MZkcrTDNFSjFnYUZiOWdvL21keVhEY0E9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"cb87995ef6bf413f6002a03471394dd0a04107303d45272fb14aaddbc1f7483a\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"cb87995ef6bf413f6002a03471394dd0a04107303d45272fb14aaddbc1f7483a\": {\n      \"keyid\": \"cb87995ef6bf413f6002a03471394dd0a04107303d45272fb14aaddbc1f7483a\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWU3VTlhcXdpVExxdWd3YU1IZGVaZlJ4ekFkdDBwc1Q3L1kwa0s5aEFTYnc9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"ea490a79e08c955ca44db182eaa443b29b8bb9a57768191247f8d21eac3564f8\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"ea490a79e08c955ca44db182eaa443b29b8bb9a57768191247f8d21eac3564f8\": {\n      \"keyid\": \"ea490a79e08c955ca44db182eaa443b29b8bb9a57768191247f8d21eac3564f8\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVQwTUlCZHZaL0h5aklVSDN3U3RIQjl0Vkh3UXkxU0dmTkM4Mm4yVThVZ1E9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"877549c5016bbfe4bc72336fd1254bea7bdb3a4ac4071aaef3535a71eadd4f1d\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"877549c5016bbfe4bc72336fd1254bea7bdb3a4ac4071aaef3535a71eadd4f1d\": {\n      \"keyid\": \"877549c5016bbfe4bc72336fd1254bea7bdb3a4ac4071aaef3535a71eadd4f1d\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXYrdTU2Z0pGd0UrbDRrUlU0TnNjaUlYcnQvV2NyZlptWGRjN1JPU3JNcDg9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"7892cd0915cc3e129856ae60cf28a57f0880ab22522fe2c81d6f576603c84e98\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"7892cd0915cc3e129856ae60cf28a57f0880ab22522fe2c81d6f576603c84e98\": {\n      \"keyid\": \"7892cd0915cc3e129856ae60cf28a57f0880ab22522fe2c81d6f576603c84e98\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXhqdE9BRjFCemh5ZFF5YXRnazk0dFVURGIwRCsxYU1aeU9LNW5ZUzFFN009Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"e63d5f3e3ab4968784f51086bfc4c94f58a6850c0e0db5eb569ee5d54b473aa2\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"e63d5f3e3ab4968784f51086bfc4c94f58a6850c0e0db5eb569ee5d54b473aa2\": {\n      \"keyid\": \"e63d5f3e3ab4968784f51086bfc4c94f58a6850c0e0db5eb569ee5d54b473aa2\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVdtTDc4cGo3bkFLUXZORCtHYTlLVFdrMGJVWVVoaHVpNzM1Q2JRWXAvT3c9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"bbec023304b805e8a06844648c37cf65dba3c54ea6a24f82d32bd462605a8ae2\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"bbec023304b805e8a06844648c37cf65dba3c54ea6a24f82d32bd462605a8ae2\": {\n      \"keyid\": \"bbec023304b805e8a06844648c37cf65dba3c54ea6a24f82d32bd462605a8ae2\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXA4VlM1NTQ2Vi95K2VWLzRKNDBxRS9CM1UycXRZWGV6WjFybWVFMW41SFU9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"99b604c8a7016bc3200da0e02d7be443d949f196a0829cd8d54a5121cc0f0aab\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"99b604c8a7016bc3200da0e02d7be443d949f196a0829cd8d54a5121cc0f0aab\": {\n      \"keyid\": \"99b604c8a7016bc3200da0e02d7be443d949f196a0829cd8d54a5121cc0f0aab\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQThVS3VsSCtrOEgxdFBMcjJsaU1tUVNhTDNzV0djTFlNdFpRbWpYcVZTQkk9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"986cdb72066cf7b9b90f7e4d3cbefa722f8cefe21abe1471c6726727f260eb21\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"986cdb72066cf7b9b90f7e4d3cbefa722f8cefe21abe1471c6726727f260eb21\": {\n      \"keyid\": \"986cdb72066cf7b9b90f7e4d3cbefa722f8cefe21abe1471c6726727f260eb21\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTYrZk9WS3Ezb3NIc01uREIrQUlLNjVZVDlWQVpsWW1xRllEYU05S2RLbWM9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"28015b8aabb65b30c4acbfe0ce054b021a1dfe16e6bb2329b74f435fab0fd645\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"28015b8aabb65b30c4acbfe0ce054b021a1dfe16e6bb2329b74f435fab0fd645\": {\n      \"keyid\": \"28015b8aabb65b30c4acbfe0ce054b021a1dfe16e6bb2329b74f435fab0fd645\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUlMaGE0Yy9tT25uWFdSK2sxcmVBS0I0dUJUZ21TZUQ0dGw2b2ZtblpiLzQ9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"cc3028f1c005293c5abe2132836e3c783063d346a64354f32fec7977d07ce170\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"cc3028f1c005293c5abe2132836e3c783063d346a64354f32fec7977d07ce170\": {\n      \"keyid\": \"cc3028f1c005293c5abe2132836e3c783063d346a64354f32fec7977d07ce170\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXFVTnZHd1c1SnVKazBpQ3VEN3hhRE5vM09HSUFUcldhQVFwKzN0T25tRmc9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"92f27ac8ed7f936b65ad3106fc7cefdb042f501138d6d5b637b9f04518b59c90\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"92f27ac8ed7f936b65ad3106fc7cefdb042f501138d6d5b637b9f04518b59c90\": {\n      \"keyid\": \"92f27ac8ed7f936b65ad3106fc7cefdb042f501138d6d5b637b9f04518b59c90\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQU0zNDN6cDJJY3JxYVF2aklDUnZKVVlINjJtSnRENXo0bXUrWFZWQzEyb289Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"595ce0b6799ca0513f1fec100e7a942b71ae38864443f1db0afbb02354637b8a\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"595ce0b6799ca0513f1fec100e7a942b71ae38864443f1db0afbb02354637b8a\": {\n      \"keyid\": \"595ce0b6799ca0513f1fec100e7a942b71ae38864443f1db0afbb02354637b8a\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVR0Rm1xMm0wUFdydXJHZFI1RzJRQ1U1cnlQYkR0Z3hOQWxNdGhWczNjOU09Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"0146eef83bfeb5960bec6e9fa0730266dddbe475f89211435527cb8a9199cf39\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"0146eef83bfeb5960bec6e9fa0730266dddbe475f89211435527cb8a9199cf39\": {\n      \"keyid\": \"0146eef83bfeb5960bec6e9fa0730266dddbe475f89211435527cb8a9199cf39\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVN4Tk42UG9Ca2x2c3JvSy9PZTZzSTFybDRqODlJaGdDa1lra3N2U2JlR2M9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"6caf8a42f4c2d1111d3196a76c1662e5b349a6dd5e5f6577851c2a96df8aa013\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"6caf8a42f4c2d1111d3196a76c1662e5b349a6dd5e5f6577851c2a96df8aa013\": {\n      \"keyid\": \"6caf8a42f4c2d1111d3196a76c1662e5b349a6dd5e5f6577851c2a96df8aa013\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXFYc2J1blUxWTlVM0I5V0lvYUl5TEV3Y1QvM3oxS2lBZkdVNXFqL3JndnM9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"a7bf869a85a41e3ec797107c1e8d31a28f1f9844754d518f6fb30e30fe261939\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"a7bf869a85a41e3ec797107c1e8d31a28f1f9844754d518f6fb30e30fe261939\": {\n      \"keyid\": \"a7bf869a85a41e3ec797107c1e8d31a28f1f9844754d518f6fb30e30fe261939\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUtOOC9nOHBidzZ1aktzMWpTaXQ0akZyL2tLVkpwT0ZOU1FjeWdHZ0lzdE09Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"20e63101099bbd51c5bb2bbae5a59918bb56eedc3d1bc7652384987ca7940620\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"20e63101099bbd51c5bb2bbae5a59918bb56eedc3d1bc7652384987ca7940620\": {\n      \"keyid\": \"20e63101099bbd51c5bb2bbae5a59918bb56eedc3d1bc7652384987ca7940620\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWZudm9MbjJTcGRZZUNSV3ZQbjJtWkVLSG5jU3lXNnN6RGtCOHBhT2pZWk09Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"65928f7a556cb373591460f801a1e4d6961c913232cafd93a0a73961c3c0dccc\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"65928f7a556cb373591460f801a1e4d6961c913232cafd93a0a73961c3c0dccc\": {\n      \"keyid\": \"65928f7a556cb373591460f801a1e4d6961c913232cafd93a0a73961c3c0dccc\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQU1MQ2MwQmtpRkdyQTNxb0F6eW9FUld2QmxkT0hvdFVCaDhCSFdGOE9lNFU9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"604863e88423899829b2009b4999745c2309005485e377f6a912dfcea68ff9ab\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"604863e88423899829b2009b4999745c2309005485e377f6a912dfcea68ff9ab\": {\n      \"keyid\": \"604863e88423899829b2009b4999745c2309005485e377f6a912dfcea68ff9ab\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXRTbTVpSHNOL1V1RW1JZEhQSTN6RlloWXRIWUFGcW1oNmV0emJhdEpiZ0k9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"89e9460f6eed78bf4f1b32d67c75659cfba2ca639c2fed2787b755afa6348b71\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"89e9460f6eed78bf4f1b32d67c75659cfba2ca639c2fed2787b755afa6348b71\": {\n      \"keyid\": \"89e9460f6eed78bf4f1b32d67c75659cfba2ca639c2fed2787b755afa6348b71\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWoyUGwyUzNCWVFQN1dXSG5lMjZCeGtEaWJia0NEc1JEd3JBbDRteE1EcDQ9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"303215abd4701858e2b618dc1a0ce382b40cfc52909035fb6f0edfde4302a6f0\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"303215abd4701858e2b618dc1a0ce382b40cfc52909035fb6f0edfde4302a6f0\": {\n      \"keyid\": \"303215abd4701858e2b618dc1a0ce382b40cfc52909035fb6f0edfde4302a6f0\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTFiOWNBaGUxRHZmMHVDZzk4THRhcVFDdm0xT1NZdGR1SzJnOGorOHNxYjQ9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"ab0ff99f47e3d073ae88b9bd2a44a8d454601b17fe1fd22c632d723ffefb3d8a\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"ab0ff99f47e3d073ae88b9bd2a44a8d454601b17fe1fd22c632d723ffefb3d8a\": {\n      \"keyid\": \"ab0ff99f47e3d073ae88b9bd2a44a8d454601b17fe1fd22c632d723ffefb3d8a\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWc0WXB5WVVuQWtPK3NsZlFCREd5dW1vQU9NNk5SUE5XYTFtOXN4OS9tOVE9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"5f20b31024bf7d687c0e56565f7d93d606f2dba626139410bfcec53673a0afd3\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"5f20b31024bf7d687c0e56565f7d93d606f2dba626139410bfcec53673a0afd3\": {\n      \"keyid\": \"5f20b31024bf7d687c0e56565f7d93d606f2dba626139410bfcec53673a0afd3\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQS9CNmNyblBmdG1mREYycG1DWlZBdzM5OFhUWFh4MXU1VG1GZ2J0R09SU3M9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"8be30d01d1f0d8327e47f6580ce12dc21fecdb63aff7c6b680f7e0119a84a322\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"8be30d01d1f0d8327e47f6580ce12dc21fecdb63aff7c6b680f7e0119a84a322\": {\n      \"keyid\": \"8be30d01d1f0d8327e47f6580ce12dc21fecdb63aff7c6b680f7e0119a84a322\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTZvYUpLY2k0NEVERHJZdWgvZHdoUXdnY3R5cHlXVncrVW8rdGhIeHlINzQ9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"8dab117f8d5321d54e3c88b5f6a6a30ed7f3369b4d38c03cf7f18c14b2b73471\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"8dab117f8d5321d54e3c88b5f6a6a30ed7f3369b4d38c03cf7f18c14b2b73471\": {\n      \"keyid\": \"8dab117f8d5321d54e3c88b5f6a6a30ed7f3369b4d38c03cf7f18c14b2b73471\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWt1d0pyckk1clJZaUJFV1pDN3BaVW53SE4rRExmUDE0ZFlTa3RlV2FPaGc9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"30796b91e1252d5c8230f2403d53c6ecc3cd2b470d720b6a10157e050a7b4e92\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"30796b91e1252d5c8230f2403d53c6ecc3cd2b470d720b6a10157e050a7b4e92\": {\n      \"keyid\": \"30796b91e1252d5c8230f2403d53c6ecc3cd2b470d720b6a10157e050a7b4e92\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXBCWXV0cC9NSHV1Mkh3TDhmeTNqa3FSWVJ3NFFOSXN2Q2pDd1BxclQzSlk9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"6bccb3c11a5a03a4eb59cc060d4fad0c27dc40bc21c01a2492878ebb9804e8fa\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"6bccb3c11a5a03a4eb59cc060d4fad0c27dc40bc21c01a2492878ebb9804e8fa\": {\n      \"keyid\": \"6bccb3c11a5a03a4eb59cc060d4fad0c27dc40bc21c01a2492878ebb9804e8fa\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXNKcVp1bzZCODQzajBqYjdvMFl0NHBZV2xkVGpGWWxuL1EyU3ovTFFRWHc9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"89d909396e1b3505b8810377c2596a547ab7be8f17d204d5265b002086937510\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"89d909396e1b3505b8810377c2596a547ab7be8f17d204d5265b002086937510\": {\n      \"keyid\": \"89d909396e1b3505b8810377c2596a547ab7be8f17d204d5265b002086937510\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXZoVkEvV3NCanBmYlY0SkhCNmdlWXM5aGtlaW1hQTdYZ0tIckErV3BTKzA9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"4bb1712453d6564b61753e1af5704342ffb8b2a41e344d68f66858a96c50b62c\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"4bb1712453d6564b61753e1af5704342ffb8b2a41e344d68f66858a96c50b62c\": {\n      \"keyid\": \"4bb1712453d6564b61753e1af5704342ffb8b2a41e344d68f66858a96c50b62c\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVNtQjNpSTVhakhtdXFMMysyb01DdGlKaHlGejlWZWRrNlhUbmNFNDlCbFU9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"a20731857dd93e09d5749b1b39e302ccee0f7280d6517f368c0ab3475ab5723a\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"a20731857dd93e09d5749b1b39e302ccee0f7280d6517f368c0ab3475ab5723a\": {\n      \"keyid\": \"a20731857dd93e09d5749b1b39e302ccee0f7280d6517f368c0ab3475ab5723a\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXZaTDNNOVQzZTAyN20vWURmMndLTFlvRjVaMGdkUVJzemZYZUNINXFneVE9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"c4922dfcf7ca47d7dab9d13b65657332d2ec5e6db691c70b83b8135832da7cc3\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"c4922dfcf7ca47d7dab9d13b65657332d2ec5e6db691c70b83b8135832da7cc3\": {\n      \"keyid\": \"c4922dfcf7ca47d7dab9d13b65657332d2ec5e6db691c70b83b8135832da7cc3\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVJzcGxIZndzdkpQeTA5ZG9yYyttMit4MmRWS2JadUpsRC9UU1ZnOSs2WnM9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"d004d05c1599cfb1ea5dceaabef281cf834bbba48adc5e59a6bee6487d194d15\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"d004d05c1599cfb1ea5dceaabef281cf834bbba48adc5e59a6bee6487d194d15\": {\n      \"keyid\": \"d004d05c1599cfb1ea5dceaabef281cf834bbba48adc5e59a6bee6487d194d15\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWorSjh2amZCYmVGd1Y5Um9EWFo4NDA3bjRpU3htRUtkb0gzVUI2cjZKZXc9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"a4a0f9cf554723035766d93fbc43619d9415c4db47002e19d16f51920775c71c\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"a4a0f9cf554723035766d93fbc43619d9415c4db47002e19d16f51920775c71c\": {\n      \"keyid\": \"a4a0f9cf554723035766d93fbc43619d9415c4db47002e19d16f51920775c71c\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXF3M1o0eWl2N3NhVTJUWUNuREtLZGxvcHJXNHg0T3FnVTRHUXdUTXh4RTg9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"2e022db78cc0394ccf37b78e191517c0e6f1b9b7ce2c5e9d2c2c057054466777\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"2e022db78cc0394ccf37b78e191517c0e6f1b9b7ce2c5e9d2c2c057054466777\": {\n      \"keyid\": \"2e022db78cc0394ccf37b78e191517c0e6f1b9b7ce2c5e9d2c2c057054466777\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWxXTkJxYkdyemJvNnZkWFNCSGRLWjVTc0Rqblg3NTNncVRzTy9CVkd1Ujg9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"d94d87123a91aca7f88a69fd41a475dbd6a068fcec10e49e5c9b4cf60178f304\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"d94d87123a91aca7f88a69fd41a475dbd6a068fcec10e49e5c9b4cf60178f304\": {\n      \"keyid\": \"d94d87123a91aca7f88a69fd41a475dbd6a068fcec10e49e5c9b4cf60178f304\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXhVQkJhbmMzNTUxVnB0Wkl1Z1g2MlRCVnZWeHNYa3kxRlRKN3BtWTJXcVU9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"7055e0d4fb55e18004a3c45348368352796591fe7866f5082cc636a5dc7138af\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"7055e0d4fb55e18004a3c45348368352796591fe7866f5082cc636a5dc7138af\": {\n      \"keyid\": \"7055e0d4fb55e18004a3c45348368352796591fe7866f5082cc636a5dc7138af\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUFicnd6KzVVVU1YOVQxbE54ZXpGVFl3MzI3QWg4M25UbWJvdGVuYU9qYUE9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"97eae6b84a36d09e6a4aa380391d2484eec6389561ff5ca1b8003a2669a7de27\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"97eae6b84a36d09e6a4aa380391d2484eec6389561ff5ca1b8003a2669a7de27\": {\n      \"keyid\": \"97eae6b84a36d09e6a4aa380391d2484eec6389561ff5ca1b8003a2669a7de27\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWhsam5INnA2NTBoU0FlemhmNG1OWnRmVDZVNWRYYnVHVEFLK3VpR3VocFU9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"5a4141fafd817eacc5fe371b88907febc1a8dd420605a160a66682362b2676ac\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"5a4141fafd817eacc5fe371b88907febc1a8dd420605a160a66682362b2676ac\": {\n      \"keyid\": \"5a4141fafd817eacc5fe371b88907febc1a8dd420605a160a66682362b2676ac\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWx4anFqZGdRMGxhUTdTSU5YVHJ2cnlNMlZmQXMzT3dTbUowSlJOVk5UZ2s9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"93004b60e7872e8209d600fbf80950b66f4ae1f2dc02bdaac759a3306bf8f1e0\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"93004b60e7872e8209d600fbf80950b66f4ae1f2dc02bdaac759a3306bf8f1e0\": {\n      \"keyid\": \"93004b60e7872e8209d600fbf80950b66f4ae1f2dc02bdaac759a3306bf8f1e0\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVFtQStGemNTSEZOSHNxQVZXRmQxNFhBRi9aWTIycFd2SkQvZ0xlNXpYUUE9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"ca893422c9cb21877177c3fa2f85c19b4e8b8270ebdb983dff6f9779ac9f12d7\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"ca893422c9cb21877177c3fa2f85c19b4e8b8270ebdb983dff6f9779ac9f12d7\": {\n      \"keyid\": \"ca893422c9cb21877177c3fa2f85c19b4e8b8270ebdb983dff6f9779ac9f12d7\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUYzU2lhcXlEZDFuK1BoZlhIdWlkUU9vRm9vVmFCalJnVVhxZDQxT3hVWEk9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"1d0a8f623e8fa70749c6d43f9b68f64553381b05053e134377af909d7e2ab898\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"1d0a8f623e8fa70749c6d43f9b68f64553381b05053e134377af909d7e2ab898\": {\n      \"keyid\": \"1d0a8f623e8fa70749c6d43f9b68f64553381b05053e134377af909d7e2ab898\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQStsSmV4TUNXanU3SGkwamhUQWZEMlBTRG1lWlhUODltalF3Mm9KWUc4WjQ9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"bacd7e485b5daca3a83fc3670ccbecd9f64d042bf778badc66852d46ef85383f\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"bacd7e485b5daca3a83fc3670ccbecd9f64d042bf778badc66852d46ef85383f\": {\n      \"keyid\": \"bacd7e485b5daca3a83fc3670ccbecd9f64d042bf778badc66852d46ef85383f\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXluYXBqSW9SSFlCMlRDcjFMWGJodGo2eHFJK0xPMm9oc2dzcU9FM3lKbzg9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"acbb0ce35edb5db27932d6e37f5bf033e2ab2139f6d37d40b75d547286523b19\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"acbb0ce35edb5db27932d6e37f5bf033e2ab2139f6d37d40b75d547286523b19\": {\n      \"keyid\": \"acbb0ce35edb5db27932d6e37f5bf033e2ab2139f6d37d40b75d547286523b19\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWVWL3pyOEFDUHZsUlE2alVNRGxYVlFzcE1uUFh6bmFnR29LWSt4d3lxcjQ9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"b92c9016038c49ffe095e73bbbf79c31e846d0dae5fc506bcf25a5d09c91e8b2\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"b92c9016038c49ffe095e73bbbf79c31e846d0dae5fc506bcf25a5d09c91e8b2\": {\n      \"keyid\": \"b92c9016038c49ffe095e73bbbf79c31e846d0dae5fc506bcf25a5d09c91e8b2\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVBISU43ZGo1Z0FlT0ExbHRoWW5BditZRTBYcU84YlJHNkl4SFB1WGFXRVU9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"69e63ee5ccc570a67061d245ce2088add748dfe266ef4fe0f2b34fe32a4d67a7\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"69e63ee5ccc570a67061d245ce2088add748dfe266ef4fe0f2b34fe32a4d67a7\": {\n      \"keyid\": \"69e63ee5ccc570a67061d245ce2088add748dfe266ef4fe0f2b34fe32a4d67a7\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQS9iUFNUUHhxR21oVC9yRE4xWnFIUWRUZnFjTEc5aU1WV0dZNTZEN1dJWjg9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"6d39b04296dfabea1a09a94926ac5af6aafb571665bb6906cd2a68988d300122\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"6d39b04296dfabea1a09a94926ac5af6aafb571665bb6906cd2a68988d300122\": {\n      \"keyid\": \"6d39b04296dfabea1a09a94926ac5af6aafb571665bb6906cd2a68988d300122\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVAzWWFPVmF1d0pBWUpyWk45WHFiVVFtdlhOdHRCVW9wUUlrZzBFMEVUL0E9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"5d3e1986a89b91e7ca64b204f1b25b14905e3cade5fe531da31ca489f25f7928\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"5d3e1986a89b91e7ca64b204f1b25b14905e3cade5fe531da31ca489f25f7928\": {\n      \"keyid\": \"5d3e1986a89b91e7ca64b204f1b25b14905e3cade5fe531da31ca489f25f7928\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXpvcVVyWG5nbll1RUZBRzVQR2p6Z2ZHNkFrSnNXSmRKeXJYZlpmVVBPOEU9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"d1b8786ea599f60b920014e27cbf7a14520a175e87760eeadae7901938c75b91\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"d1b8786ea599f60b920014e27cbf7a14520a175e87760eeadae7901938c75b91\": {\n      \"keyid\": \"d1b8786ea599f60b920014e27cbf7a14520a175e87760eeadae7901938c75b91\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUlzSEZMZ1lRTFk4dVgyeDAzb2RZZERzaDRZWmpuZWJzTmZxTjdNTzNGNzQ9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"0119913b6a1d04ae2a588f38630c1ee08feaa320cc0e3c5d950082b74a824dd4\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"0119913b6a1d04ae2a588f38630c1ee08feaa320cc0e3c5d950082b74a824dd4\": {\n      \"keyid\": \"0119913b6a1d04ae2a588f38630c1ee08feaa320cc0e3c5d950082b74a824dd4\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWZXZHd2SzlZMXJmVU5CeVRhV3JNWVAybzhaWDY5cE5Zdmkxem9qZXBnV289Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"a81d0af054c9c2196600c6631e10f6fa881ee645465b5fccdd1b4314b551ab97\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"a81d0af054c9c2196600c6631e10f6fa881ee645465b5fccdd1b4314b551ab97\": {\n      \"keyid\": \"a81d0af054c9c2196600c6631e10f6fa881ee645465b5fccdd1b4314b551ab97\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUlCMmhCNGNVUEE3ZktYcVQvZG8vSjRVbkUvclY2VXBzK1BiUXpPcmNVNWs9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"e02e9549ffa176c1d75f6104f5a402c7e3f2cd4fb753c2b4dbd582f813c44ee5\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"e02e9549ffa176c1d75f6104f5a402c7e3f2cd4fb753c2b4dbd582f813c44ee5\": {\n      \"keyid\": \"e02e9549ffa176c1d75f6104f5a402c7e3f2cd4fb753c2b4dbd582f813c44ee5\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWZjeGRqTFArNGxIL1hXcUFQYk4zdVRFbFpYem43d012QzdhVzNybDFUZDg9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"0dd4d2ddd7f40a7d0e022fc922141409b49622f8b154e4c78589583aa01272e7\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"0dd4d2ddd7f40a7d0e022fc922141409b49622f8b154e4c78589583aa01272e7\": {\n      \"keyid\": \"0dd4d2ddd7f40a7d0e022fc922141409b49622f8b154e4c78589583aa01272e7\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXp0Y2VMK1BxWDVIKy92aHJPOStZdjlFa05yektiRkZKeUVZUjdGbkVTZ1k9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"967ce3aa1f1639e528d5043d5ab81ada60e8f27d9eca5ae06263f1d3130bda5a\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"967ce3aa1f1639e528d5043d5ab81ada60e8f27d9eca5ae06263f1d3130bda5a\": {\n      \"keyid\": \"967ce3aa1f1639e528d5043d5ab81ada60e8f27d9eca5ae06263f1d3130bda5a\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUdOMnh4YnYwQlozeUErb0JKcUd6ZzFzVFRBdHJEWU1ocWdNNTN6TnhDaFU9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"fe4b2e60908123e8897f8873d3c0484adb471817a81465da2808cd1cd171590b\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"fe4b2e60908123e8897f8873d3c0484adb471817a81465da2808cd1cd171590b\": {\n      \"keyid\": \"fe4b2e60908123e8897f8873d3c0484adb471817a81465da2808cd1cd171590b\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQS91VVVKVVErTnlLOEJENE5uZytiaUlaV1pVaXN3TzJlTHYrMFlLQUlxQzg9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"577a4431c6926a7747c2aed820df45addf7568902ad00ac6785e1eeb51cf8992\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"577a4431c6926a7747c2aed820df45addf7568902ad00ac6785e1eeb51cf8992\": {\n      \"keyid\": \"577a4431c6926a7747c2aed820df45addf7568902ad00ac6785e1eeb51cf8992\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVFibThJWmcrL0hBU29LcVNoK083aGdDMzZwR0dnY0k0KytOSUJiSjJHbEU9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"dc20ec9a067b9b4cb88ca629c4c221f4e1db065bbb25ea310329eaaf583b6ef3\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"dc20ec9a067b9b4cb88ca629c4c221f4e1db065bbb25ea310329eaaf583b6ef3\": {\n      \"keyid\": \"dc20ec9a067b9b4cb88ca629c4c221f4e1db065bbb25ea310329eaaf583b6ef3\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXpoMkJXK3BsY3RKYS9pcmY2WU1mNUgvODlFNWRoc1psVnlwYXRucUNXajg9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"e04e80911a2b0667c63401a2b56b7d53a9e60a2112af8d3904c74b48b34b0aff\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"e04e80911a2b0667c63401a2b56b7d53a9e60a2112af8d3904c74b48b34b0aff\": {\n      \"keyid\": \"e04e80911a2b0667c63401a2b56b7d53a9e60a2112af8d3904c74b48b34b0aff\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTcrMlk3ZWdldGcwL0lWS3piUVBFT2NIN0RMTDlLM3U4aS9FS3BhS3ZzZGM9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"7673b2158f572316e2dfc30d6ca40313e1874281ec6bd15a5e022ed9a896f1f4\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"7673b2158f572316e2dfc30d6ca40313e1874281ec6bd15a5e022ed9a896f1f4\": {\n      \"keyid\": \"7673b2158f572316e2dfc30d6ca40313e1874281ec6bd15a5e022ed9a896f1f4\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUg1YWVKQnBFZ0RyU3RyK3VBRkdzd3JhcDl6TS9XWFlRd3h3MGtmSmJ3cWs9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"d325751736aa2aa24ef5dce9037916d4616697a21bf46d7fb1f0c9ba585c0f49\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"d325751736aa2aa24ef5dce9037916d4616697a21bf46d7fb1f0c9ba585c0f49\": {\n      \"keyid\": \"d325751736aa2aa24ef5dce9037916d4616697a21bf46d7fb1f0c9ba585c0f49\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUZqT29QOGdWTmdsKzFnczlTbjZPWkJQelFRcGxXdUVLeUliM3paZ3U3Rm89Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"ba59b6bf4f93fde54af222f6370fd93b023fdc38448e378174499c60378751f0\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"ba59b6bf4f93fde54af222f6370fd93b023fdc38448e378174499c60378751f0\": {\n      \"keyid\": \"ba59b6bf4f93fde54af222f6370fd93b023fdc38448e378174499c60378751f0\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVA0Sk5EY3lqNVNqOFVmSnRLdVZ4RDFNOXdOS0JFeEJjd2N5bEdrYlMyVkk9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"702857c8dc467dab7bad354f7e256923edc23974ceaf8cae1294b63f76f1d282\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"702857c8dc467dab7bad354f7e256923edc23974ceaf8cae1294b63f76f1d282\": {\n      \"keyid\": \"702857c8dc467dab7bad354f7e256923edc23974ceaf8cae1294b63f76f1d282\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVRHMUxNd2FGS0lNRldkSll2K09kMi8xRmp3K3B3dGxXeUhRZzIzVTNBQjQ9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"744525e88dcad7b022b4e6c122058501a27608c87193adf60f0017d06c81e78e\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"744525e88dcad7b022b4e6c122058501a27608c87193adf60f0017d06c81e78e\": {\n      \"keyid\": \"744525e88dcad7b022b4e6c122058501a27608c87193adf60f0017d06c81e78e\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQW05bWlWVXRRTzNrampQanFzWUZlWnUyY3NXNXdNZWhQb0d1MTFteG8rakk9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"a18fcf27d11add037613209e1dae13677307343a2a869c5c7a2b5d1220a4590c\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"a18fcf27d11add037613209e1dae13677307343a2a869c5c7a2b5d1220a4590c\": {\n      \"keyid\": \"a18fcf27d11add037613209e1dae13677307343a2a869c5c7a2b5d1220a4590c\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTdiamZRaE5sVTBiTTRQSFAwakZZaTg4aHovaFBvSnBGR3JWbHlHS3dFSWs9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"0cfea2a5fe866a3948f03dab797c0f35609cd69c065452772588d5c9eb5578ec\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"0cfea2a5fe866a3948f03dab797c0f35609cd69c065452772588d5c9eb5578ec\": {\n      \"keyid\": \"0cfea2a5fe866a3948f03dab797c0f35609cd69c065452772588d5c9eb5578ec\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUFRS2ZaVnpPVmhJdFU2TzBHU0NrUlBHaXZYTWkyZStxWHNOQ3N1aXFQcUE9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"d36f24f4858392b4a50521eb6f5fd3f506dcf4e2f1ef2447cd3e5d810590731f\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"d36f24f4858392b4a50521eb6f5fd3f506dcf4e2f1ef2447cd3e5d810590731f\": {\n      \"keyid\": \"d36f24f4858392b4a50521eb6f5fd3f506dcf4e2f1ef2447cd3e5d810590731f\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVMzUWxRNzNaNU80QW5uVkJJUU9lVVBDaW9tMHBKQXF6RmdKaENqdDNibGs9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"454fced56d410d937a1182c354342974cb50abd0357c34e30404eb7e31cca43b\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"454fced56d410d937a1182c354342974cb50abd0357c34e30404eb7e31cca43b\": {\n      \"keyid\": \"454fced56d410d937a1182c354342974cb50abd0357c34e30404eb7e31cca43b\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVBpK09oRGdyeVNIVXpzZ3VqaERNYXBia2VkSkpnSFdOYWlsT1dlanAyaUE9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"9d75f981332241eea2ffd15d58009e9bd6a26b04ea3a108cf2f8be16ed71b6e7\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"9d75f981332241eea2ffd15d58009e9bd6a26b04ea3a108cf2f8be16ed71b6e7\": {\n      \"keyid\": \"9d75f981332241eea2ffd15d58009e9bd6a26b04ea3a108cf2f8be16ed71b6e7\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUJybFM1SHZ0M0oxb3Bsd05FYytZa0hSdkRvTnFnYXo3TGN3VmxXSy9QZWM9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"a62c2bcebcbc0b9f4409ae425f4c84c440e1527131352eba53abf8c2750e86ae\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"a62c2bcebcbc0b9f4409ae425f4c84c440e1527131352eba53abf8c2750e86ae\": {\n      \"keyid\": \"a62c2bcebcbc0b9f4409ae425f4c84c440e1527131352eba53abf8c2750e86ae\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQW5MWnU3b2IvdU41MXJHaVlaWGxLcUJtZ2V2OTJSTW9JcDF3NmhNdmU2eXM9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"826c0e8c25fb1136e76db0f82b0309525ee3a60c39abb7379db50e8b72a9db69\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"826c0e8c25fb1136e76db0f82b0309525ee3a60c39abb7379db50e8b72a9db69\": {\n      \"keyid\": \"826c0e8c25fb1136e76db0f82b0309525ee3a60c39abb7379db50e8b72a9db69\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWlDUWFhWXVCY0dXK1BMRmVMUURCbkFsM0VKOGdkQzlPeXB5UWttV1h1TWc9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"fae30602684295ead3f4b9ab27d334257b68432e9dec4f569cc7929407b45752\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"fae30602684295ead3f4b9ab27d334257b68432e9dec4f569cc7929407b45752\": {\n      \"keyid\": \"fae30602684295ead3f4b9ab27d334257b68432e9dec4f569cc7929407b45752\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVIrY29lR3NpaWQ0RXhrWUFaZ040THRSd1FpZldEU0tvenpmVEJSN2RYaW89Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"842f59952f4271a9ace1f406be930d68987a0f920544ef8a4d09edcaa52a8667\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"842f59952f4271a9ace1f406be930d68987a0f920544ef8a4d09edcaa52a8667\": {\n      \"keyid\": \"842f59952f4271a9ace1f406be930d68987a0f920544ef8a4d09edcaa52a8667\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVYrZ0Vpa2VCL3dibEFVMFFZRzBXN3RBaW9xT052YlltMEc0QVNWeGsyUGc9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"5f4b54a3682f384e0c3a3300ddf02ada8a0420162b33d28a95a5ad22cc4935f4\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"5f4b54a3682f384e0c3a3300ddf02ada8a0420162b33d28a95a5ad22cc4935f4\": {\n      \"keyid\": \"5f4b54a3682f384e0c3a3300ddf02ada8a0420162b33d28a95a5ad22cc4935f4\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWdkMWllOEw3dUs2WGp6MW1HVXhTbjBvZFJRVkIvUDc3OStaeUVHa2FkalE9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"b8d7efd3db76bef5f9ef51b18815a5e59e44586120e82b3039b4ba8548029273\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"b8d7efd3db76bef5f9ef51b18815a5e59e44586120e82b3039b4ba8548029273\": {\n      \"keyid\": \"b8d7efd3db76bef5f9ef51b18815a5e59e44586120e82b3039b4ba8548029273\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQW55NlAvVURRWEhvcUN5KzkrZzBsT2p2R0tIREFkK2Q1d3pIRnZqSzhlWVE9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"bbeec9b2bd6c50aec5cec406f43bb892063dc8f7a40890168e01aed7df5db43d\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"bbeec9b2bd6c50aec5cec406f43bb892063dc8f7a40890168e01aed7df5db43d\": {\n      \"keyid\": \"bbeec9b2bd6c50aec5cec406f43bb892063dc8f7a40890168e01aed7df5db43d\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWhFYk0rWjI1c2JEdUp5c1dHMEJvaXhDQThXWFVkMm1lTFNmbTFUMmEyNXM9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"ffd92977198f25134b242be4e7f2d3a52310d5a25e82fffad582c54fd715217d\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"ffd92977198f25134b242be4e7f2d3a52310d5a25e82fffad582c54fd715217d\": {\n      \"keyid\": \"ffd92977198f25134b242be4e7f2d3a52310d5a25e82fffad582c54fd715217d\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUJHQ1pxRHhERmhrbTFtQy95Qk1DTk1DUWtSYTBjekYrN1JkT1F1VTliWVE9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"e8bd91fb9e8b405848761eefb2a17a5c4dda33787c3cfc93fa817b6ee1dc929c\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"e8bd91fb9e8b405848761eefb2a17a5c4dda33787c3cfc93fa817b6ee1dc929c\": {\n      \"keyid\": \"e8bd91fb9e8b405848761eefb2a17a5c4dda33787c3cfc93fa817b6ee1dc929c\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTVpcnFEVUdMZnIvM1NOc1NOMWFHVWNURjhoN1VrckMwY2xjckFzb2FvZU09Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"f6ae165e837495a36fb29ec4a9f6c3bcaddec1698f33e12ed7b2772fb8736b72\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"f6ae165e837495a36fb29ec4a9f6c3bcaddec1698f33e12ed7b2772fb8736b72\": {\n      \"keyid\": \"f6ae165e837495a36fb29ec4a9f6c3bcaddec1698f33e12ed7b2772fb8736b72\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQW02M3VxajkrV3pPQUNVaXkzeXRSelVQeGR6elpjVVlNbWtlc1lSYldYbnM9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"5698fffdec2d038fbc36c47283ba6b54a003c0e8f997d17827e2edac8fceff0e\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"5698fffdec2d038fbc36c47283ba6b54a003c0e8f997d17827e2edac8fceff0e\": {\n      \"keyid\": \"5698fffdec2d038fbc36c47283ba6b54a003c0e8f997d17827e2edac8fceff0e\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQURxazZTOWkyVlRUdjF5L3JydkJmaGNNTEZvREtzZEo2elhWQks3QnA0VDg9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"0e5c9d0a4fc50ac2581c3f71fedbc67fe2591bbb1cf521aecfa4d86678df83dd\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"0e5c9d0a4fc50ac2581c3f71fedbc67fe2591bbb1cf521aecfa4d86678df83dd\": {\n      \"keyid\": \"0e5c9d0a4fc50ac2581c3f71fedbc67fe2591bbb1cf521aecfa4d86678df83dd\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXRxckZYUXVXU01RdUpEQ1RZR2hqU0NaMTB4cmp1T0dsaTZkR3k0RU40b289Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"2185a76918ee15da30781e09dc49e601e42a364eb738de0bf87776b529118785\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"2185a76918ee15da30781e09dc49e601e42a364eb738de0bf87776b529118785\": {\n      \"keyid\": \"2185a76918ee15da30781e09dc49e601e42a364eb738de0bf87776b529118785\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTkrMmlDV2JLU1NmVVRSbGFWMlBWRld3TVVtK3RlZVljbjZSRVVjQ1V0eG89Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"603fe8a98fac5a642b8dea4bf3f0680ed43b16db74f652933ad1b53033fcb48b\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"603fe8a98fac5a642b8dea4bf3f0680ed43b16db74f652933ad1b53033fcb48b\": {\n      \"keyid\": \"603fe8a98fac5a642b8dea4bf3f0680ed43b16db74f652933ad1b53033fcb48b\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQU1UdkRUQjF0dk5UN0FFSVVIcWV4ZVA4Nk4xYndwVWlDR2VFVGVzVUdLRnc9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"9dd2b5a74d8a271bd22d1df3635e1f8f203c6f8cbad6937ce2ac1b3a409e2fae\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"9dd2b5a74d8a271bd22d1df3635e1f8f203c6f8cbad6937ce2ac1b3a409e2fae\": {\n      \"keyid\": \"9dd2b5a74d8a271bd22d1df3635e1f8f203c6f8cbad6937ce2ac1b3a409e2fae\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWtpdTA3WWFnS3h0bS9WYjN1VFlRRjQ2aS9JemovMHpYTldvUDJHS0lnbTg9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"6a3c31716450752339cc5dc279503ddfea26d62380c738964a2dc16404d65d97\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"6a3c31716450752339cc5dc279503ddfea26d62380c738964a2dc16404d65d97\": {\n      \"keyid\": \"6a3c31716450752339cc5dc279503ddfea26d62380c738964a2dc16404d65d97\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQStKcVVzYjd4b0twdks0dmNLMmtQaW5iTzJNejFkWm52L2o4TGlUQUtta3c9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"214319edc6f120c67e35d00a823416efa550e5a1cd1584fe4da5c2bd3df0aa3b\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"214319edc6f120c67e35d00a823416efa550e5a1cd1584fe4da5c2bd3df0aa3b\": {\n      \"keyid\": \"214319edc6f120c67e35d00a823416efa550e5a1cd1584fe4da5c2bd3df0aa3b\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUsrZko0aEhES05YVWp0Z2NvZExiWDFGUzlJeFkxODcrdGRtbWU4UG4yaGc9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"ee87bfd2719c247956fb968c627eba2bbf49eeeb1e0ec24f2d0e97b0ff17f0be\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"ee87bfd2719c247956fb968c627eba2bbf49eeeb1e0ec24f2d0e97b0ff17f0be\": {\n      \"keyid\": \"ee87bfd2719c247956fb968c627eba2bbf49eeeb1e0ec24f2d0e97b0ff17f0be\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUNoTzZKZ3RLRUJPMS9BUkhnRStISmd3bVB6MjdxOUxQTC9KU0o3NGw2d1U9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"ca84b3d1655edd86c78a663d2c846f904b28b98abfbffd0a4177d949bace14d2\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"ca84b3d1655edd86c78a663d2c846f904b28b98abfbffd0a4177d949bace14d2\": {\n      \"keyid\": \"ca84b3d1655edd86c78a663d2c846f904b28b98abfbffd0a4177d949bace14d2\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUNWNUpIQnNoNU5ya2s2WGdWNjY0TnpXR0g2aDlFVVZveE5lVFpGaVRYWTQ9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"4b7fcf3a98c493f4aa87b887169e49a7e7788356e48f7f8419cad958cfb69bfa\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"4b7fcf3a98c493f4aa87b887169e49a7e7788356e48f7f8419cad958cfb69bfa\": {\n      \"keyid\": \"4b7fcf3a98c493f4aa87b887169e49a7e7788356e48f7f8419cad958cfb69bfa\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWsyN1prSURQTForbHYveU0vMkQyQXEyc3M4S1daRXNQMHBNSkhFTE1PZms9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"76d796bb4abe3caa204fdf5172e98771f7af85997b5bc4c09f7da7d879b521a6\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"76d796bb4abe3caa204fdf5172e98771f7af85997b5bc4c09f7da7d879b521a6\": {\n      \"keyid\": \"76d796bb4abe3caa204fdf5172e98771f7af85997b5bc4c09f7da7d879b521a6\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTZNU0NZVHpHVDNIZUZiTHNCRXAvUUZnb3Yvc0Jvcis1OERDbHVobUJ6VEk9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"5982e90c6d208e259524d8a802f9523439119271f8b159d8aa8ddd21d2405e74\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"5982e90c6d208e259524d8a802f9523439119271f8b159d8aa8ddd21d2405e74\": {\n      \"keyid\": \"5982e90c6d208e259524d8a802f9523439119271f8b159d8aa8ddd21d2405e74\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXJXSXM1K2dYUlFsU1lCWUZibnVPem9kMVhCSnJUSmJ4WWhjMXArU2NWMUk9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"991bd6ca56d30019f7ec46c866ab46d3ecedc898e485f9522b8e65525bfcd6be\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"991bd6ca56d30019f7ec46c866ab46d3ecedc898e485f9522b8e65525bfcd6be\": {\n      \"keyid\": \"991bd6ca56d30019f7ec46c866ab46d3ecedc898e485f9522b8e65525bfcd6be\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTRTQ0pLeHlQR0ZkT3VDd2hzdGdQdXZBOHVtVzBJZVJMVWdDYnRnZENrZlU9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"90a643b78d2ed707bff0525bc684df2859d2e5e3ae692f20f5ccf9912579fc44\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"90a643b78d2ed707bff0525bc684df2859d2e5e3ae692f20f5ccf9912579fc44\": {\n      \"keyid\": \"90a643b78d2ed707bff0525bc684df2859d2e5e3ae692f20f5ccf9912579fc44\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUJsUVh6TllmYVpocXZJbGtVeW9PVktTdFI2d3RrSHNxLzdpcndHTjFVZVU9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"4fcb74162aa30b116b267d050d9640cd872782d9fdd2ffd13f9aec48fe4293ed\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"4fcb74162aa30b116b267d050d9640cd872782d9fdd2ffd13f9aec48fe4293ed\": {\n      \"keyid\": \"4fcb74162aa30b116b267d050d9640cd872782d9fdd2ffd13f9aec48fe4293ed\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQThGbzUvNHRIcTR4Y1JydmFweHBCcGcrMitiNU1NTmpBR1FmWHBpS2pFSXc9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"335107f9eb24067d2ea0c2b05a99160433e1702171be129729448c1b24c0b683\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"335107f9eb24067d2ea0c2b05a99160433e1702171be129729448c1b24c0b683\": {\n      \"keyid\": \"335107f9eb24067d2ea0c2b05a99160433e1702171be129729448c1b24c0b683\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTVoNjNUT3k1blFncU00L09USFd2RXpQbWVJbmJrTmR5MlB6S1hpOXA2N289Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"ca834d21e519b26f302fdf05f651e8679671a896c0ea448b2eaa20c3b9af923e\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"ca834d21e519b26f302fdf05f651e8679671a896c0ea448b2eaa20c3b9af923e\": {\n      \"keyid\": \"ca834d21e519b26f302fdf05f651e8679671a896c0ea448b2eaa20c3b9af923e\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWVjL0MwdU9lYm4yb05ocUYzODhXL0JabnVKeWxLNnlac2xEQjdid0JGdzQ9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"e9dca33174f78d831de138c8a8a01064e3d593a2ad5a9bb083fbc9892b53baaf\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"e9dca33174f78d831de138c8a8a01064e3d593a2ad5a9bb083fbc9892b53baaf\": {\n      \"keyid\": \"e9dca33174f78d831de138c8a8a01064e3d593a2ad5a9bb083fbc9892b53baaf\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUhqYktsZGZJZHNvRC9vUGorNFJRYXpZeS92ZnB6d28rcnN0S1pXTGt4TkE9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"c8133b7a3ec8a79ce50856547408de24ebf7ff68e42b32ee2dd1d997ba6eaa2b\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"c8133b7a3ec8a79ce50856547408de24ebf7ff68e42b32ee2dd1d997ba6eaa2b\": {\n      \"keyid\": \"c8133b7a3ec8a79ce50856547408de24ebf7ff68e42b32ee2dd1d997ba6eaa2b\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQW9nVTdVT2dRZkpGSlhpcjhxcndnYWI0bE8xSG9wWTc2YXpZZmFFaEVaOE09Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"60b75a9965232580edfd1433a73a28ce60918fb33006ff3ca7b2170089cb9460\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"60b75a9965232580edfd1433a73a28ce60918fb33006ff3ca7b2170089cb9460\": {\n      \"keyid\": \"60b75a9965232580edfd1433a73a28ce60918fb33006ff3ca7b2170089cb9460\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWxOSGR2aTg1TzFDTzFoRTYrMTNTTGhLc2J6V29BdHo1emJZZTJodlozS0E9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"a0709b804af027c966a398d7bdbca1c187ddc6a07fe03c67887fee47c903394e\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"a0709b804af027c966a398d7bdbca1c187ddc6a07fe03c67887fee47c903394e\": {\n      \"keyid\": \"a0709b804af027c966a398d7bdbca1c187ddc6a07fe03c67887fee47c903394e\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTN5ay9JOFhWSjNQZXVHOVB3QXliZk9hV0h2empvWEF1QnNJWWp5RGdYR0E9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"3ef5c782a3d7cd9f442d4bf19fcde567a2308deab305d78d90f7fb36b80d75b8\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"3ef5c782a3d7cd9f442d4bf19fcde567a2308deab305d78d90f7fb36b80d75b8\": {\n      \"keyid\": \"3ef5c782a3d7cd9f442d4bf19fcde567a2308deab305d78d90f7fb36b80d75b8\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWNmMlIvdThOcHhtMUZWZERnTitOQzVzK1VWY2lUVzRsT3JRdk43THlOdGM9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"c717c090b3359744537cb9534705acde4a016cd2601b7aebe0e55df1ddb335d4\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"c717c090b3359744537cb9534705acde4a016cd2601b7aebe0e55df1ddb335d4\": {\n      \"keyid\": \"c717c090b3359744537cb9534705acde4a016cd2601b7aebe0e55df1ddb335d4\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXA2czdHSVNOdVNab0dWSTRrazF6emtqdWNXNzdBTmM0dnE4WDlvdTNycHM9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"60233b698f0d442cddd77d357a759c65378b9cae41957f917e1af9c578526a74\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"60233b698f0d442cddd77d357a759c65378b9cae41957f917e1af9c578526a74\": {\n      \"keyid\": \"60233b698f0d442cddd77d357a759c65378b9cae41957f917e1af9c578526a74\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXplbTF2bUFVR3p5NjJ2b284bit1VDdWTUtOSVhZemErR0t2VDJPZ2p2dTQ9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"5d26d0989a679d42741aee9221846db61d319221c937a7f70aa33adcc76341de\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"5d26d0989a679d42741aee9221846db61d319221c937a7f70aa33adcc76341de\": {\n      \"keyid\": \"5d26d0989a679d42741aee9221846db61d319221c937a7f70aa33adcc76341de\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVNlRitVeVpTbWwzVlZYd2taa0Y5SFBZTVV1eVNqRWJMTEVMVnRDRXFxeDg9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"faf866d32a092daf3f6f69ddfa4a312b8acd876075e3acbeff66a9ce054e6645\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"faf866d32a092daf3f6f69ddfa4a312b8acd876075e3acbeff66a9ce054e6645\": {\n      \"keyid\": \"faf866d32a092daf3f6f69ddfa4a312b8acd876075e3acbeff66a9ce054e6645\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWdicmRBcFRseWY2bDlaeW5tTFhhRWg4N0c5Umkyem9OaDBEa3JRc3p4c0k9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"74ffe3902c2ea1303403db888e8153e72eeccf3b0dfd805b4a009ffbdb7882d9\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"74ffe3902c2ea1303403db888e8153e72eeccf3b0dfd805b4a009ffbdb7882d9\": {\n      \"keyid\": \"74ffe3902c2ea1303403db888e8153e72eeccf3b0dfd805b4a009ffbdb7882d9\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTdtaUhhSmdKdjZYNEZiSnBOdXVJOHNSZksyRUg3Vm9OYVdKUEpTeXRuY3M9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"9b2868b1d16e252a5ff9466ebf8dff9e490cca720f23216837848419936c2e29\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"9b2868b1d16e252a5ff9466ebf8dff9e490cca720f23216837848419936c2e29\": {\n      \"keyid\": \"9b2868b1d16e252a5ff9466ebf8dff9e490cca720f23216837848419936c2e29\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVplakQrN0tJVVd5K1RhWWZwdXJ3c0w2TldCcHE4RUxHMjJKV1ZkY3FSdFE9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"a7d812a70e97b26ada511e1810bae8e635a03a5895451d06a76e7be9a84d5593\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"a7d812a70e97b26ada511e1810bae8e635a03a5895451d06a76e7be9a84d5593\": {\n      \"keyid\": \"a7d812a70e97b26ada511e1810bae8e635a03a5895451d06a76e7be9a84d5593\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXFCeksvWHpSNFA1K3kzWTJXaGhDMjdWUDJUcElJRis0T1Jsb0xnOG11Mnc9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"9ca3dd3c8f9cff2af0232c9def02197370e53927f228fa504a8401211ec25b97\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"9ca3dd3c8f9cff2af0232c9def02197370e53927f228fa504a8401211ec25b97\": {\n      \"keyid\": \"9ca3dd3c8f9cff2af0232c9def02197370e53927f228fa504a8401211ec25b97\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQURPWU5TRHZPVmRGZGNrQkFBbmhINUJMb25lK3NTMFBMYzhmQWowRDRGNEU9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"5b9807d351c4333e2e544b46866986e7d85e858e8f5c2ab58fab38e033e3db88\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"5b9807d351c4333e2e544b46866986e7d85e858e8f5c2ab58fab38e033e3db88\": {\n      \"keyid\": \"5b9807d351c4333e2e544b46866986e7d85e858e8f5c2ab58fab38e033e3db88\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXUyUXVMTUFIVVZUWHplUFBDTTNSbDRhbW9DblBwbEhKeVVia2tNOGsxZ1U9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"237ce7b136455b1f2b676da2aa761615bd4b04e967fe002a52932ad1579caa4e\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"237ce7b136455b1f2b676da2aa761615bd4b04e967fe002a52932ad1579caa4e\": {\n      \"keyid\": \"237ce7b136455b1f2b676da2aa761615bd4b04e967fe002a52932ad1579caa4e\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVZ2TVdra1U0QnhsbjVFcVhPclhYZy9yMmdvenZNVzVpb3dFRjZralh6Y0E9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"26e21c7506861496de0c592def02334320826de55196a6b015462a25efea57f9\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"26e21c7506861496de0c592def02334320826de55196a6b015462a25efea57f9\": {\n      \"keyid\": \"26e21c7506861496de0c592def02334320826de55196a6b015462a25efea57f9\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVNyN3BXNUI2QkJ0QUhiTm5WOTR2QUJMSGl3ZVpMQzA1V2ttOC92VzZES2M9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"f3328d0e8157ce8a035378acac81970fae96345a0dbd5681ccb1c39a1e26e5f1\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"f3328d0e8157ce8a035378acac81970fae96345a0dbd5681ccb1c39a1e26e5f1\": {\n      \"keyid\": \"f3328d0e8157ce8a035378acac81970fae96345a0dbd5681ccb1c39a1e26e5f1\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVpTZXMxNW1DV25ocjEyYXdaS3NNY1VwY2VOc1VXOGlwL2RDMHBTcGNEWkk9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"135897fe8c9ac1bc2fa41b4bed1425fa5ccd4703bdf20c079d87d626777aa46a\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"135897fe8c9ac1bc2fa41b4bed1425fa5ccd4703bdf20c079d87d626777aa46a\": {\n      \"keyid\": \"135897fe8c9ac1bc2fa41b4bed1425fa5ccd4703bdf20c079d87d626777aa46a\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQU5CQWhzNXgxRC8zSytGR2ZmTVFWY3QzLzBDbE9UT3Y5cWxhM2w0RlkyV3c9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"21372e1f3f9f2f072caaab78235d80e493bd7034174fd90891ec1640920918f3\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"21372e1f3f9f2f072caaab78235d80e493bd7034174fd90891ec1640920918f3\": {\n      \"keyid\": \"21372e1f3f9f2f072caaab78235d80e493bd7034174fd90891ec1640920918f3\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVRVTnpnL21mS05RMVZLYzMrc0Y1ZDg4SnFrV0RUSDZHd3BBREtqNWtiVmc9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"edd76326315b32be3ac0d59aef8a7ccbc97f9088da6a0797f61f33b2be30a90b\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"edd76326315b32be3ac0d59aef8a7ccbc97f9088da6a0797f61f33b2be30a90b\": {\n      \"keyid\": \"edd76326315b32be3ac0d59aef8a7ccbc97f9088da6a0797f61f33b2be30a90b\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQW1Td1hMblAxRmxCbitXdXNnL0hDeUdWMlNhaWhQQWlkRlJySCtOZWF3cWM9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"38f5b41e73e3b179b7659b7a3971f432814526464b8a1452e94c0d26067122d5\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"38f5b41e73e3b179b7659b7a3971f432814526464b8a1452e94c0d26067122d5\": {\n      \"keyid\": \"38f5b41e73e3b179b7659b7a3971f432814526464b8a1452e94c0d26067122d5\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWVEQ3p4dnRnY1czWG9uTWhpcjZuMHRkVTd4My9JZ3ZVQno0bXZ2WmhDMEU9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"171f01affe60e37ff0f71fe7dc4b7e44019e40b13156497e22f0a9ccb6a09a7f\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"171f01affe60e37ff0f71fe7dc4b7e44019e40b13156497e22f0a9ccb6a09a7f\": {\n      \"keyid\": \"171f01affe60e37ff0f71fe7dc4b7e44019e40b13156497e22f0a9ccb6a09a7f\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVFab0ZoU0VmVzlYTDBmN1QxSHVIWk1OZmZaZm9id3BrNzNyTTBHN29tRlE9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"f41388388c2ce7d959a0547269f30bf5f724014825523250c04b111d179d10cb\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"f41388388c2ce7d959a0547269f30bf5f724014825523250c04b111d179d10cb\": {\n      \"keyid\": \"f41388388c2ce7d959a0547269f30bf5f724014825523250c04b111d179d10cb\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVN2U3NxQ1J5WGI3WDJmTWlKZnM4TDFyWVYxUU5lYVpxVXNiSjJSN1Nkek09Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"7b2700c8a1544085122ddf7573f161bdbe4997877d2ba778dfa54a262d9f70b8\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"7b2700c8a1544085122ddf7573f161bdbe4997877d2ba778dfa54a262d9f70b8\": {\n      \"keyid\": \"7b2700c8a1544085122ddf7573f161bdbe4997877d2ba778dfa54a262d9f70b8\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQW5ySW9PYlgxTHA2cFUxeDFla1gzRFFHdCt5TWIzL1Qrc3FyYVNsaVBrQ2s9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"cb76420acdd4fba9d655cec2254e394cf581c5a6b3b7e7b330d8555ce0711690\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"cb76420acdd4fba9d655cec2254e394cf581c5a6b3b7e7b330d8555ce0711690\": {\n      \"keyid\": \"cb76420acdd4fba9d655cec2254e394cf581c5a6b3b7e7b330d8555ce0711690\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXFjSGV3UDBQd0lqemozWGkwRDFWRmZZUS9FS0pSK0t2N2tXSnlkYkM5M1k9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"0e32f1b62af082beea5e38772e89a89ad2bf0c6bc5942ce1a8e7fbba9b6ea87c\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"0e32f1b62af082beea5e38772e89a89ad2bf0c6bc5942ce1a8e7fbba9b6ea87c\": {\n      \"keyid\": \"0e32f1b62af082beea5e38772e89a89ad2bf0c6bc5942ce1a8e7fbba9b6ea87c\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWE5RTVCM0hDY09TOGxIRTNEL2ROWjYvdDc0QkgrNDE5K2xvajZwNG9yVjQ9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"24039a299d0c33a8857bdef79577d865f21ad871636e90ae691a37cb269f6088\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"24039a299d0c33a8857bdef79577d865f21ad871636e90ae691a37cb269f6088\": {\n      \"keyid\": \"24039a299d0c33a8857bdef79577d865f21ad871636e90ae691a37cb269f6088\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUw5b0JmOHgzMWdyaWdOUnFEdVZRZkU1d2RicHZubUpBb3lzTlgzUUg2a3c9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"2dfb65344e2a7c9e8b78cf1091b6cd506d7257e996d8152048e010aab9a4e8d0\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"2dfb65344e2a7c9e8b78cf1091b6cd506d7257e996d8152048e010aab9a4e8d0\": {\n      \"keyid\": \"2dfb65344e2a7c9e8b78cf1091b6cd506d7257e996d8152048e010aab9a4e8d0\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXZWdjRuNTFkVnpDMzlpclppSTJYdWF1eXFwOE1DUEhzcnc0RGZZeGs1U0U9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"0bfd0742fa2fc76207329c3705a008ac919da79953358d3c1c6848afeedc5fd0\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"0bfd0742fa2fc76207329c3705a008ac919da79953358d3c1c6848afeedc5fd0\": {\n      \"keyid\": \"0bfd0742fa2fc76207329c3705a008ac919da79953358d3c1c6848afeedc5fd0\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQS9QZ2F6Y3NzcWhFZ243aGtBa3ltZkg2VkcvMnErRHBuc2pXWUhtM2twS1k9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"584b479ba78b984a3e285647e36e3e80d5bf5af6dd85ee3f8f22ece683ccd819\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"584b479ba78b984a3e285647e36e3e80d5bf5af6dd85ee3f8f22ece683ccd819\": {\n      \"keyid\": \"584b479ba78b984a3e285647e36e3e80d5bf5af6dd85ee3f8f22ece683ccd819\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTV4K29JSVd6cmVEWmJvM0liaVpESy9lY1BnQVh1SGRva1YxclRyRUg3Z0k9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"d47532e53765d7fc170cd8c0ee85cd8c9069609033aeccf64d48de16bba1362f\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"d47532e53765d7fc170cd8c0ee85cd8c9069609033aeccf64d48de16bba1362f\": {\n      \"keyid\": \"d47532e53765d7fc170cd8c0ee85cd8c9069609033aeccf64d48de16bba1362f\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVlndTJkSytZN0d0dWxLcENWZXQ0aFdwNEJBeTg5U1pwZEwvZS85R2FYM009Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"5262f279b85667bda440ff06ab318bc1627f9fdf6fafe6a05ab2efc004bda708\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"5262f279b85667bda440ff06ab318bc1627f9fdf6fafe6a05ab2efc004bda708\": {\n      \"keyid\": \"5262f279b85667bda440ff06ab318bc1627f9fdf6fafe6a05ab2efc004bda708\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWR6dFRiZTliVEdsYUc5OTNBcng5SS9CQXl2QWpaSEFnV2NoNFByaGhoRUk9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"f326b3897c4bb76b55cb2feeb7bc1562a4f627c996706a85e335a9cdf94393d8\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"f326b3897c4bb76b55cb2feeb7bc1562a4f627c996706a85e335a9cdf94393d8\": {\n      \"keyid\": \"f326b3897c4bb76b55cb2feeb7bc1562a4f627c996706a85e335a9cdf94393d8\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWZLUVV4WEpqUjRiSUlidEJXNFFvcWh5TkpLb21NejZWQUczTjJITTg2Z3c9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"e01b4d0b4b4f0ba30f6052b422632685797763aba197017cd7d6a48826f0339c\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"e01b4d0b4b4f0ba30f6052b422632685797763aba197017cd7d6a48826f0339c\": {\n      \"keyid\": \"e01b4d0b4b4f0ba30f6052b422632685797763aba197017cd7d6a48826f0339c\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWhza2l3SktSTmtlUkhLYWpDWmxVYjJhMnFMOE1ZSTh6ZmdFMmEzYkFBZlk9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"876ca36534bce1960ce0d622a5f8dae3dbd5d05b78f66984aa964f20d767b4e7\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"876ca36534bce1960ce0d622a5f8dae3dbd5d05b78f66984aa964f20d767b4e7\": {\n      \"keyid\": \"876ca36534bce1960ce0d622a5f8dae3dbd5d05b78f66984aa964f20d767b4e7\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQS9GZ0RJWjBCWjRUSVowMVNmMzhTNkJHVHhXS3hPM0xSYkJkWkk5cWtLMWc9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"30c0e9fa1b6af1ceeec3041fb52d0d913b76d8bb3ff5a0f8479e8bee061d1b0f\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"30c0e9fa1b6af1ceeec3041fb52d0d913b76d8bb3ff5a0f8479e8bee061d1b0f\": {\n      \"keyid\": \"30c0e9fa1b6af1ceeec3041fb52d0d913b76d8bb3ff5a0f8479e8bee061d1b0f\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQW9QdFJYekRqZnVzVHgrOG8xQS9DaSsyVW96SVI5aUVmZkJTNXVTSllLWEE9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"a07c86fda3e778ee4fa229e7f9d9a1e8611e60b7e9742084d68366d9f17e5e53\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"a07c86fda3e778ee4fa229e7f9d9a1e8611e60b7e9742084d68366d9f17e5e53\": {\n      \"keyid\": \"a07c86fda3e778ee4fa229e7f9d9a1e8611e60b7e9742084d68366d9f17e5e53\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUZyUlRneTJ2SEsyclRDbWRPMHBoL0tuQWUxd1Z0VExjMmJBSW1qYm9GZHM9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"e9979caca023d8e83ffb8ae5f7b101823fdb8be5f7d770b3485ee4c175a8bd3e\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"e9979caca023d8e83ffb8ae5f7b101823fdb8be5f7d770b3485ee4c175a8bd3e\": {\n      \"keyid\": \"e9979caca023d8e83ffb8ae5f7b101823fdb8be5f7d770b3485ee4c175a8bd3e\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWF0aVY5dlNRY2FwZEQzcEZUcjlDL0U1cWFnTkJxbkxqOE0zdEFYc1QzRm89Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"3c51c5962f2754910d983cf8cb77e40f7ef186138edf33fde54dbc01b767e511\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"3c51c5962f2754910d983cf8cb77e40f7ef186138edf33fde54dbc01b767e511\": {\n      \"keyid\": \"3c51c5962f2754910d983cf8cb77e40f7ef186138edf33fde54dbc01b767e511\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVlibGJSYTBGY2lueWlLRGoydkpZZGxJV3Uwem5xMUlqQXV1aEFXMkdyS2c9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"012e48e2e1bcebfb7ca0eaf2b01afed56a3b2ce1d88dd45f21e7ec121843339a\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"012e48e2e1bcebfb7ca0eaf2b01afed56a3b2ce1d88dd45f21e7ec121843339a\": {\n      \"keyid\": \"012e48e2e1bcebfb7ca0eaf2b01afed56a3b2ce1d88dd45f21e7ec121843339a\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVVHK3J6WXFZb3FsRnFNeFBGd09iOVpTTmRzMGo1cmtkdjVYRzJBNFhteUE9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"90798556acf5d419dbf305aa7913733325b84bb731b225b575443a8918e42d4e\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"90798556acf5d419dbf305aa7913733325b84bb731b225b575443a8918e42d4e\": {\n      \"keyid\": \"90798556acf5d419dbf305aa7913733325b84bb731b225b575443a8918e42d4e\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQStxZXcrVHR5YnVCcHZTV3lDNEZJZW8yU25VUFA2SzM5dXplTm10Q2t1WDg9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"aa7fea35117ea0bba9e223072303189ef0565551e06f8c4ca3db9013179d76f5\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"aa7fea35117ea0bba9e223072303189ef0565551e06f8c4ca3db9013179d76f5\": {\n      \"keyid\": \"aa7fea35117ea0bba9e223072303189ef0565551e06f8c4ca3db9013179d76f5\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVZaSTNialZvL2JtMHB6M2xxNm5YaU5LTUtVcnlMdHZlK25LSXFlVWFvMEE9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"ff8dbb0c514f30b6693863a9592eee8afefbd4dc92f747bf50e9796ba53d499d\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"ff8dbb0c514f30b6693863a9592eee8afefbd4dc92f747bf50e9796ba53d499d\": {\n      \"keyid\": \"ff8dbb0c514f30b6693863a9592eee8afefbd4dc92f747bf50e9796ba53d499d\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUJFZXRITVBxc2RQNHhKa2paRFFwV0xBRG80SUxWazY0SFE2TnZDaU54OXc9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"15a8a081111a43bb127d4740e0984c8a39ce17ac9e19932796e99419d8b77a02\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"15a8a081111a43bb127d4740e0984c8a39ce17ac9e19932796e99419d8b77a02\": {\n      \"keyid\": \"15a8a081111a43bb127d4740e0984c8a39ce17ac9e19932796e99419d8b77a02\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWl0UFlUUUw2a2tXNW50RVZFazd5dTNKRlFwTGc1djZQOXVVRU1ORFViQlU9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"681f79f50684deefcb9d687f2a71c08634835392c4cd5b313f32d0a96b280688\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"681f79f50684deefcb9d687f2a71c08634835392c4cd5b313f32d0a96b280688\": {\n      \"keyid\": \"681f79f50684deefcb9d687f2a71c08634835392c4cd5b313f32d0a96b280688\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUpubGtMcno3ZlpBUWNXNFYwUlIwNXlqd0lRRmZMekJiajdFRDdTSmN3N1E9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"c7428749d3626edac7248eb98d50186665f59a452c5b80aafe541060097950a8\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"c7428749d3626edac7248eb98d50186665f59a452c5b80aafe541060097950a8\": {\n      \"keyid\": \"c7428749d3626edac7248eb98d50186665f59a452c5b80aafe541060097950a8\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXVmZjh6TkQraHlUeklYT0RJSTRJT2VZTzFYdU9TK3Z0Z21LbzlzZGFxTVE9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"e663a554ab975e3836ade82e5994f91559dd13049e5e231cfe475b3cee482dc3\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"e663a554ab975e3836ade82e5994f91559dd13049e5e231cfe475b3cee482dc3\": {\n      \"keyid\": \"e663a554ab975e3836ade82e5994f91559dd13049e5e231cfe475b3cee482dc3\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVVQMDdqbzZUWWdHZEk5MmlBUXIvVjhjcHA5ZDRmWjRkK1lLQnV0QXlRYlE9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"bc37ca14e02dc56a4618397dfb36ed350a2f791c0a7de2f0b4ad9da2c394ba7b\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"bc37ca14e02dc56a4618397dfb36ed350a2f791c0a7de2f0b4ad9da2c394ba7b\": {\n      \"keyid\": \"bc37ca14e02dc56a4618397dfb36ed350a2f791c0a7de2f0b4ad9da2c394ba7b\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXFVcktFZDMwTUZ5Mm4yQ0Y4MXprRURObm5CRXhHMlVkeWlpMEttUlRtU0k9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"0213abb31d452ee16740aa3ba443cca450baf56741e828981678da5e162900de\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"0213abb31d452ee16740aa3ba443cca450baf56741e828981678da5e162900de\": {\n      \"keyid\": \"0213abb31d452ee16740aa3ba443cca450baf56741e828981678da5e162900de\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXcweEd2S0Qvd0hSSExVNU9xOFF4c1hDYllwYXA3bjNnTnNvbmxvdUlOdG89Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"ee64eb6d1583f7d6cc1ca0933b7d7d05f221744e623b04e4f482a101f612a803\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"ee64eb6d1583f7d6cc1ca0933b7d7d05f221744e623b04e4f482a101f612a803\": {\n      \"keyid\": \"ee64eb6d1583f7d6cc1ca0933b7d7d05f221744e623b04e4f482a101f612a803\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXR1NS9pdlg0eWRQTEV0UWNYQVk2bmQwYm0zbHg4OWhGTi9qSS9RaXlJZUU9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"dc0a5dfeeed5eb46b8911b29ccf114a33b522aa52b03dabe55d0cfb2464f4700\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"dc0a5dfeeed5eb46b8911b29ccf114a33b522aa52b03dabe55d0cfb2464f4700\": {\n      \"keyid\": \"dc0a5dfeeed5eb46b8911b29ccf114a33b522aa52b03dabe55d0cfb2464f4700\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQS8yV3ROR2llRUpRdDk2MXBBMUppbS9iNG02OGk4WVhVWlNPYnhZMTgvUG89Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"6f59e15d53d03abd4f2e51bd9d5c548e2bd38c6976c7d8a465cf85b6631004fe\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"6f59e15d53d03abd4f2e51bd9d5c548e2bd38c6976c7d8a465cf85b6631004fe\": {\n      \"keyid\": \"6f59e15d53d03abd4f2e51bd9d5c548e2bd38c6976c7d8a465cf85b6631004fe\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTNDakgrMVYyVlRXY2NFY1d6VjhuTTlnL0oyUlQwUFYyR2FuZGpLWE4zVlU9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"8f81cfc927766a9f03a7e1475c890dff57348a591e4a6be6f5338f7a98e3f206\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"8f81cfc927766a9f03a7e1475c890dff57348a591e4a6be6f5338f7a98e3f206\": {\n      \"keyid\": \"8f81cfc927766a9f03a7e1475c890dff57348a591e4a6be6f5338f7a98e3f206\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVltaEJxbGY4Q2t1ay9XQlczVzdMaWp4NkRCMUNTaCtQUWVFMk56dldLOGM9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"c0c48255fcb65230e065ec2af803a046a02b1244a584f71392b3aa07b33c89c8\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"c0c48255fcb65230e065ec2af803a046a02b1244a584f71392b3aa07b33c89c8\": {\n      \"keyid\": \"c0c48255fcb65230e065ec2af803a046a02b1244a584f71392b3aa07b33c89c8\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXJ0UnRDalYyV0ppanltVnZtWWx5ZFJieEhVdERIenVFMXdRTzZob3hXV1k9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"61943a56d02351f9ac16c8d0420611e5cc98b0225ea5087ce7b728d8297245a0\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"61943a56d02351f9ac16c8d0420611e5cc98b0225ea5087ce7b728d8297245a0\": {\n      \"keyid\": \"61943a56d02351f9ac16c8d0420611e5cc98b0225ea5087ce7b728d8297245a0\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWtrbGVYT2krelhFalMxc3pXakJKay80VnhINHpRK2hmNlpkUkZCU3BjMFU9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"1f709ce7477432d642afe158907ef0c9984627a98bf560344d2af7007fe3684d\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"1f709ce7477432d642afe158907ef0c9984627a98bf560344d2af7007fe3684d\": {\n      \"keyid\": \"1f709ce7477432d642afe158907ef0c9984627a98bf560344d2af7007fe3684d\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXQxQlZnaThpeXd2c3Y3d3JUdW5DTFZFeGtSZUIwRFJSUnJQTDRIazNGSEU9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"8da375e8b4ff01c9d5769483ade175ef5ec6b86247a02e66fc93446a25f5b518\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"8da375e8b4ff01c9d5769483ade175ef5ec6b86247a02e66fc93446a25f5b518\": {\n      \"keyid\": \"8da375e8b4ff01c9d5769483ade175ef5ec6b86247a02e66fc93446a25f5b518\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUh1QUdjYmNiTmo3MHYrNDZ2UThJaGU1MTNSK1E1bGVlMlI3YWdEVm9RL1U9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"d2ebca732f130b9c9041ed2828d2ce5acd607f8512e0f9bdaf7f0aef629687a4\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"d2ebca732f130b9c9041ed2828d2ce5acd607f8512e0f9bdaf7f0aef629687a4\": {\n      \"keyid\": \"d2ebca732f130b9c9041ed2828d2ce5acd607f8512e0f9bdaf7f0aef629687a4\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUFCenBLL1NhTUhBMHdhaFlYa3FPVDVHNisxQkFmZTMzNjFxSGhmWFZiYzA9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"cfd23566d39ae45435ec9d3a98179b3307d59573cb45b3c60291d81c74527466\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"cfd23566d39ae45435ec9d3a98179b3307d59573cb45b3c60291d81c74527466\": {\n      \"keyid\": \"cfd23566d39ae45435ec9d3a98179b3307d59573cb45b3c60291d81c74527466\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTRYQnVsSFdtbW9CT3Qwbnk5Y3YyRzFMVGdPMTFDaS9lcTVRUVFGK3FtL1E9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"2657894ce7fa87a37be35dca9002b4edddd752d27705a0d7a5d3cae0a8457e9a\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"2657894ce7fa87a37be35dca9002b4edddd752d27705a0d7a5d3cae0a8457e9a\": {\n      \"keyid\": \"2657894ce7fa87a37be35dca9002b4edddd752d27705a0d7a5d3cae0a8457e9a\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTBiRjUvcDZqem53T2NEYytWbHQ1c1ZUUDF5SnJNRklHQzVDdkJDWmErTlE9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"ae2786de5e49030d8cdc062856bbde7cdfbd8060655712d4dacaff59981924c4\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"ae2786de5e49030d8cdc062856bbde7cdfbd8060655712d4dacaff59981924c4\": {\n      \"keyid\": \"ae2786de5e49030d8cdc062856bbde7cdfbd8060655712d4dacaff59981924c4\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVBpVVdrL1BJcVgzdUplNldzc1ZDbHNxOTg1N2dZdWluSFVTQUlldE5abU09Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"67807bcf640f9632257d7dc3d538591d141540d7da1440d204a1e7919a59f56e\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"67807bcf640f9632257d7dc3d538591d141540d7da1440d204a1e7919a59f56e\": {\n      \"keyid\": \"67807bcf640f9632257d7dc3d538591d141540d7da1440d204a1e7919a59f56e\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVFoaDBYQXFBcjhjSEFoc2E5S0VsVm9CL1F6aEI5bFZNQk9laGplaVVpWlk9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"178d0c216e984d65c6ea0eda18f3d763ea5a4b4d19f946878802218115effcd0\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"178d0c216e984d65c6ea0eda18f3d763ea5a4b4d19f946878802218115effcd0\": {\n      \"keyid\": \"178d0c216e984d65c6ea0eda18f3d763ea5a4b4d19f946878802218115effcd0\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTRNa1hmaGNBM1dXVThFVFZyczdITW9TMklsWmQxbkxWa1BPcmhaaGFKRlk9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"7e7401db03549db9af73fc68b00ed1d4434c810c1cd26cbf9e270cf867b61236\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"7e7401db03549db9af73fc68b00ed1d4434c810c1cd26cbf9e270cf867b61236\": {\n      \"keyid\": \"7e7401db03549db9af73fc68b00ed1d4434c810c1cd26cbf9e270cf867b61236\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUZKeUVhajhoSkdKMXVYd1ZZVW1IYWhiOWlBMFVKT2s3UE0wdmhaVUFHTkU9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"b3f36839ecc62a0063db445ba9234c0f8372825c1f96343141a22348d3de6d6f\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"b3f36839ecc62a0063db445ba9234c0f8372825c1f96343141a22348d3de6d6f\": {\n      \"keyid\": \"b3f36839ecc62a0063db445ba9234c0f8372825c1f96343141a22348d3de6d6f\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWwzRThzZzZQRFMzS0g0SEtVS1BTZUp4SE0xNkZUYWlLN0Zhb1J2T3Q3cVk9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"5e684fd81374c8e1780770184ba0e284036296a81e96874ad5bc909907e60f02\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"5e684fd81374c8e1780770184ba0e284036296a81e96874ad5bc909907e60f02\": {\n      \"keyid\": \"5e684fd81374c8e1780770184ba0e284036296a81e96874ad5bc909907e60f02\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXM4elRiVVp3anF3RWxTRkUzOGtiZXRvUFpsVGxmL0lENVU5WWlPMzBjYVE9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"5ad3af979e75ef280584eafa8a1f41c079aa9db795ee9cd80451d39d7adcc7d3\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"5ad3af979e75ef280584eafa8a1f41c079aa9db795ee9cd80451d39d7adcc7d3\": {\n      \"keyid\": \"5ad3af979e75ef280584eafa8a1f41c079aa9db795ee9cd80451d39d7adcc7d3\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUhQZ3Rna3JEKzM2SnVUUU03S3A0TnZ6ZEJNeEhwekduUllKR3Jrckk1c0E9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"6d6e55f40d20b214d9458d9d7b07651250b781e29b4ffdb295d4234432fc4433\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"6d6e55f40d20b214d9458d9d7b07651250b781e29b4ffdb295d4234432fc4433\": {\n      \"keyid\": \"6d6e55f40d20b214d9458d9d7b07651250b781e29b4ffdb295d4234432fc4433\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXRxcG9wRHVtY0M3dnQ4YzFTTzRKOElVSENzcDRaT2phQ2xZeXA4TEtZUnc9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"36ce6ba5457b037bf5d031adff6bdb8d47ca6bfda4025708605af2b0fc8ae27b\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"36ce6ba5457b037bf5d031adff6bdb8d47ca6bfda4025708605af2b0fc8ae27b\": {\n      \"keyid\": \"36ce6ba5457b037bf5d031adff6bdb8d47ca6bfda4025708605af2b0fc8ae27b\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUhNeXZXNTBMckVqUXFkVllpL1JscmZML2s2cHAzZHd0dlVJTFQ5ME5PalE9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"86c3c8b3c56b98fdd444045cbd9edf91a241313acd11d4b85ad8a409811f3bc5\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"86c3c8b3c56b98fdd444045cbd9edf91a241313acd11d4b85ad8a409811f3bc5\": {\n      \"keyid\": \"86c3c8b3c56b98fdd444045cbd9edf91a241313acd11d4b85ad8a409811f3bc5\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXFJZkwyenRPcU1NVTZwS1lhTTlaV2Y1TnFlOUNlczgrV2txL2hqS0c0czQ9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"a2dba440e161ee6fe68416a039d3df3778a9216eb54c3d734085a02c43936e86\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"a2dba440e161ee6fe68416a039d3df3778a9216eb54c3d734085a02c43936e86\": {\n      \"keyid\": \"a2dba440e161ee6fe68416a039d3df3778a9216eb54c3d734085a02c43936e86\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTR4OFlCYWNsMjhOazZ0bGlybjlzSjV3RVlrUldGNm5FM2tJRWJ4eTVmZWc9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"024691f4e1da077c8e34c99b6ca9bafec528cf94727f6082fa85e5e54b1f8bef\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"024691f4e1da077c8e34c99b6ca9bafec528cf94727f6082fa85e5e54b1f8bef\": {\n      \"keyid\": \"024691f4e1da077c8e34c99b6ca9bafec528cf94727f6082fa85e5e54b1f8bef\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVJGaU1qQlVUMEJDSGgvNjVoakQvQWorNFFvdytxY1R0VUNvazlNMmx3ZTg9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"6f2221a50a4fbda042324088502791f4ec6b8b57b6653ba103cdc3050952ab81\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"6f2221a50a4fbda042324088502791f4ec6b8b57b6653ba103cdc3050952ab81\": {\n      \"keyid\": \"6f2221a50a4fbda042324088502791f4ec6b8b57b6653ba103cdc3050952ab81\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUg3WXVZWExvRzZzTzJ2Sk9CVmlOcktmUENLTDZydlNiYVBLS3RuZ3VUczQ9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"2205559591e982fb7e242131fcbb9f225a46ad78f3c8e7f658411f41dbcac02b\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"2205559591e982fb7e242131fcbb9f225a46ad78f3c8e7f658411f41dbcac02b\": {\n      \"keyid\": \"2205559591e982fb7e242131fcbb9f225a46ad78f3c8e7f658411f41dbcac02b\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQW1EZTJvZE1lZHVpTnpTQy93QU5EYXNFSjN0TVk0bm4xZ0pCRUttbXgzcGc9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"6cf997d2761bbb0b69dc971be4b7c90d1b36e24b84fc508fafd9edf1dc95380d\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"6cf997d2761bbb0b69dc971be4b7c90d1b36e24b84fc508fafd9edf1dc95380d\": {\n      \"keyid\": \"6cf997d2761bbb0b69dc971be4b7c90d1b36e24b84fc508fafd9edf1dc95380d\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQW11WGRJWnNtZFh4dDFBcTFhSTBGVjk4MGUrU1BEV1NSd05kWFlTUytuRms9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"a8e7a51e8fd9d1b91ada64d7db41276d5c072c13a29487101da710e67c1a2365\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"a8e7a51e8fd9d1b91ada64d7db41276d5c072c13a29487101da710e67c1a2365\": {\n      \"keyid\": \"a8e7a51e8fd9d1b91ada64d7db41276d5c072c13a29487101da710e67c1a2365\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQW9XRFdNOSs1UFRicEpyemNoM0FXdDJSZFl5QVFBb085bnhNUTBHUFlkYzA9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"33ee0f49afa83652fe58c857748def222173aaff7c5228cfb3e6092d65125144\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"33ee0f49afa83652fe58c857748def222173aaff7c5228cfb3e6092d65125144\": {\n      \"keyid\": \"33ee0f49afa83652fe58c857748def222173aaff7c5228cfb3e6092d65125144\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXo3THk2dU5NRkhoN1dKWWRnNDduOUJwejVheUlQbmk3N3o5RkNRWWhoY1k9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"db0c8da4bcadfaa29e1adc2f8ba990cdd67c491406736ccdbd86849365d85377\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"db0c8da4bcadfaa29e1adc2f8ba990cdd67c491406736ccdbd86849365d85377\": {\n      \"keyid\": \"db0c8da4bcadfaa29e1adc2f8ba990cdd67c491406736ccdbd86849365d85377\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUU2SDBLeHExN0IraDVWd0ZpenRBRDAveGt1ME5kemxVV2RINXU5T2M0Tm89Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"9db073711155460d784570b748cd72640ab70a8993817938bf13909085872995\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"9db073711155460d784570b748cd72640ab70a8993817938bf13909085872995\": {\n      \"keyid\": \"9db073711155460d784570b748cd72640ab70a8993817938bf13909085872995\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVpMRXREYU9zem5LWnZlcDBqTCtLZUtHcHNVenFPd0NVTHVOR2hIa0V1L1U9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"148600e6f0d2d6dff9a9e350c4d37a64a389842955adc2a78786f310c6d6aac1\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"148600e6f0d2d6dff9a9e350c4d37a64a389842955adc2a78786f310c6d6aac1\": {\n      \"keyid\": \"148600e6f0d2d6dff9a9e350c4d37a64a389842955adc2a78786f310c6d6aac1\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVpXZXJOM1hKVDAwQnN3U2FOcGNPczdTUm5jR2t6RHArckh5MS92TFNnYm89Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"d46891174b8bdafa18ba6593e3f3ba50e07b3ff2d864ffc2cfb235d70ca61c5b\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"d46891174b8bdafa18ba6593e3f3ba50e07b3ff2d864ffc2cfb235d70ca61c5b\": {\n      \"keyid\": \"d46891174b8bdafa18ba6593e3f3ba50e07b3ff2d864ffc2cfb235d70ca61c5b\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXpYYkh6c0pmTjI2akRWdmE3TUhtNjBtdi9QeXI2YTNKMFJVNGxIdHUxUTQ9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"8e4c18f3d77d58e42b00d182488e65275d1ab9d266a9b8acc550318d4be7f09e\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"8e4c18f3d77d58e42b00d182488e65275d1ab9d266a9b8acc550318d4be7f09e\": {\n      \"keyid\": \"8e4c18f3d77d58e42b00d182488e65275d1ab9d266a9b8acc550318d4be7f09e\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVAzMFFVMkRjSXRTaFlLUE4wUWFEanp1cC9qYkJMcDFEdnRUYWZTUXRlSkk9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"add61453e7fbbf22b3aca29ac731dca9e7da6f49b75897816498abc1d3987564\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"add61453e7fbbf22b3aca29ac731dca9e7da6f49b75897816498abc1d3987564\": {\n      \"keyid\": \"add61453e7fbbf22b3aca29ac731dca9e7da6f49b75897816498abc1d3987564\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQW1PeUZsTGxaYTlkQldOK0NkMjZQQkthM2NPd1UyY0RqaHU5T21SY1lIMUk9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"e5ae0612a1a6f01ffd01bd65f1a14ea07de038fd2eed6a3b343e74b258c92d59\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"e5ae0612a1a6f01ffd01bd65f1a14ea07de038fd2eed6a3b343e74b258c92d59\": {\n      \"keyid\": \"e5ae0612a1a6f01ffd01bd65f1a14ea07de038fd2eed6a3b343e74b258c92d59\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVZISE5IdDJmNVNuL29ZU3VsTTV2eUx2SU9VWmc3aWNqZ0J0WERySnkxVUE9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"8b7c87492c00ecdd72092fdb4420d0757544fbeb35ff3c18e4ba9d28220ae803\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"8b7c87492c00ecdd72092fdb4420d0757544fbeb35ff3c18e4ba9d28220ae803\": {\n      \"keyid\": \"8b7c87492c00ecdd72092fdb4420d0757544fbeb35ff3c18e4ba9d28220ae803\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUhiMk5QWjNoM21mSTN2bTNseDN2dlIwelAwZThxSlBSb3NTV2dEdEpxbGs9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"2027238316edfcf1a10304cf3fe4680e03b100c844615e9ec3f5f6af2ae09be4\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"2027238316edfcf1a10304cf3fe4680e03b100c844615e9ec3f5f6af2ae09be4\": {\n      \"keyid\": \"2027238316edfcf1a10304cf3fe4680e03b100c844615e9ec3f5f6af2ae09be4\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQU01NFZEOFYveUpTc1dYZVN2Vzk5K2lJdzhneFN2Sk1LRVlENURkdlNHZDA9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"47f820c7609618d885fea3cb7178d7e4708f1d12cf33eb6681bab575e1bc8ee5\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"47f820c7609618d885fea3cb7178d7e4708f1d12cf33eb6681bab575e1bc8ee5\": {\n      \"keyid\": \"47f820c7609618d885fea3cb7178d7e4708f1d12cf33eb6681bab575e1bc8ee5\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUZQd2IwVks5cDFYSFBpczM5bys4c1Rka0dlc2plK09VRjIrVXdKWFIzbzA9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"366e485cecab5dc0888db77d61004d23c2b0c656fd65b352bb332df1905ff50b\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"366e485cecab5dc0888db77d61004d23c2b0c656fd65b352bb332df1905ff50b\": {\n      \"keyid\": \"366e485cecab5dc0888db77d61004d23c2b0c656fd65b352bb332df1905ff50b\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXVOZU9RcnBRUnBsK28rbTdOazh2RmN0YkNRN2hNUk1EajNOczd0dUpmSUU9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"8fb39dc45e766d0c6b6e7d94a70b9a3b8b066e868de258db423423ea9475ba89\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"8fb39dc45e766d0c6b6e7d94a70b9a3b8b066e868de258db423423ea9475ba89\": {\n      \"keyid\": \"8fb39dc45e766d0c6b6e7d94a70b9a3b8b066e868de258db423423ea9475ba89\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVFSa0xZckRVV2VJZnNvWnJSL0xRTnAxdVlHd0hORHQyb1hYNGg1NktHRWM9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"769b7c95de77a856d1d145b7afc1c8b66b2444a9b9ebc4db073f5c1bcf683a11\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"769b7c95de77a856d1d145b7afc1c8b66b2444a9b9ebc4db073f5c1bcf683a11\": {\n      \"keyid\": \"769b7c95de77a856d1d145b7afc1c8b66b2444a9b9ebc4db073f5c1bcf683a11\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQU50ZmNxcEpUWWE5cGtXS0E0Q3lRTEhJaWltZE1tOCtmaDljU2JjNFQ4NjQ9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"9090926d790bd237b33db398a2d1749ce6cab1d9016c8b837fdb3ae2811d2032\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"9090926d790bd237b33db398a2d1749ce6cab1d9016c8b837fdb3ae2811d2032\": {\n      \"keyid\": \"9090926d790bd237b33db398a2d1749ce6cab1d9016c8b837fdb3ae2811d2032\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWplb1YydFhNR1ByYm1PdWVwK28zRTJYY3lBOHJrd09YUFZDUSswdWZkMFU9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"e1378daf2370c4e8a342d0220659e26d8f81c84878028cc73638d7d24226616f\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"e1378daf2370c4e8a342d0220659e26d8f81c84878028cc73638d7d24226616f\": {\n      \"keyid\": \"e1378daf2370c4e8a342d0220659e26d8f81c84878028cc73638d7d24226616f\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWl5bjlKVC8vYjdzSU1jR0NnVXJDUkxSRG9OdXdaVnNzdzdMWWdGOVJFRFE9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"eb5c246ae21ab9c3c81e0c0a3dc9309eb580ccea5cc563db070b6ecadb890a13\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"eb5c246ae21ab9c3c81e0c0a3dc9309eb580ccea5cc563db070b6ecadb890a13\": {\n      \"keyid\": \"eb5c246ae21ab9c3c81e0c0a3dc9309eb580ccea5cc563db070b6ecadb890a13\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVMwZFg1TmFSSFpRVklyWkVBWlRiZVVUZGtCc291S3lFd3VxUFFNWkhlRzQ9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"9a9dd354424adbd136b9942478fb1371d23f01f1bfd858d4e1fcab499425311c\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"9a9dd354424adbd136b9942478fb1371d23f01f1bfd858d4e1fcab499425311c\": {\n      \"keyid\": \"9a9dd354424adbd136b9942478fb1371d23f01f1bfd858d4e1fcab499425311c\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQSs5WndKMFhWZEJ6bVk2R3A1RmxBc3hkNEs2cnRVM2pGQXhXRW5hMTBqZ3c9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"4ee0eef9d1251dd90e087bc8a03d468a909a9e03773c458053e9af6a8df707f3\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"4ee0eef9d1251dd90e087bc8a03d468a909a9e03773c458053e9af6a8df707f3\": {\n      \"keyid\": \"4ee0eef9d1251dd90e087bc8a03d468a909a9e03773c458053e9af6a8df707f3\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXF6TVQvQVk2Z1paZHFrQmdYWmNWK1hIMTJPdVVmdmtvUnI4cnhGYUwrS2s9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"7334523551e475563be820ef918e6f57b87ed707e284d93a7244d68e545c8277\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"7334523551e475563be820ef918e6f57b87ed707e284d93a7244d68e545c8277\": {\n      \"keyid\": \"7334523551e475563be820ef918e6f57b87ed707e284d93a7244d68e545c8277\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVRDME40ZGR3aTBVTlYrQWgxWEwxV1lodEVCaitreGczNUdId3lmKzlyTVk9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"9e8127658ca5901184f661b59e25150e0d1aeb49734fc4642a43719256135dee\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"9e8127658ca5901184f661b59e25150e0d1aeb49734fc4642a43719256135dee\": {\n      \"keyid\": \"9e8127658ca5901184f661b59e25150e0d1aeb49734fc4642a43719256135dee\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTVpcWZBZnZtc2dKYXp3NWZjL3FnNHk2cDVISGZKQ3Jya0dMWFBMQUxnZ3c9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"29a40cf24dd3831547c40d8b076765209d6ca1f92e4ceee3df9481553de4b553\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"29a40cf24dd3831547c40d8b076765209d6ca1f92e4ceee3df9481553de4b553\": {\n      \"keyid\": \"29a40cf24dd3831547c40d8b076765209d6ca1f92e4ceee3df9481553de4b553\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUJIdS94L0RBTzRrVmZGZUtPTVREcFFjV2xsaWtKbDBPZnozN0dvL2xTakk9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"f774f217fb407456e992396d263c3184021cea3abbeee742d070d86082e0e59f\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"f774f217fb407456e992396d263c3184021cea3abbeee742d070d86082e0e59f\": {\n      \"keyid\": \"f774f217fb407456e992396d263c3184021cea3abbeee742d070d86082e0e59f\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWRJZ2t2YlQwMmJETzFLWU9wVGI4azJob21BYkovWURqSHJYN1EwTElzM2c9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"be7e3c0379f76e6ddf92954d9c3b4383444984835f97dda680f3649ae8d94173\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"be7e3c0379f76e6ddf92954d9c3b4383444984835f97dda680f3649ae8d94173\": {\n      \"keyid\": \"be7e3c0379f76e6ddf92954d9c3b4383444984835f97dda680f3649ae8d94173\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTh1QjBJRWFncy9qczZOcDJ6eDdlMnRMaHFZYTZDOUpQZkR4bndtY2haK1k9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"c2f422e42aa87824ee73cfa6aebcaeb1e9dd92e4c00de694991e36642848e6a7\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"c2f422e42aa87824ee73cfa6aebcaeb1e9dd92e4c00de694991e36642848e6a7\": {\n      \"keyid\": \"c2f422e42aa87824ee73cfa6aebcaeb1e9dd92e4c00de694991e36642848e6a7\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVRwYXhYN1lNS0pNeVl5eTlvNkJyNGdvRlYzR0Y1NjRLM1dLWUlvS1VKREk9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"ef3dbe7dfc31803e150375a8024b88d5c3e0ed7d46d0bced9fe8430cd7e5df41\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"ef3dbe7dfc31803e150375a8024b88d5c3e0ed7d46d0bced9fe8430cd7e5df41\": {\n      \"keyid\": \"ef3dbe7dfc31803e150375a8024b88d5c3e0ed7d46d0bced9fe8430cd7e5df41\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTUwcEVqbTh6Q2ttSVlWZjk3QWhVeXZ2NGl6SlZwY1JGWkUxaHNzM0d4UTA9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"64eaae296c8faa2d30ce2eb8acd549ae4cf9d06b94e5a0e77958bd7e73a3a248\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"64eaae296c8faa2d30ce2eb8acd549ae4cf9d06b94e5a0e77958bd7e73a3a248\": {\n      \"keyid\": \"64eaae296c8faa2d30ce2eb8acd549ae4cf9d06b94e5a0e77958bd7e73a3a248\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTdtemFxaG5PTnVOTC9zTTNONGt6Uk84SHo2eW1tZytnQUcxZnJ6VStnMUE9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"bd36a941d76f3811537b3991b1038ed3339b46356213326cd74bb5a78308bff9\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"bd36a941d76f3811537b3991b1038ed3339b46356213326cd74bb5a78308bff9\": {\n      \"keyid\": \"bd36a941d76f3811537b3991b1038ed3339b46356213326cd74bb5a78308bff9\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWVNaWF4cTFJTmhkRzh2UWN3QXdYVEw0VktyN0drRkQ2YUhZRDJ4VUx0Q0k9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"d212df101dffe2bd1636c20d9a3b2d385adf50f5e9647eb0b687df364a524c75\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"d212df101dffe2bd1636c20d9a3b2d385adf50f5e9647eb0b687df364a524c75\": {\n      \"keyid\": \"d212df101dffe2bd1636c20d9a3b2d385adf50f5e9647eb0b687df364a524c75\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXNjVTVudS9neGRMQys0VHNhVWxZN21sZ01ncCs1RVpORW9YN0F1Z0dydFk9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"535bf6774713750aa19cf4232d3a2b51e540c2208bfb40220f74a3957fdf1c5e\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"535bf6774713750aa19cf4232d3a2b51e540c2208bfb40220f74a3957fdf1c5e\": {\n      \"keyid\": \"535bf6774713750aa19cf4232d3a2b51e540c2208bfb40220f74a3957fdf1c5e\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTVpcHUrQ0oyVERKUmFjekx5emhrMmt1ekVsQzNuaUJhaTN5NWtwN1dwNlk9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"f1e70abee35cce83067e02548cde8fb0287842f38d04de987c6c1b0de87c519e\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"f1e70abee35cce83067e02548cde8fb0287842f38d04de987c6c1b0de87c519e\": {\n      \"keyid\": \"f1e70abee35cce83067e02548cde8fb0287842f38d04de987c6c1b0de87c519e\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUNod2dmVzdxVmx6QzRHRVpzUUFHQU5USGtGdE1GaVUvVVE5eVo2MWNRVm89Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"6d2c98a58f265a967477afe2f8618538b1f8a950adc6b428b3d42aab5370b2f3\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"6d2c98a58f265a967477afe2f8618538b1f8a950adc6b428b3d42aab5370b2f3\": {\n      \"keyid\": \"6d2c98a58f265a967477afe2f8618538b1f8a950adc6b428b3d42aab5370b2f3\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUgyQUJHZ3VoNmloVzJEUkU2WnNqbTkyNUdWMm1iNCtUdm9xamRHMXVPNEk9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"d128ec4e71014f43b49bf4d8562f9d1b8a5f5113754b6654898d227ff3ea996d\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"d128ec4e71014f43b49bf4d8562f9d1b8a5f5113754b6654898d227ff3ea996d\": {\n      \"keyid\": \"d128ec4e71014f43b49bf4d8562f9d1b8a5f5113754b6654898d227ff3ea996d\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWlydGFvUmdlSC9vRjRsbkpjKzB0cnR4c1RTU1B4MWtEdGY0ME4zWUQzNm89Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"dbf8652b4f16813ba75864b80482e4f495cddddccd79c48e5474803a862c2bac\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"dbf8652b4f16813ba75864b80482e4f495cddddccd79c48e5474803a862c2bac\": {\n      \"keyid\": \"dbf8652b4f16813ba75864b80482e4f495cddddccd79c48e5474803a862c2bac\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVNUMm5VUkxkTnJTQ2hyVTV6a1NHZXFhOWdyazBmNXpyVEZFa2c0M2xpdzQ9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"bdc9de59428b0f55dd8f2318d78410afc52f06ddac54e12f2cba8d3f68edc059\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"bdc9de59428b0f55dd8f2318d78410afc52f06ddac54e12f2cba8d3f68edc059\": {\n      \"keyid\": \"bdc9de59428b0f55dd8f2318d78410afc52f06ddac54e12f2cba8d3f68edc059\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWJ1Rmlrc0VNRW96cDlGbnUxbjM5a2szdjZ5S1J6ZXlmaStqUnlsOE94UTQ9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"143c2967b0190f8cf295b593b239140887f885aab2ca3f4c74fb18f6a2c297ac\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"143c2967b0190f8cf295b593b239140887f885aab2ca3f4c74fb18f6a2c297ac\": {\n      \"keyid\": \"143c2967b0190f8cf295b593b239140887f885aab2ca3f4c74fb18f6a2c297ac\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVI5c0NzWnkxV3plcm5KK3RtY1YxbE1IUllTcjgzY2JaQVhsWlJLK2xhdjA9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"bd7de82a490d7d2ee362a1a2a2d79852f53326a0af647c539eca82d322b1e88f\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"bd7de82a490d7d2ee362a1a2a2d79852f53326a0af647c539eca82d322b1e88f\": {\n      \"keyid\": \"bd7de82a490d7d2ee362a1a2a2d79852f53326a0af647c539eca82d322b1e88f\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQW9OTWplSXN2SERmcUc2T2tzdGQyUlgxcXFXV003YWZIUVNETGtWZUdXdTQ9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"31b1f2ee9e9640f5455d86cf52c83932dc53fdab228026f8581f58a146d5a2f8\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"31b1f2ee9e9640f5455d86cf52c83932dc53fdab228026f8581f58a146d5a2f8\": {\n      \"keyid\": \"31b1f2ee9e9640f5455d86cf52c83932dc53fdab228026f8581f58a146d5a2f8\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQU15UFBMT09SMHk0RW9oTGJVTDRpTFRTOVNOWFgrNmNxVDBtRzkwYk5Vd1E9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"142f293f1aa0734684557ca0f082622ad75228207459ee7283cd41bf013b6ead\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"142f293f1aa0734684557ca0f082622ad75228207459ee7283cd41bf013b6ead\": {\n      \"keyid\": \"142f293f1aa0734684557ca0f082622ad75228207459ee7283cd41bf013b6ead\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWphZ2VKaHF2MkFNd2VNOFRZK055WlZiKzM0N1pISXY0UE1YeitJcVpuRk09Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"d16354d0bd32809f33a52cab80a315650d2921906cfc93c71210d5666780da56\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"d16354d0bd32809f33a52cab80a315650d2921906cfc93c71210d5666780da56\": {\n      \"keyid\": \"d16354d0bd32809f33a52cab80a315650d2921906cfc93c71210d5666780da56\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVBLV3VYbUVsdDZrRFpIT1N3NDV4eHU5eTZMeEdYelg2dDZ5OUZ0eU9PYlE9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"1a728322a5b7f82f95257ce196898617378c2cec0583fd904e787b1b0ed7485b\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"1a728322a5b7f82f95257ce196898617378c2cec0583fd904e787b1b0ed7485b\": {\n      \"keyid\": \"1a728322a5b7f82f95257ce196898617378c2cec0583fd904e787b1b0ed7485b\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUxBY29lNTFpcHRJbFpRVTJGN1FDRnNLUHc0dmtPMjhKeHMrVFhEaTkvMlk9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"2a1714b3c3123e84f192f936b4598fb2ef38a7df7c0ccdc102c3b95918f3b966\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"2a1714b3c3123e84f192f936b4598fb2ef38a7df7c0ccdc102c3b95918f3b966\": {\n      \"keyid\": \"2a1714b3c3123e84f192f936b4598fb2ef38a7df7c0ccdc102c3b95918f3b966\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQU1RZ3BCTzhHbnd3QVI2RXd1ZzhBOStGSEJvRm1ERGE0cVJBeXI2Vmg0czQ9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"c38fda2bb79d93555b0603b2b7fc416cc5a0451a836cf033694e838f11efce21\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"c38fda2bb79d93555b0603b2b7fc416cc5a0451a836cf033694e838f11efce21\": {\n      \"keyid\": \"c38fda2bb79d93555b0603b2b7fc416cc5a0451a836cf033694e838f11efce21\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXc0bjkyTE4wazl2Y05Ia2l3T1ZpY2hBbkZOaEI3SGhLQjJRWi9LV29hTWM9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"5dbae9c7a2cc060526a34b6f619f0f65d8a83301bf7c05099eeb1c9c1f34d5df\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"5dbae9c7a2cc060526a34b6f619f0f65d8a83301bf7c05099eeb1c9c1f34d5df\": {\n      \"keyid\": \"5dbae9c7a2cc060526a34b6f619f0f65d8a83301bf7c05099eeb1c9c1f34d5df\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUcvZk55R3VkaWZIMTYwbHNINHF1cUUrSUJkUDc3T2ZXQ0kvYzdBOGlDYnc9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"00a2875250b99b75b1ce244fa3fe6c091a07a8e6c891cf172e66f3f9013e4efe\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"00a2875250b99b75b1ce244fa3fe6c091a07a8e6c891cf172e66f3f9013e4efe\": {\n      \"keyid\": \"00a2875250b99b75b1ce244fa3fe6c091a07a8e6c891cf172e66f3f9013e4efe\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWZBcWhPSDRJZm83R2xUYVNhelJrQXdad3JxQVYxWmxXdkMxcFBpRWQvTkk9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"cdaf41f6c287379029c94cb1db4e4c0632c16b9a844f3f490bfc4777dd3a8967\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"cdaf41f6c287379029c94cb1db4e4c0632c16b9a844f3f490bfc4777dd3a8967\": {\n      \"keyid\": \"cdaf41f6c287379029c94cb1db4e4c0632c16b9a844f3f490bfc4777dd3a8967\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQU9Fam1pcEQ2Z0Y2cmFkbS9KenBjTFdGTURJYmFZZ2h2ZjhyTXUvbm1PWG89Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"c6f73af364ca708589c4e7d6e459e5b1ac194062873de9b026331f046266dfbd\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"c6f73af364ca708589c4e7d6e459e5b1ac194062873de9b026331f046266dfbd\": {\n      \"keyid\": \"c6f73af364ca708589c4e7d6e459e5b1ac194062873de9b026331f046266dfbd\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXpIbHJxQzUrckZNYkpWVGlGRVhYK1VwSDUydSt2TzhPMzBqZk1rQ2xMQzA9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"e47b50f83a918636bb6d925df1ec219cb9b974343d6ee777b4465e5a7f25768d\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"e47b50f83a918636bb6d925df1ec219cb9b974343d6ee777b4465e5a7f25768d\": {\n      \"keyid\": \"e47b50f83a918636bb6d925df1ec219cb9b974343d6ee777b4465e5a7f25768d\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTZ4SGVhSFdLRjhWMEt6T2FoODNCaWJIZ24xQnpYdEpDMXJIL1VtU0tZUGc9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"8e7f646bf5a245dfd63bd52e6122fc4b291f23ff2df27541253a7ee52a08f3d8\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"8e7f646bf5a245dfd63bd52e6122fc4b291f23ff2df27541253a7ee52a08f3d8\": {\n      \"keyid\": \"8e7f646bf5a245dfd63bd52e6122fc4b291f23ff2df27541253a7ee52a08f3d8\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXpKdTJFNllEQ0QwTDRaVDhmdSs5OE5VQnFjM0NPNDhBckc1a212QlVVUms9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"d5281b076c9b1f178adddafc861e35aa02be0fab54697b454c8af1829f405a14\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"d5281b076c9b1f178adddafc861e35aa02be0fab54697b454c8af1829f405a14\": {\n      \"keyid\": \"d5281b076c9b1f178adddafc861e35aa02be0fab54697b454c8af1829f405a14\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWE1eGE3TmJuUHIyNWh1K3Q4K3pGZVFIZmh6VmxmV1RHVFVrRUloa0UxZnc9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"8e5345b1082460e507d922a0c114c7f19cc8f77be5c13636bf5c062e78bff285\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"8e5345b1082460e507d922a0c114c7f19cc8f77be5c13636bf5c062e78bff285\": {\n      \"keyid\": \"8e5345b1082460e507d922a0c114c7f19cc8f77be5c13636bf5c062e78bff285\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUFJenZ2OFhtN1gyVTJEdzRLR0FKTmM1UVFlcDdPYzNZSGRrem9MOE1xOW89Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"99ffdc988e863a2d87dbbe2bca1a5ee0dda6912e28f36457d6d5e508246d34e5\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"99ffdc988e863a2d87dbbe2bca1a5ee0dda6912e28f36457d6d5e508246d34e5\": {\n      \"keyid\": \"99ffdc988e863a2d87dbbe2bca1a5ee0dda6912e28f36457d6d5e508246d34e5\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWJMajR0YkNqSDRjemEweHNuSUcrczlDZWE4QlFNbTFudUFEaHc1V1ZUWUE9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"34b4794817b0feae020c7873637a2a35dd521dec0b9285b56aa00c8a85640f4e\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"34b4794817b0feae020c7873637a2a35dd521dec0b9285b56aa00c8a85640f4e\": {\n      \"keyid\": \"34b4794817b0feae020c7873637a2a35dd521dec0b9285b56aa00c8a85640f4e\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVVjSnlKMXc4b0JjTTUyNVFUNVAzek5RRk5HVDhEWlR4NjllblQwK1dQcnM9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"e10c13d9bbebb0f2cbe1c2e9e78399b197699ab335635dd494e4fb1afcd13a74\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"e10c13d9bbebb0f2cbe1c2e9e78399b197699ab335635dd494e4fb1afcd13a74\": {\n      \"keyid\": \"e10c13d9bbebb0f2cbe1c2e9e78399b197699ab335635dd494e4fb1afcd13a74\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUdRMjNYY3YvUENRb0ZRWWJZZTlnVG93MDkvRWRmOVAwT2p1NFd1ZWUzRjQ9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"3edde60f943002c313c90117d643807f21a8b28b9aa6fe8d841e2a24310c3956\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"3edde60f943002c313c90117d643807f21a8b28b9aa6fe8d841e2a24310c3956\": {\n      \"keyid\": \"3edde60f943002c313c90117d643807f21a8b28b9aa6fe8d841e2a24310c3956\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWQ3OG9qZkI3c2xFR3VUY2d0T1g4RmhvcUcwanB0Ym4yWitDKzlDd1FlVjg9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"37d3e52e988047c049ac9fa9c2ef9a80d73abbf6d80f85e238c137d295f20638\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"37d3e52e988047c049ac9fa9c2ef9a80d73abbf6d80f85e238c137d295f20638\": {\n      \"keyid\": \"37d3e52e988047c049ac9fa9c2ef9a80d73abbf6d80f85e238c137d295f20638\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUw1dlp2SkdmSjJmYWpkWEphRlV5eGUwZWYvaUtheE9wdENzeUxtM0FFYXM9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"ddb8c6f58c78cc6975b6baf8339d050404d5669db6e0391dde6f3c6e75382ce0\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"ddb8c6f58c78cc6975b6baf8339d050404d5669db6e0391dde6f3c6e75382ce0\": {\n      \"keyid\": \"ddb8c6f58c78cc6975b6baf8339d050404d5669db6e0391dde6f3c6e75382ce0\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQU1kaktkd0JSMENUQVJUT1MwZERTWWFpZnA2TjQ5S1BhaC9IMCtEeHc2Z289Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"42a4ae54bad18164a39c2ba44e4a74123508e61dfbb4223a47b2db5cd93daf28\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"42a4ae54bad18164a39c2ba44e4a74123508e61dfbb4223a47b2db5cd93daf28\": {\n      \"keyid\": \"42a4ae54bad18164a39c2ba44e4a74123508e61dfbb4223a47b2db5cd93daf28\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUE3QSt1Y25wN0tOT291Q3hNK1BYY1pHNWh2aUZYTTJZdFRxNHJtbkNwZG89Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"0ddce8a6cce6200be59f7e7831daa66ba822515fd604250959f47093c4af39eb\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"0ddce8a6cce6200be59f7e7831daa66ba822515fd604250959f47093c4af39eb\": {\n      \"keyid\": \"0ddce8a6cce6200be59f7e7831daa66ba822515fd604250959f47093c4af39eb\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTNacUEyM1Z3M0ZXWXovY2psYnBTRUovNUlLQ0lNVk1uaERFVDN6dnNHWE09Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"5531ffee66b01d1a06ed937575ccc5094fe6032816ed499dbbee066871d21fcf\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"5531ffee66b01d1a06ed937575ccc5094fe6032816ed499dbbee066871d21fcf\": {\n      \"keyid\": \"5531ffee66b01d1a06ed937575ccc5094fe6032816ed499dbbee066871d21fcf\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWVqWnBXYWwrSGRYMFpvam5XV243cWlDUGYwTkphSGdGa25xeWFGc3pTZ009Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"119a1df2a7d0c38fa0b07e5a1fe806dc1cef5de36b6e30f349ad273e3c45b148\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"119a1df2a7d0c38fa0b07e5a1fe806dc1cef5de36b6e30f349ad273e3c45b148\": {\n      \"keyid\": \"119a1df2a7d0c38fa0b07e5a1fe806dc1cef5de36b6e30f349ad273e3c45b148\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUZydnNwa3lnZEJhdGNyVGd6djVkZ1ZlZE9ha2RNTjJQbk0yNDUrV3lZMGc9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"00b70ebad50fb8b1eca3c188559f51e3db7cd71895ff793cb4783f3d27916522\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"00b70ebad50fb8b1eca3c188559f51e3db7cd71895ff793cb4783f3d27916522\": {\n      \"keyid\": \"00b70ebad50fb8b1eca3c188559f51e3db7cd71895ff793cb4783f3d27916522\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWNIeHJEZlk2Y3RwSCtSZkE1UnhFeS93QUUvRkJUMmZnMGZDaUZyUWs5Nkk9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"ae5148b3edc9e0e995904703d3d9e379607a93b553f6bb04f5d2b6b0d664921c\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"ae5148b3edc9e0e995904703d3d9e379607a93b553f6bb04f5d2b6b0d664921c\": {\n      \"keyid\": \"ae5148b3edc9e0e995904703d3d9e379607a93b553f6bb04f5d2b6b0d664921c\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQSt0SVZrWmlvWnF4TkJDd3lPMDdERWtWN0FIb2NWL3lCTXJTT0N2ZFJMOHc9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"98ca5da475f2168fe13a3a4b62d55a9ea4abc1f4474bbb1fc79e431908a69c66\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"98ca5da475f2168fe13a3a4b62d55a9ea4abc1f4474bbb1fc79e431908a69c66\": {\n      \"keyid\": \"98ca5da475f2168fe13a3a4b62d55a9ea4abc1f4474bbb1fc79e431908a69c66\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUJrVjhwMjU5REJNZmEzekVqWCtHVDFjNVdPVUFPU1AraGNIcU5EanBralU9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"ae14b52d3d71900b312999df0533051218322b841e8e67b86944936a6ddbabf5\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"ae14b52d3d71900b312999df0533051218322b841e8e67b86944936a6ddbabf5\": {\n      \"keyid\": \"ae14b52d3d71900b312999df0533051218322b841e8e67b86944936a6ddbabf5\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQStkQStCZEJENnE4WEF2bGhxT3M3NmcycVcvR1JRTlRhdW9EZnh5cVREK2c9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"90fbe5a5843f0562892479c22cadee753f9195de33550186fe31fc754c9e5c82\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"90fbe5a5843f0562892479c22cadee753f9195de33550186fe31fc754c9e5c82\": {\n      \"keyid\": \"90fbe5a5843f0562892479c22cadee753f9195de33550186fe31fc754c9e5c82\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUk0RGE4V3o1VDd2S2NvWDgrRmw2TmZkU1FvYnhXRmRsWXpOcHI0NE9JKzQ9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"1cf1dc0f0e5764667639cb77523ab3abca53dc110c5ce6e8ff08a79f61a5df59\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"1cf1dc0f0e5764667639cb77523ab3abca53dc110c5ce6e8ff08a79f61a5df59\": {\n      \"keyid\": \"1cf1dc0f0e5764667639cb77523ab3abca53dc110c5ce6e8ff08a79f61a5df59\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQW9sZStqNkZydkxwK2pxeGJrc0NBcVZjZXRha3o3MDZqd242dE9HN2E0Qzg9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"08f16dca5ac435030b6aed2c5fda0a506600a2324262ef2332c8ae90f19e0364\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"08f16dca5ac435030b6aed2c5fda0a506600a2324262ef2332c8ae90f19e0364\": {\n      \"keyid\": \"08f16dca5ac435030b6aed2c5fda0a506600a2324262ef2332c8ae90f19e0364\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWsvTUhNb2FUQ2pEdU9yQlY5MXhLNDMvMUY5N2FTYkpKTVNPVzR0R0JncG89Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"b2ec3c7fd9368fbc0914970a9e2d726b34e597f8011a9cbedf677e196df17d9a\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"b2ec3c7fd9368fbc0914970a9e2d726b34e597f8011a9cbedf677e196df17d9a\": {\n      \"keyid\": \"b2ec3c7fd9368fbc0914970a9e2d726b34e597f8011a9cbedf677e196df17d9a\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUU3L3lTWm16LzlCcE9RdXNmNFpxNW1CZkdjaGtBd2JhLzNHMzJZOFdIams9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"de07dd29611483d2515de04a4517a5d910473a65947d8a45105cb429c201736e\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"de07dd29611483d2515de04a4517a5d910473a65947d8a45105cb429c201736e\": {\n      \"keyid\": \"de07dd29611483d2515de04a4517a5d910473a65947d8a45105cb429c201736e\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUozc1gvb0VENXJvYnZGbnI2OXNiSlRvUUI5MGVFT3JaVWtpb0JTbzh2WUk9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"19a59d639ed18bcd7bfd48615b3da25d8a816aea2831ef50c68512ba1c3efdc2\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"19a59d639ed18bcd7bfd48615b3da25d8a816aea2831ef50c68512ba1c3efdc2\": {\n      \"keyid\": \"19a59d639ed18bcd7bfd48615b3da25d8a816aea2831ef50c68512ba1c3efdc2\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTJ0d25KeG9WazE3TStORGFlUHBnMk9Xb1hYbzU2YWJRSTVrQzF0MENwY009Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"d0acd2f931dd8608a67bc52f66cb66d5d13a5c09e37e7052749f32d573ea9fb3\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"d0acd2f931dd8608a67bc52f66cb66d5d13a5c09e37e7052749f32d573ea9fb3\": {\n      \"keyid\": \"d0acd2f931dd8608a67bc52f66cb66d5d13a5c09e37e7052749f32d573ea9fb3\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQS81MTQxOGlCQXR0QWJPVm5QYU00L3R4T3VadTBUQTBlNzJpTUdMN04rcjA9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"60b5acb0d496d869bff7d4194245dfc0f2e9199d688493155276128da812a9b8\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"60b5acb0d496d869bff7d4194245dfc0f2e9199d688493155276128da812a9b8\": {\n      \"keyid\": \"60b5acb0d496d869bff7d4194245dfc0f2e9199d688493155276128da812a9b8\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVBoOXp5MDJLeFdXblpPcWZUNkRLOElLU0sySG5QM0RmMkg3WFFzWUFNZHM9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"dca8ab7c81c32a216f5511f25929bc6c8e2d1d7278c1010e57ae23fa75960778\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"dca8ab7c81c32a216f5511f25929bc6c8e2d1d7278c1010e57ae23fa75960778\": {\n      \"keyid\": \"dca8ab7c81c32a216f5511f25929bc6c8e2d1d7278c1010e57ae23fa75960778\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWJHUnFZVEFsQjFSYVgzWVpSS1B2UUhPMWdNMXFIdXQ2M0VpbElMcTZhM2s9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"058b6608dc77cce38a6e91de2fa1d71c3b890c5d617afee10632c83bb69b141d\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"058b6608dc77cce38a6e91de2fa1d71c3b890c5d617afee10632c83bb69b141d\": {\n      \"keyid\": \"058b6608dc77cce38a6e91de2fa1d71c3b890c5d617afee10632c83bb69b141d\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVVjOWI4NDJrMWtxOC9uWFVJNi85V2xwN0x4WGhpdzV6MDEyWU1oUEV6V1E9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"a2074446ffb313d6fc40b30d8dfb525c77a3cf1b58fb867567e6d0b333c460f6\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"a2074446ffb313d6fc40b30d8dfb525c77a3cf1b58fb867567e6d0b333c460f6\": {\n      \"keyid\": \"a2074446ffb313d6fc40b30d8dfb525c77a3cf1b58fb867567e6d0b333c460f6\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWpwRmZuNUN5YWE0bjhwa3dmcExtZnpJRE9sS0xKejlPNlliM0RoU2RaaEk9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"afb404077e7a449845b49b4e53257df3f3b791deae5e919f07e9acb5190f11c0\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"afb404077e7a449845b49b4e53257df3f3b791deae5e919f07e9acb5190f11c0\": {\n      \"keyid\": \"afb404077e7a449845b49b4e53257df3f3b791deae5e919f07e9acb5190f11c0\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTFSMkE4SHova3RBVDRvcW16elZNOFdORVU2MUQ3SVZ3OGN2Z0NpU1ZPWk09Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"7261df55c01164adc35b5c2fb7db32b8e7afe791cc9ad60a8973788d04daed13\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"7261df55c01164adc35b5c2fb7db32b8e7afe791cc9ad60a8973788d04daed13\": {\n      \"keyid\": \"7261df55c01164adc35b5c2fb7db32b8e7afe791cc9ad60a8973788d04daed13\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQW9VSGI3NTkwZDhDRW01b2l3WjhwTEFNRXJNV080Ym81V3ZXZ2N3b1ZhU2s9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"7fd8adba546d60be25a9f86b896af828f2d62c87cc57609ca276756016413481\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"7fd8adba546d60be25a9f86b896af828f2d62c87cc57609ca276756016413481\": {\n      \"keyid\": \"7fd8adba546d60be25a9f86b896af828f2d62c87cc57609ca276756016413481\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQW9FNm82bmxCZW5hRy9TQkFFa2V5QmdsS3F4Ny9uTHh1VzFFSWwwT2hqWG89Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"b79411f98cee01d5ce34700ef11554b81bac77857e547ea136d87fd403cacced\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"b79411f98cee01d5ce34700ef11554b81bac77857e547ea136d87fd403cacced\": {\n      \"keyid\": \"b79411f98cee01d5ce34700ef11554b81bac77857e547ea136d87fd403cacced\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVE4N2pNUk8yYUZDdlo1dUphZ2ZuQkRRY1ZDcVNwWDhZNEpEdVRTY1ZpSVU9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"9ed51d1f50cb29da83f0650026ae7f5e2cff5ea629e5e4b1e898838b099f2a23\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"9ed51d1f50cb29da83f0650026ae7f5e2cff5ea629e5e4b1e898838b099f2a23\": {\n      \"keyid\": \"9ed51d1f50cb29da83f0650026ae7f5e2cff5ea629e5e4b1e898838b099f2a23\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQW43NmhocVVJZlN1VFNnTDJ3SW0wVnZPUENYT3MrMzB5ci9ENGtxRTkyMk09Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"fd3ab69658fa7f3b31337b0ea72085573974713d000b3a361e47271ca22b6207\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"fd3ab69658fa7f3b31337b0ea72085573974713d000b3a361e47271ca22b6207\": {\n      \"keyid\": \"fd3ab69658fa7f3b31337b0ea72085573974713d000b3a361e47271ca22b6207\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVJPNzJNRUpMWk85VzB6cHhIK3FudWtUMVFQbWkvbTE5bzNaV0ZndFkydFk9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"73b814481e2c3a4273033602b9ffab4de3cac48b3b5fa590003ad9038185aa50\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"73b814481e2c3a4273033602b9ffab4de3cac48b3b5fa590003ad9038185aa50\": {\n      \"keyid\": \"73b814481e2c3a4273033602b9ffab4de3cac48b3b5fa590003ad9038185aa50\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXc5OXFFczc4aWVKNjF4eUJRUXpXTHpoZTRRWTV4d25pbG5hYmdJQWN4M1k9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"65aa1724f4e3df1822fd8587b5342c067307e84ffde2cf1767e9ccaec008b2d9\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"65aa1724f4e3df1822fd8587b5342c067307e84ffde2cf1767e9ccaec008b2d9\": {\n      \"keyid\": \"65aa1724f4e3df1822fd8587b5342c067307e84ffde2cf1767e9ccaec008b2d9\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUluZElWcFdyakNTRm04eVhyZHlTbUFYY3gzUHBhMllVQUVkaE1aa0RBdVU9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"e3c1bbcc98a455a54b6f943b81d8dc1d1311b79e5b25760a71c36988cbce2afd\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"e3c1bbcc98a455a54b6f943b81d8dc1d1311b79e5b25760a71c36988cbce2afd\": {\n      \"keyid\": \"e3c1bbcc98a455a54b6f943b81d8dc1d1311b79e5b25760a71c36988cbce2afd\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUIxT2dNMTQyM2JDK3VTdTlJY1h3V2M5SC8xbUVZZzJhMmkxd1VTM2hYdkk9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"b1873cf34c95bbdaf6882830a733c65ae3ed76d69f24efad160ac3cabf00b0ae\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"b1873cf34c95bbdaf6882830a733c65ae3ed76d69f24efad160ac3cabf00b0ae\": {\n      \"keyid\": \"b1873cf34c95bbdaf6882830a733c65ae3ed76d69f24efad160ac3cabf00b0ae\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXk2US9kcHgxaWFYbVQwRTVpSlRiMlVMYUlpUWpHeEQzVGsxTDB0cTFRZm89Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"d11e9e7e12a512cb6dd2ce02aecf6331d87347046383f5e62e67f6eeb51a46c8\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"d11e9e7e12a512cb6dd2ce02aecf6331d87347046383f5e62e67f6eeb51a46c8\": {\n      \"keyid\": \"d11e9e7e12a512cb6dd2ce02aecf6331d87347046383f5e62e67f6eeb51a46c8\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTBxQyt6NzNrVllvc01FNDROWEkyUG9tL3dGV2ptYTBteThtU1FUTXVpZDA9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"533c2281083093190debc23fea86eb2839a7aed29c69deaad36460df7694e01b\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"533c2281083093190debc23fea86eb2839a7aed29c69deaad36460df7694e01b\": {\n      \"keyid\": \"533c2281083093190debc23fea86eb2839a7aed29c69deaad36460df7694e01b\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQW44cXdxUkRYZkNDaVpTa3FpdFE5MFpubzFGQ3ZXU3JsVGNBVUdqc0xHTUk9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"4f07966870bf6ce6bd77cc3021f4a436cc020956e8ed0632cfc5b1cce82c70e4\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"4f07966870bf6ce6bd77cc3021f4a436cc020956e8ed0632cfc5b1cce82c70e4\": {\n      \"keyid\": \"4f07966870bf6ce6bd77cc3021f4a436cc020956e8ed0632cfc5b1cce82c70e4\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTBJajhKUFJxY0twL1EvVFU2R3hXa2RiNklUWnJPZm9nMnJBdUN2bkJKWG89Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"b9fa89afdae71d8442450b9bca43a9ec653cb640afdf60f34ade5d13486d1913\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"b9fa89afdae71d8442450b9bca43a9ec653cb640afdf60f34ade5d13486d1913\": {\n      \"keyid\": \"b9fa89afdae71d8442450b9bca43a9ec653cb640afdf60f34ade5d13486d1913\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQW5WUzdtcVZoNkM3RmJqblN1VHI5U000ZEtqbmlaRWlVaGNmSUduT0IvTEk9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"7abb117bd1e360bddc1e0d95fa5d141a5e5889ac90df105595d1627a1d1f909d\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"7abb117bd1e360bddc1e0d95fa5d141a5e5889ac90df105595d1627a1d1f909d\": {\n      \"keyid\": \"7abb117bd1e360bddc1e0d95fa5d141a5e5889ac90df105595d1627a1d1f909d\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVkwUmRUcHJ1dWFWS0FaTFZ2NkRzVis5R0JJUFZiOWdyR2JWdysvZ0IzaEk9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"757428dbde48d521a6e0d1bcc1342d62ce93b9b081f236d7cba32be5bedceb96\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"757428dbde48d521a6e0d1bcc1342d62ce93b9b081f236d7cba32be5bedceb96\": {\n      \"keyid\": \"757428dbde48d521a6e0d1bcc1342d62ce93b9b081f236d7cba32be5bedceb96\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXV3WEVUUDBVcWlXSDNwcVZhSlhNRXo1eElvd29ZWFdrSWFnTkJuZUkxZFU9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"5808896b796cca7405f6631da57dd3c4f94df24c872dabdb25cc68decf1122b8\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"5808896b796cca7405f6631da57dd3c4f94df24c872dabdb25cc68decf1122b8\": {\n      \"keyid\": \"5808896b796cca7405f6631da57dd3c4f94df24c872dabdb25cc68decf1122b8\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTVHU00rSXBKbXk4UnNmWVhxcWE4SmFsS3ptSWkwdUlEZk1Kd1dtaVNsbjQ9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"69ab3e619779d2770785d35758b45015d376f76d711a1b3ac57267883b03c034\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"69ab3e619779d2770785d35758b45015d376f76d711a1b3ac57267883b03c034\": {\n      \"keyid\": \"69ab3e619779d2770785d35758b45015d376f76d711a1b3ac57267883b03c034\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTZvaVBIakt5VFJCT2x1eC9vdFBIYUt4aWM5OWVXcmxpc1dwSDBQQUNjOEE9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"d53deb710dc65c3bf8b00d3bd9455c6059ac3558c0f38071cee6a26025764f74\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"d53deb710dc65c3bf8b00d3bd9455c6059ac3558c0f38071cee6a26025764f74\": {\n      \"keyid\": \"d53deb710dc65c3bf8b00d3bd9455c6059ac3558c0f38071cee6a26025764f74\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXU2ZWczL0lJanBUZmZrakRHZUVBQVlFYS90b3BZak9CdXowNmFUcnhBMG89Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"495c5190919ca16b958db894abff620428ea10c6faec3a8cedbbb9dc4ca2146c\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"495c5190919ca16b958db894abff620428ea10c6faec3a8cedbbb9dc4ca2146c\": {\n      \"keyid\": \"495c5190919ca16b958db894abff620428ea10c6faec3a8cedbbb9dc4ca2146c\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQThrREEwVDljV1U1ZkE4UWF2Z1U5ZnpPbEZXQm9XUWhsQWhIdjY3bDE5a0U9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"b01e04b6496e428ddc7ff06766e911d937fcf4c2c86c71824b0d2ff92bd8ebb7\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"b01e04b6496e428ddc7ff06766e911d937fcf4c2c86c71824b0d2ff92bd8ebb7\": {\n      \"keyid\": \"b01e04b6496e428ddc7ff06766e911d937fcf4c2c86c71824b0d2ff92bd8ebb7\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUZ1QnIvRGJFS2tDalFjVGN6OE9IVEJ2TWpUWVlTemMxM1N0dFVmeXkvbkk9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"cbf01d0e1080ab64a369a0225e6bce3c0d85ed40cab7e5d5133f9bf0a402eab7\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"cbf01d0e1080ab64a369a0225e6bce3c0d85ed40cab7e5d5133f9bf0a402eab7\": {\n      \"keyid\": \"cbf01d0e1080ab64a369a0225e6bce3c0d85ed40cab7e5d5133f9bf0a402eab7\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUNPV0grWWtSNU5tT2lXTkVpTFVSU1Vhc2F3WWdHa24zTm16a1N2T0dqT0k9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"7d16274d0a097091b2685a30fed4f4dc10018e1443391c995ee375a53da7d178\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"7d16274d0a097091b2685a30fed4f4dc10018e1443391c995ee375a53da7d178\": {\n      \"keyid\": \"7d16274d0a097091b2685a30fed4f4dc10018e1443391c995ee375a53da7d178\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVdqRXBCM1JaMWtKY1RVQWt5dTJibSs1RmRXWTlMZHc4NGl3ZSsxVlgyR1E9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"4eda246284938fe97cd406919f042a9739c940fdb987d3e386ac85ba0bc0bd2a\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"4eda246284938fe97cd406919f042a9739c940fdb987d3e386ac85ba0bc0bd2a\": {\n      \"keyid\": \"4eda246284938fe97cd406919f042a9739c940fdb987d3e386ac85ba0bc0bd2a\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVVzeTdDMnZ4UWdicERrSXE5NU1BM2J3dk1TN2NHNWJIa0cwYjVWOVlpS3M9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"da306d3cd7a137314c3a9d7853c1c472c5fa1bda51cb360c5319b0ea1e5e9826\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"da306d3cd7a137314c3a9d7853c1c472c5fa1bda51cb360c5319b0ea1e5e9826\": {\n      \"keyid\": \"da306d3cd7a137314c3a9d7853c1c472c5fa1bda51cb360c5319b0ea1e5e9826\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUZNdE9NcFQ4YUJqQjk0TTIyc0lLbzRaMHBjemU1cThWc01CM0NyZlFjd009Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"752207ebd881998368d9767c4a0e45b6a4d621841c222882e8ba1c1fd1b427f4\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"752207ebd881998368d9767c4a0e45b6a4d621841c222882e8ba1c1fd1b427f4\": {\n      \"keyid\": \"752207ebd881998368d9767c4a0e45b6a4d621841c222882e8ba1c1fd1b427f4\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTdpOTZ1d095cGFlcXYyS3lpMk5DN243UmFJMEgzc05ESnVtUW9YdVlVZ2c9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"4b487f851a9a56adedcd43885a5c8227e6b22c21f30eb1549952b1303c51f22b\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"4b487f851a9a56adedcd43885a5c8227e6b22c21f30eb1549952b1303c51f22b\": {\n      \"keyid\": \"4b487f851a9a56adedcd43885a5c8227e6b22c21f30eb1549952b1303c51f22b\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVBTaXpCZG1uZHFqTGNsZFlnYWRoMEthZ0ptSFpjMm1xRENPbFI0OW5pcXM9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"6b5eb2e486a29311091eb512d8d8a87cb01a801f933f3e9d704a7c7e9f6151e3\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"6b5eb2e486a29311091eb512d8d8a87cb01a801f933f3e9d704a7c7e9f6151e3\": {\n      \"keyid\": \"6b5eb2e486a29311091eb512d8d8a87cb01a801f933f3e9d704a7c7e9f6151e3\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXpXT1p1KzBTNTJLNGQ3dmcxalIzQnRTY3lXSWt5b3paZnQ2R2dSM25BWFU9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"95b3e188aebb12829e21f4ea05cded92e243885cb7a80c4eac7662a3e0c15f78\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"95b3e188aebb12829e21f4ea05cded92e243885cb7a80c4eac7662a3e0c15f78\": {\n      \"keyid\": \"95b3e188aebb12829e21f4ea05cded92e243885cb7a80c4eac7662a3e0c15f78\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVRnUDN0SUcxb2I4VkNiTFlEUmlnbEZvVXpNMXNQa2hrL0xRamFic0dVNXM9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"fea7da23640765f610e7162090baee1aa225526dfcacc0cfe9739a5334bfcf70\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"fea7da23640765f610e7162090baee1aa225526dfcacc0cfe9739a5334bfcf70\": {\n      \"keyid\": \"fea7da23640765f610e7162090baee1aa225526dfcacc0cfe9739a5334bfcf70\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWJ0bG9sUExIYVpCL3Y4K0FhL293dnNBcXJ5TXBFWTIrU1ZOU2p1cVBKZHc9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"109924bb91f2e53f236c9ea812a0288a447222344ba386300d1e38a5412f5a1f\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"109924bb91f2e53f236c9ea812a0288a447222344ba386300d1e38a5412f5a1f\": {\n      \"keyid\": \"109924bb91f2e53f236c9ea812a0288a447222344ba386300d1e38a5412f5a1f\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQW1wcWp3UDB1dGM0RTBNUjlWNFg2a1BUYk16RDhnaUFCL3N0bDdlRGdpdHc9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"165d171f498b93bfaffc92114319a7fd867141640dc2dd55527ea4ecc235392b\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"165d171f498b93bfaffc92114319a7fd867141640dc2dd55527ea4ecc235392b\": {\n      \"keyid\": \"165d171f498b93bfaffc92114319a7fd867141640dc2dd55527ea4ecc235392b\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTM2NDJXSHJNL1U3WUF4N3N1MWNQdnpPbzBJU2lhY0ZlZ1VGVlk3cVRUSHc9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"89dda67b69d8b56b61751e95e66f2efe9278b3bb63017d0df54030595d514357\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"89dda67b69d8b56b61751e95e66f2efe9278b3bb63017d0df54030595d514357\": {\n      \"keyid\": \"89dda67b69d8b56b61751e95e66f2efe9278b3bb63017d0df54030595d514357\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQU44UlRQSy9LVmxRTXR4aGNRdFhBeFJINjFyZzE3bjY5Nm1hQ1NQKzRDRTA9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"0f1754921480b7082b9efb2b87730582189b5174e9ccd2306be0abe582559419\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"0f1754921480b7082b9efb2b87730582189b5174e9ccd2306be0abe582559419\": {\n      \"keyid\": \"0f1754921480b7082b9efb2b87730582189b5174e9ccd2306be0abe582559419\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUYwcC9MK0lFelRDT0VzRXhtdTMwcXpNL1g4NVU5OHpLKzhpODd4b3dCZlU9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"95a0ccfd3014706cff4ab6ca1d9d47a8f9f6501e8934ffa16079048ae90f9dd6\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"95a0ccfd3014706cff4ab6ca1d9d47a8f9f6501e8934ffa16079048ae90f9dd6\": {\n      \"keyid\": \"95a0ccfd3014706cff4ab6ca1d9d47a8f9f6501e8934ffa16079048ae90f9dd6\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWxlMEpYLzk5ZHJObXhCbWNDUW9tdUpHUUdaOFhudlN1by9aY1Uxa2tJems9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"ec1a82d60a1dff50202259b8b2b46a3022d30849e10c53eedfeb9e11bfd2f5b2\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"ec1a82d60a1dff50202259b8b2b46a3022d30849e10c53eedfeb9e11bfd2f5b2\": {\n      \"keyid\": \"ec1a82d60a1dff50202259b8b2b46a3022d30849e10c53eedfeb9e11bfd2f5b2\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXNTbGRYa05BZE5Uc3RCdmkvemhkMUdRbTRxTlVqRml5Ym1FR2FVWTMxVUE9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"c90e8891a71477056f482ae25b023869eb60208bc7b58d0cfff9bdd2c2c4b733\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"c90e8891a71477056f482ae25b023869eb60208bc7b58d0cfff9bdd2c2c4b733\": {\n      \"keyid\": \"c90e8891a71477056f482ae25b023869eb60208bc7b58d0cfff9bdd2c2c4b733\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTB0YjV1bzJLM0VQQ1dROE1sem9PaHRwN2NpSktjdVp0VTlPbkI1UjVFbHc9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"c306268b529a8557ce844edf990e6f5fd9fa3deb810cceb406933ac31163bad6\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"c306268b529a8557ce844edf990e6f5fd9fa3deb810cceb406933ac31163bad6\": {\n      \"keyid\": \"c306268b529a8557ce844edf990e6f5fd9fa3deb810cceb406933ac31163bad6\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXM4b3Q1dm44VUN4QjF0azh0dDIwTGh2WFRMbnd4dGxOMENiTnRMTlYyeUU9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"bfcc33e2dd46abe463f7347648936c55e1970e36bdfb8192eccac9e18f3ec9bd\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"bfcc33e2dd46abe463f7347648936c55e1970e36bdfb8192eccac9e18f3ec9bd\": {\n      \"keyid\": \"bfcc33e2dd46abe463f7347648936c55e1970e36bdfb8192eccac9e18f3ec9bd\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXRJRXVUZXJOeUZUOUl1NnRGS3ZsRG80dlZEMzVaSEgxME9mQWdVaVZtVDA9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"ba3837a8220751887d21c060b92323a7625d68c81b119fa9258e3894b1414488\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"ba3837a8220751887d21c060b92323a7625d68c81b119fa9258e3894b1414488\": {\n      \"keyid\": \"ba3837a8220751887d21c060b92323a7625d68c81b119fa9258e3894b1414488\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXlFWXBTMXY5RFppNG9WV2ppaVRCQ3RpblE3YzI3dnp5eXdSbzVDdTROekk9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"3da2b26f06b22dc183299241c14dccba50b7cfb69b67dfe9328ebd7ffcd7a21a\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"3da2b26f06b22dc183299241c14dccba50b7cfb69b67dfe9328ebd7ffcd7a21a\": {\n      \"keyid\": \"3da2b26f06b22dc183299241c14dccba50b7cfb69b67dfe9328ebd7ffcd7a21a\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUdZTSt3SVNldUo2MllEd1dxS1hLaDI5bjBlVGhrWVl2UjRmYjZIelA0dlE9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"34c28888a9aeb42f0596a36888df06e1d4cfc31d07da26e72a8b77e58c0467ee\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"34c28888a9aeb42f0596a36888df06e1d4cfc31d07da26e72a8b77e58c0467ee\": {\n      \"keyid\": \"34c28888a9aeb42f0596a36888df06e1d4cfc31d07da26e72a8b77e58c0467ee\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUpnRG9lZzZMWkhJUTNRSDdub3hOVkh5OStVMnFiSUVwYlhQZFc3NVByQjg9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"72a05fbeb04977921a36848d84ddc35e3b455625ecd23bb71fa720dc273c19ed\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"72a05fbeb04977921a36848d84ddc35e3b455625ecd23bb71fa720dc273c19ed\": {\n      \"keyid\": \"72a05fbeb04977921a36848d84ddc35e3b455625ecd23bb71fa720dc273c19ed\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTZrcVNDQVY4TjdnUHB2UmVMMWduYmlxUTZVNE9XazhCME1vd0k2c3p1N0U9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"af65dc31625e39c39d85c9e0a81ca34711ceeefe83fe312cf8efb3551a757947\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"af65dc31625e39c39d85c9e0a81ca34711ceeefe83fe312cf8efb3551a757947\": {\n      \"keyid\": \"af65dc31625e39c39d85c9e0a81ca34711ceeefe83fe312cf8efb3551a757947\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQSt2TTBucitYZ3kxRUVYSVpQbjViaC95SHY2M0dadlV1VVdpL3Y0SmFXY2c9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"3dd9dfb46a64ab380c4041e9d213abb51556b8bb7c11c3f2f2ab733872fe072d\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"3dd9dfb46a64ab380c4041e9d213abb51556b8bb7c11c3f2f2ab733872fe072d\": {\n      \"keyid\": \"3dd9dfb46a64ab380c4041e9d213abb51556b8bb7c11c3f2f2ab733872fe072d\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTJoOVUxQlNBR3pHRnMrZjExaVcwWFNUemRpMlp5a0JGYjhlL2h1dE5XMFE9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"a24879b24cb28597d7a0b752c05009f4b768c59b5aa7599bc1c29326340c96dd\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"a24879b24cb28597d7a0b752c05009f4b768c59b5aa7599bc1c29326340c96dd\": {\n      \"keyid\": \"a24879b24cb28597d7a0b752c05009f4b768c59b5aa7599bc1c29326340c96dd\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWlSdjFDSko3L2EvSHR4dGtYRVFvdW1jV2w3VjB4MEhZbGsrWU9RME5CMHc9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"779952814021114ff8ba670176a68d663d6ab9e72611dc2a0ec70bcc874fc0e5\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"779952814021114ff8ba670176a68d663d6ab9e72611dc2a0ec70bcc874fc0e5\": {\n      \"keyid\": \"779952814021114ff8ba670176a68d663d6ab9e72611dc2a0ec70bcc874fc0e5\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQW5wblJOSjQ0QSs0a0Jpa0NJY1Z1YWpjU0JvM2ZpNHNlMFNwWnV4SVpNV009Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"6222a3c048506439c369a841ff95c9df94c4fec0a03689be4388d085d8509ff0\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"6222a3c048506439c369a841ff95c9df94c4fec0a03689be4388d085d8509ff0\": {\n      \"keyid\": \"6222a3c048506439c369a841ff95c9df94c4fec0a03689be4388d085d8509ff0\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTJqQWlXRW1STDNRbFFXcytZWFl6c093MjlmY2paYUVJZ09ndzhYVFF1M0E9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"9ba3205a558c7f9fe944996bec9338db3213754716eb2e299c9753134cebcfb2\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"9ba3205a558c7f9fe944996bec9338db3213754716eb2e299c9753134cebcfb2\": {\n      \"keyid\": \"9ba3205a558c7f9fe944996bec9338db3213754716eb2e299c9753134cebcfb2\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQS9KbVNZbzI1SEVDY1hsWFdCcUhpSHpQcGx6TElybTBxaFRrb2l0cjY4R2s9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"34e643fa60357e0c59a2d59f26f8894736359b755c1b3f2a58f5a2035ce49704\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"34e643fa60357e0c59a2d59f26f8894736359b755c1b3f2a58f5a2035ce49704\": {\n      \"keyid\": \"34e643fa60357e0c59a2d59f26f8894736359b755c1b3f2a58f5a2035ce49704\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWgzUHhTSGFkVUtYOU1NNlFQYW9yZ3FQbEhQUVM0VjNIeDlPUDZHZDhFUE09Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"5a9a068ee7ff098736dc0bf38ecebef14ee9cc62e671b9ba2207b652e25938a5\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"5a9a068ee7ff098736dc0bf38ecebef14ee9cc62e671b9ba2207b652e25938a5\": {\n      \"keyid\": \"5a9a068ee7ff098736dc0bf38ecebef14ee9cc62e671b9ba2207b652e25938a5\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXNhWmRVbHErNHU3VXpTSXZ5YVFkbmwrcHZOdmdaS2NURUdLalJ1NEM3YU09Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"129fcd76668604f7665c7dbed741818507b2b626f951e852189505d4c53eb5fb\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"129fcd76668604f7665c7dbed741818507b2b626f951e852189505d4c53eb5fb\": {\n      \"keyid\": \"129fcd76668604f7665c7dbed741818507b2b626f951e852189505d4c53eb5fb\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTRYUWllNS9YVGxQd2tkYjZLbS9xczI5aXN4N3RmcnZkZlk1R1JZQVlCZ2c9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"2cb16b1c0190cd2f7a12c98ce2ada73c40c0e4115964a0ccdc2bde404032fe7a\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"2cb16b1c0190cd2f7a12c98ce2ada73c40c0e4115964a0ccdc2bde404032fe7a\": {\n      \"keyid\": \"2cb16b1c0190cd2f7a12c98ce2ada73c40c0e4115964a0ccdc2bde404032fe7a\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVRIUXpZNHNWaHUvU3hEQ2tiSEZDQS92L3BqWXEyVytjRm51UTFId0xIYjA9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"7f8f2c1ee9e361c89e741836128c708b6c46bee4cfd82e2f336706d5e91c9c4b\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"7f8f2c1ee9e361c89e741836128c708b6c46bee4cfd82e2f336706d5e91c9c4b\": {\n      \"keyid\": \"7f8f2c1ee9e361c89e741836128c708b6c46bee4cfd82e2f336706d5e91c9c4b\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXB5QjcxVUdEK3hWd2NabFkzdGFJVkpEM1UxSUsvZHVPZ1RoVUJram5US2M9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"205c3a1ffe668d3026f4b4fbb2b5e00ebc0889f393207598cf96d0f173df665f\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"205c3a1ffe668d3026f4b4fbb2b5e00ebc0889f393207598cf96d0f173df665f\": {\n      \"keyid\": \"205c3a1ffe668d3026f4b4fbb2b5e00ebc0889f393207598cf96d0f173df665f\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVg1QVB6azVrUHhxK1drOE9zbmNSRkp4dEhJL1FlYk1IeUJVUGR6SDhhR009Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"acc8765efa8f8a59bd9fd89a47090a5cd9f982cf158142ea9f6ebcfb2b131f55\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"acc8765efa8f8a59bd9fd89a47090a5cd9f982cf158142ea9f6ebcfb2b131f55\": {\n      \"keyid\": \"acc8765efa8f8a59bd9fd89a47090a5cd9f982cf158142ea9f6ebcfb2b131f55\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUV2alY4a3JEMDZSaGdCSld6cHgyNGc2WjVrYVRrSExIMlptMzNxaTJHdDg9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"cb834c25a64cefb173b2eaab41b3536ae6ab40dc9aab234609eb4b4bfbe066c8\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"cb834c25a64cefb173b2eaab41b3536ae6ab40dc9aab234609eb4b4bfbe066c8\": {\n      \"keyid\": \"cb834c25a64cefb173b2eaab41b3536ae6ab40dc9aab234609eb4b4bfbe066c8\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQS9CZExUSDF2RzZVLzBRUnNlSWxFaFRLRENqZmFqeUdGQWlVeVNZZTM2clk9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"c2c095ed2f62bb5db3578349ca2b2a45588066eaca840c42455c78aaa8764054\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"c2c095ed2f62bb5db3578349ca2b2a45588066eaca840c42455c78aaa8764054\": {\n      \"keyid\": \"c2c095ed2f62bb5db3578349ca2b2a45588066eaca840c42455c78aaa8764054\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTYwSDJtdzZwOEhXVjVoTjJKa3MxaVBiWEJkdUVaTi83Z1pIMUNLZUE0enM9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"853c126c968074503acf36a37e56c7f87a58a0006e4ead2333ec4aab6ba4710b\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"853c126c968074503acf36a37e56c7f87a58a0006e4ead2333ec4aab6ba4710b\": {\n      \"keyid\": \"853c126c968074503acf36a37e56c7f87a58a0006e4ead2333ec4aab6ba4710b\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWpPMUxkYnFlWDJKRlZPeEl6M0E5TFVvTWZjaFFVTzE5MmgzRWNSU01QclE9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"17c952e6e51223fd58824a5ca9c8bdc0c7c6b215b33595c59e438447709d415a\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"17c952e6e51223fd58824a5ca9c8bdc0c7c6b215b33595c59e438447709d415a\": {\n      \"keyid\": \"17c952e6e51223fd58824a5ca9c8bdc0c7c6b215b33595c59e438447709d415a\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWV6Q3A5UHlQYjAxRFBUY1ZvOEVVaXhDWjdUeWpsdC91UjhnR1NtWmQ1N2M9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"f3b6c96d456f35d83503bf07cb0d6258f012aa23675d2b307d2eac48d104b6ce\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"f3b6c96d456f35d83503bf07cb0d6258f012aa23675d2b307d2eac48d104b6ce\": {\n      \"keyid\": \"f3b6c96d456f35d83503bf07cb0d6258f012aa23675d2b307d2eac48d104b6ce\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUVGWm0vVW1kM3p1VFkxSVArTjlISTRrSzhjLzh3TC91L2FIUzhFdlIvSXM9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"8e7e4c264183781e18f1bda23cf84f68761958f1b4dcb0ae020e14663cc4d5f7\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"8e7e4c264183781e18f1bda23cf84f68761958f1b4dcb0ae020e14663cc4d5f7\": {\n      \"keyid\": \"8e7e4c264183781e18f1bda23cf84f68761958f1b4dcb0ae020e14663cc4d5f7\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTFKYVFKd0ZjZUtIa3JXQStRdVhDSFFDbGlmd2ppdWh5K1ZZcE9JOU5iSTQ9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"9987f39a0331595a9465ed6ca4521fa24f68bb6facf0b417838b122af4a20c39\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"9987f39a0331595a9465ed6ca4521fa24f68bb6facf0b417838b122af4a20c39\": {\n      \"keyid\": \"9987f39a0331595a9465ed6ca4521fa24f68bb6facf0b417838b122af4a20c39\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWh4ZzlVbGh1cWwzbXN0U1pjbmc4eEN0L2ZnT0lhOEdnMzFjTjRHbWwvaGc9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"b165feccfbc717c8f48415678ea549f241a6c603ca997ee71c24459c59890109\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"b165feccfbc717c8f48415678ea549f241a6c603ca997ee71c24459c59890109\": {\n      \"keyid\": \"b165feccfbc717c8f48415678ea549f241a6c603ca997ee71c24459c59890109\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWxuK2JPMEd4MnFMWDI5NU9WSEtvN0ZSeDVMUmh6RGJtc2xEQ2I0cUJSK0U9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"06414c721c155b762c05b5fd2b7250b4abaeb0f7b56c6b744b9c0d46c75fb0a1\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"06414c721c155b762c05b5fd2b7250b4abaeb0f7b56c6b744b9c0d46c75fb0a1\": {\n      \"keyid\": \"06414c721c155b762c05b5fd2b7250b4abaeb0f7b56c6b744b9c0d46c75fb0a1\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWRpUGlCREsrcHR0TXJsMHRpZXY4WW9Sem51eEJuNmFQbE5zcmRSRnBQTFU9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"f6c68000a53263afcc82b4e22de8c05f77f0df37b4767ae17e6c4586f94b4046\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"f6c68000a53263afcc82b4e22de8c05f77f0df37b4767ae17e6c4586f94b4046\": {\n      \"keyid\": \"f6c68000a53263afcc82b4e22de8c05f77f0df37b4767ae17e6c4586f94b4046\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWFFcmtTRmxxR1BLbldLZW5uR2hxejhHYVNQcG1oQWdxdDgvMEZaZEc4WUU9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"f9dd999c6ed7f789a91b0473b01a13a9be4b350ab2d4013540bf0963f88e6d88\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"f9dd999c6ed7f789a91b0473b01a13a9be4b350ab2d4013540bf0963f88e6d88\": {\n      \"keyid\": \"f9dd999c6ed7f789a91b0473b01a13a9be4b350ab2d4013540bf0963f88e6d88\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVVqZDhrNkZjV05DdnhTNDh0TTNOT0ZheFNxREFMTUVvdWVnZXB6aVQ5Vm89Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"5197fc6bd5b431a29cbfb4ace707fcb789ed1c2b263feff44a6ac8e8af875a37\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"5197fc6bd5b431a29cbfb4ace707fcb789ed1c2b263feff44a6ac8e8af875a37\": {\n      \"keyid\": \"5197fc6bd5b431a29cbfb4ace707fcb789ed1c2b263feff44a6ac8e8af875a37\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQW1ObDJxK0M0cGE0WEEycjhXT3VBT2FSekN1VXEyWnI3VkhFYWJlaXMxdFU9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"c95cafacc0f7d7674dc5c2d8ebdc3522d65e6bdd179f3c1495172a1fc6c9a64f\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"c95cafacc0f7d7674dc5c2d8ebdc3522d65e6bdd179f3c1495172a1fc6c9a64f\": {\n      \"keyid\": \"c95cafacc0f7d7674dc5c2d8ebdc3522d65e6bdd179f3c1495172a1fc6c9a64f\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUc1eFJpTE96TzI0dzNIMjRJUExBUitkNkQ2V3VaMndDdkRES0pQa0ZEMWc9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"94c48f430cc70051d22d08fca0b3413b8650a2291dfb3307765d0a9e51b5cc0f\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"94c48f430cc70051d22d08fca0b3413b8650a2291dfb3307765d0a9e51b5cc0f\": {\n      \"keyid\": \"94c48f430cc70051d22d08fca0b3413b8650a2291dfb3307765d0a9e51b5cc0f\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVhjd2tLakF2dVhGNUhCdFhZZ3hvZEJoOHdacXArQkJWT2xLMzJTZlZ0YnM9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"fcce42d27b987a9515f385c05c77bbdd3fab0081de55d7295620bc0e38b5d618\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"fcce42d27b987a9515f385c05c77bbdd3fab0081de55d7295620bc0e38b5d618\": {\n      \"keyid\": \"fcce42d27b987a9515f385c05c77bbdd3fab0081de55d7295620bc0e38b5d618\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWR3Nzk5U2hod2lFK0x0Vlc3V3BEVjloVmxLcjNCcHpMSERwaUpTMTFkV2c9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"fd989c3e5bcaa9ffadeb2c41777af27ff317d60dd37c56775d071966425e615c\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"fd989c3e5bcaa9ffadeb2c41777af27ff317d60dd37c56775d071966425e615c\": {\n      \"keyid\": \"fd989c3e5bcaa9ffadeb2c41777af27ff317d60dd37c56775d071966425e615c\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTQrYnE2bVNtenE3Y3cyMUZKVnM3V1lON0tQVGg5QUZEV3NhbUJRQW1INUU9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"4922286d47dcd1cf87951e81352bc0be3f5ab97d2772b64c258a1fa4fa4d6162\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"4922286d47dcd1cf87951e81352bc0be3f5ab97d2772b64c258a1fa4fa4d6162\": {\n      \"keyid\": \"4922286d47dcd1cf87951e81352bc0be3f5ab97d2772b64c258a1fa4fa4d6162\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTRYZ2pCVStxc09pcXZRWjBHWFNHZDltYTJrS2ptZ04wYzF3YnlBY3EyTVU9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"5361ccb80b4ac8fe68b1295a3aa5d463543161fce2b5751adff290ff1c355285\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"5361ccb80b4ac8fe68b1295a3aa5d463543161fce2b5751adff290ff1c355285\": {\n      \"keyid\": \"5361ccb80b4ac8fe68b1295a3aa5d463543161fce2b5751adff290ff1c355285\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXBZUTNuQmpwWTVqUzUweVZHSTFYbXRQcHpNRHZDR3ViTm1xMTFSZkhIZ009Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"f5f998c42d6b6e102e2aaa80058dcc63d4e6fcfa62184517a965e4333b5fe118\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"f5f998c42d6b6e102e2aaa80058dcc63d4e6fcfa62184517a965e4333b5fe118\": {\n      \"keyid\": \"f5f998c42d6b6e102e2aaa80058dcc63d4e6fcfa62184517a965e4333b5fe118\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWsrNWMxNkF3N0UyU2huek9URFpJb1BZVVdVRTlFdVdIY3FOZGRkb1ROSkU9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"94445d89476822159bd3de309f92872ddb2ecdbf47bc38b2c78e3e07ad77daab\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"94445d89476822159bd3de309f92872ddb2ecdbf47bc38b2c78e3e07ad77daab\": {\n      \"keyid\": \"94445d89476822159bd3de309f92872ddb2ecdbf47bc38b2c78e3e07ad77daab\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQW9sTFFsTnFJZnc2RzBNdm5wSWJLZW90VkdUSHQ1SXdURHpSamppYUI0Qkk9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"0b6056b6fb010bdd07887b11ceafe458d15d5439e92e85dcb5952d549983ce55\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"0b6056b6fb010bdd07887b11ceafe458d15d5439e92e85dcb5952d549983ce55\": {\n      \"keyid\": \"0b6056b6fb010bdd07887b11ceafe458d15d5439e92e85dcb5952d549983ce55\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVdBaWV6QzhvN29vYVBNZjdRWjFGWG5YM0ZUTjdhUkJCaGhnQzVGRXhiR0k9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"5b2c2632a0e053c9ac5f8869bf3e5bbfe9e2ce18b06b2465e7ff3fd859892a72\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"5b2c2632a0e053c9ac5f8869bf3e5bbfe9e2ce18b06b2465e7ff3fd859892a72\": {\n      \"keyid\": \"5b2c2632a0e053c9ac5f8869bf3e5bbfe9e2ce18b06b2465e7ff3fd859892a72\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTZ0MmxFcjR6N2QwU1gzK1BMOWlnbmlpYUhtbHdxOENlSGlRQW1RQXJ0TDQ9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"dc950ae8810e2a8ce036fd91f02db8c2cad5478504c8b10a3262c5de10838ffb\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"dc950ae8810e2a8ce036fd91f02db8c2cad5478504c8b10a3262c5de10838ffb\": {\n      \"keyid\": \"dc950ae8810e2a8ce036fd91f02db8c2cad5478504c8b10a3262c5de10838ffb\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTl5ditIMzVMODNKWXd0VUNIMkpTWmJRV09RcmJjQ0hrbDZGSVZ5amgvd0E9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"b2281fca8a502c27f473469a2a8e9519a430450690e6f718ae19d3efddf3fbb4\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"b2281fca8a502c27f473469a2a8e9519a430450690e6f718ae19d3efddf3fbb4\": {\n      \"keyid\": \"b2281fca8a502c27f473469a2a8e9519a430450690e6f718ae19d3efddf3fbb4\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTM2LzRia1JFamludUtDMXBkZWZCS1lhM0psV2F1U05KTVgxZmNpVS9NMVk9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"9f1ae302aa822112d59894dc07535b28a0213217eef6aa5723d35d5616cba351\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"9f1ae302aa822112d59894dc07535b28a0213217eef6aa5723d35d5616cba351\": {\n      \"keyid\": \"9f1ae302aa822112d59894dc07535b28a0213217eef6aa5723d35d5616cba351\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTcxc2lCcUtxU2ZFSnA1dlBUYkhpeGFEeGhoazl3d0d4NG9sWVBlMjFLSkk9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"b614b243d95a70f5ffc10421d0f1a6d14d2607afef1767bcfc03010b75d630ef\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"b614b243d95a70f5ffc10421d0f1a6d14d2607afef1767bcfc03010b75d630ef\": {\n      \"keyid\": \"b614b243d95a70f5ffc10421d0f1a6d14d2607afef1767bcfc03010b75d630ef\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQU1mOUhQR0JJbUhOZVRRNnZJWjhuT2YyOUlGUDY4a2gxTGZRL3NlaXRwcU09Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"f119ca3de6fa1477e156920ae379ebd1f3949b38cdbc3a72c51a77d6cbe79d96\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"f119ca3de6fa1477e156920ae379ebd1f3949b38cdbc3a72c51a77d6cbe79d96\": {\n      \"keyid\": \"f119ca3de6fa1477e156920ae379ebd1f3949b38cdbc3a72c51a77d6cbe79d96\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVZTekxHazBMYnQvcHVKME9wWVBvMDdJdysyWnprb3lockNMcExoN1h0WUU9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"5b67de43894912bf39cd44c4ad520aaeeae4cec284a50a79b049f9f6452c692f\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"5b67de43894912bf39cd44c4ad520aaeeae4cec284a50a79b049f9f6452c692f\": {\n      \"keyid\": \"5b67de43894912bf39cd44c4ad520aaeeae4cec284a50a79b049f9f6452c692f\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTdyNE12bzFtVXhPS3ZONmUzN2F2SC9hbytPbS9pb28rMGF1MmRXZ1FJZXc9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"efb008ff8931bcf2c3455d3538d8ea7510c352896f9d873c9cafa3b782d2a9eb\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"efb008ff8931bcf2c3455d3538d8ea7510c352896f9d873c9cafa3b782d2a9eb\": {\n      \"keyid\": \"efb008ff8931bcf2c3455d3538d8ea7510c352896f9d873c9cafa3b782d2a9eb\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXhxRjZzT3Y0Y1puM0ZWUDFDdGVsN1NZNkNPdlFRVzZ2VlFRNHR2MmRXTFk9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"c830177ea483e8ad190921bcdd6f1318fa395903ecb0836f69eebc475a70866f\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"c830177ea483e8ad190921bcdd6f1318fa395903ecb0836f69eebc475a70866f\": {\n      \"keyid\": \"c830177ea483e8ad190921bcdd6f1318fa395903ecb0836f69eebc475a70866f\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWNLdkQwTXBpbHhXeWh0amZDRHFab2VLUlJWOHE1R0Ewa0NFUWxoRnlEbWM9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"87026d37dea5a24c265cbeae68246b27e964b21a69df377ae64c5739b9430d7f\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"87026d37dea5a24c265cbeae68246b27e964b21a69df377ae64c5739b9430d7f\": {\n      \"keyid\": \"87026d37dea5a24c265cbeae68246b27e964b21a69df377ae64c5739b9430d7f\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUtlVjkrT25iRmF3V01Qem9uYjJxd1BEWEFLZFJYR3NWSU53UG9xWUNZUTA9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"baed927ee5473679c4316b9a9b40a33bf7767dbf84f25a4f2c8d5a13b480e29d\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"baed927ee5473679c4316b9a9b40a33bf7767dbf84f25a4f2c8d5a13b480e29d\": {\n      \"keyid\": \"baed927ee5473679c4316b9a9b40a33bf7767dbf84f25a4f2c8d5a13b480e29d\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUpyNW5QMHdvOHA3Ykx0TWRUUHMza1dZSkc1NUwwL0dDdUlIUVluSjQ1Rmc9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"64d14805aaf3f3d8f47897713b8ef1c2c86556860c0668523b11fac683a3da98\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"64d14805aaf3f3d8f47897713b8ef1c2c86556860c0668523b11fac683a3da98\": {\n      \"keyid\": \"64d14805aaf3f3d8f47897713b8ef1c2c86556860c0668523b11fac683a3da98\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVJHWjlGNmZiazhKelhSdm5RdkJYQ3BIc2FuVk10QzJoclAxTGlyZDF0VjA9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"8011da3788e5e339936369304377d5a5673d9dd71b9d8e7bd108d89e7fa36b79\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"8011da3788e5e339936369304377d5a5673d9dd71b9d8e7bd108d89e7fa36b79\": {\n      \"keyid\": \"8011da3788e5e339936369304377d5a5673d9dd71b9d8e7bd108d89e7fa36b79\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQS9kZDBXRzJKM25qcHJXY1QyL1Y3aVlpYzdGcTRGT0JRekFDWE5zQ2ZZY289Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"bacd31a1104589aeb9dabaa4584c6533490dfda1f1f4443a921f936636f5b071\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"bacd31a1104589aeb9dabaa4584c6533490dfda1f1f4443a921f936636f5b071\": {\n      \"keyid\": \"bacd31a1104589aeb9dabaa4584c6533490dfda1f1f4443a921f936636f5b071\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVRreUhCWWtLMWZnZUtoK25RZGowRjR0d2dTelE3RHFXV05hK0FrWDN5T1k9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"3e9a7c8f688086160d8cd40201e21435c352380c8637326527fcd120022f8a40\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"3e9a7c8f688086160d8cd40201e21435c352380c8637326527fcd120022f8a40\": {\n      \"keyid\": \"3e9a7c8f688086160d8cd40201e21435c352380c8637326527fcd120022f8a40\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXpzNHorbDdoQ2FCN01YM21EblA2WHhKM2JzSTBPLzVXSk1qWHFqWnZndFE9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"bda0eb3018f71ca99bf0a69b7d7d878184013fd3c94087efb5919c685aa51343\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"bda0eb3018f71ca99bf0a69b7d7d878184013fd3c94087efb5919c685aa51343\": {\n      \"keyid\": \"bda0eb3018f71ca99bf0a69b7d7d878184013fd3c94087efb5919c685aa51343\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTliUUtXM1F1bmFRbWVYUXk3UEZCS1FxZTdFaW5oUHoySkRvdkpNSEpCMHc9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"378570ee7135243d97b57d9232e87cbd5694d482ccbf0c07c1e245b89ab5b54e\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"378570ee7135243d97b57d9232e87cbd5694d482ccbf0c07c1e245b89ab5b54e\": {\n      \"keyid\": \"378570ee7135243d97b57d9232e87cbd5694d482ccbf0c07c1e245b89ab5b54e\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUVpSXZLRVlGdFlSWmRWYlN1d2pScW9ydU9kYklwN1ZMWnNYUTVDb3gzcEU9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"992b98c03c742cd3c7802489154884f419dababbc21f6a248f8d253fef5ce6d0\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"992b98c03c742cd3c7802489154884f419dababbc21f6a248f8d253fef5ce6d0\": {\n      \"keyid\": \"992b98c03c742cd3c7802489154884f419dababbc21f6a248f8d253fef5ce6d0\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQThLU281d3laa3YrVVh6eFc3NWkwUDhtdnk5OWltVGhzNmtnZ3JHMGQwaFU9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"71f4098738b0bc7928a7646b18e8271ccae0a111aa76d2bfd584ffa144c8f609\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"71f4098738b0bc7928a7646b18e8271ccae0a111aa76d2bfd584ffa144c8f609\": {\n      \"keyid\": \"71f4098738b0bc7928a7646b18e8271ccae0a111aa76d2bfd584ffa144c8f609\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXFxOERBNkJrV1dPT0txaTZVN2RsMDFuY0hjSDFHWlBPR2tGOE9Uc2NoeGc9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"0c3317ac1532e94c6d77fc67f935c0d22650f5f3e56c2581a53c131e1def4b6b\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"0c3317ac1532e94c6d77fc67f935c0d22650f5f3e56c2581a53c131e1def4b6b\": {\n      \"keyid\": \"0c3317ac1532e94c6d77fc67f935c0d22650f5f3e56c2581a53c131e1def4b6b\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQS9xK2RBUGpERFdNZWQ0eDJ2WUdtbmhzK0xBSHRVNW9jRERyZFRrcFVDeFU9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"8693b6878d69cdcc1e443289b6b836ec58d6c53eee0f0767d67a53a6eefb255d\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"8693b6878d69cdcc1e443289b6b836ec58d6c53eee0f0767d67a53a6eefb255d\": {\n      \"keyid\": \"8693b6878d69cdcc1e443289b6b836ec58d6c53eee0f0767d67a53a6eefb255d\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTdDS1RtUzVLaW1oVE9kcEg4OVJZM0RIa3ZGZUh5V1p5Zlk4dnoxcURlZTA9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"0496c9e45f11e481d7e80e4066ba73297094c72df92bc68fbfa24a18c42b2009\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"0496c9e45f11e481d7e80e4066ba73297094c72df92bc68fbfa24a18c42b2009\": {\n      \"keyid\": \"0496c9e45f11e481d7e80e4066ba73297094c72df92bc68fbfa24a18c42b2009\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUxCM1JkS3lJVkc0cVBYQWVoUjNBUXM1SWNBaVYybnBDSWxZdzF4dnRzREU9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"3b6188b3c1d000e209660137013d98766e70f1f64bf258feeda439e850d7902d\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"3b6188b3c1d000e209660137013d98766e70f1f64bf258feeda439e850d7902d\": {\n      \"keyid\": \"3b6188b3c1d000e209660137013d98766e70f1f64bf258feeda439e850d7902d\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUFjd2FKNnFjNnQxb0FWN3d6UlZqdWRaV21EZS9NRlRKQ29EQnBmWFhJNkk9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"158b2bd3209065fbbac7bc80f6ecbbce20a26b6d85693172e39473950299f69a\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"158b2bd3209065fbbac7bc80f6ecbbce20a26b6d85693172e39473950299f69a\": {\n      \"keyid\": \"158b2bd3209065fbbac7bc80f6ecbbce20a26b6d85693172e39473950299f69a\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVBBS1lGLzRjc2REcUV5NWkvSGlpUWNPVFhBWU5WeUwvaHJxbkxwZFY4WGM9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"e00bbdb6ea1e19e2c8cd6019ba73a6029490f52a22a4c18d739ea8561cc2adff\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"e00bbdb6ea1e19e2c8cd6019ba73a6029490f52a22a4c18d739ea8561cc2adff\": {\n      \"keyid\": \"e00bbdb6ea1e19e2c8cd6019ba73a6029490f52a22a4c18d739ea8561cc2adff\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQW1DUUxoMTBNRE5mV2dEOWNTaVJWSk1JdkhONm41MTVCN0V1OHV1Z0Z4Q2M9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"68ff4e365f0d3422833b61e68c46c7cae5300f3f280d648e4700035b5a963d7f\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"68ff4e365f0d3422833b61e68c46c7cae5300f3f280d648e4700035b5a963d7f\": {\n      \"keyid\": \"68ff4e365f0d3422833b61e68c46c7cae5300f3f280d648e4700035b5a963d7f\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWNjbXlDR1A5eVRtOTZ1WGU1N0IyaGQ1ZVlCMjMra2JqcGxUVjdsajFkNXM9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"ab0f0002ed3c4537f72a894205892e17d468270d290c3d71860791b2912202ae\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"ab0f0002ed3c4537f72a894205892e17d468270d290c3d71860791b2912202ae\": {\n      \"keyid\": \"ab0f0002ed3c4537f72a894205892e17d468270d290c3d71860791b2912202ae\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUIzMXZ2V3hxdHQzL0ptdnNZK0J4Ukc2aS93bjAxcWpxWUhWejNWWC9TUVU9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"cb56f257f5947166bc1b8ecc2e917fd96cc1f15167193dbc2a73e6adca1604fa\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"cb56f257f5947166bc1b8ecc2e917fd96cc1f15167193dbc2a73e6adca1604fa\": {\n      \"keyid\": \"cb56f257f5947166bc1b8ecc2e917fd96cc1f15167193dbc2a73e6adca1604fa\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVoyU3BDa3RYZFhlczZUR2t1cEUwd3F4U0tQOEJSUGJSZTM0TS8vNHpZbnM9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"856e61a005f95334a06a1c0fe69cd48d8428d50568d382ea531d76cab020c16d\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"856e61a005f95334a06a1c0fe69cd48d8428d50568d382ea531d76cab020c16d\": {\n      \"keyid\": \"856e61a005f95334a06a1c0fe69cd48d8428d50568d382ea531d76cab020c16d\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTV0bnU3MC9JUThiZ0F6V254dXZpVTlwaVcybG1YVDAzYVVBWVUwdlkzVVk9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"089007af4eb69dce4edbbcb5d4623e8ed44e7c3d104c3706388c30ff76f31efa\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"089007af4eb69dce4edbbcb5d4623e8ed44e7c3d104c3706388c30ff76f31efa\": {\n      \"keyid\": \"089007af4eb69dce4edbbcb5d4623e8ed44e7c3d104c3706388c30ff76f31efa\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVJ5dWp1bCtUZjJESWVrSFNYdWRQQXJKUHViMVFJaVB4dEk3K1BwR0dhQkk9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"3c79a3d4b7e24c7183c87dcd1836bb85b7a83af8436085e05505f2612cf3be8a\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"3c79a3d4b7e24c7183c87dcd1836bb85b7a83af8436085e05505f2612cf3be8a\": {\n      \"keyid\": \"3c79a3d4b7e24c7183c87dcd1836bb85b7a83af8436085e05505f2612cf3be8a\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWo5Zno1M21sMG9haldmQjhwOE9CanRUajRzdVl0THVuYys3eHZ6S2Y2cmM9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"289b6de73aa6d1d3b9f75d5c76b3cd19a8838dd8fdb43b63f64e1ea02f4f1530\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"289b6de73aa6d1d3b9f75d5c76b3cd19a8838dd8fdb43b63f64e1ea02f4f1530\": {\n      \"keyid\": \"289b6de73aa6d1d3b9f75d5c76b3cd19a8838dd8fdb43b63f64e1ea02f4f1530\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUJxKzNERGltVW93bEVhNmZDZlFYODFjQjErWUxKQllKMmdFdGplT3FaSTQ9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"193cebd50b072beab1934f27888f58518d5d24cb00dc7c5ee3ab6dc67c01f5d2\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"193cebd50b072beab1934f27888f58518d5d24cb00dc7c5ee3ab6dc67c01f5d2\": {\n      \"keyid\": \"193cebd50b072beab1934f27888f58518d5d24cb00dc7c5ee3ab6dc67c01f5d2\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVB6d2hiNWxYK21OdDgxNG9DcXlocWpGa3dNc29FYU1DcEJYMURuWDg1SHc9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"3e0227a71e6a34749bab7ee09479bce7f439821cfae4ff509a33eba5fef392bf\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"3e0227a71e6a34749bab7ee09479bce7f439821cfae4ff509a33eba5fef392bf\": {\n      \"keyid\": \"3e0227a71e6a34749bab7ee09479bce7f439821cfae4ff509a33eba5fef392bf\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVh3UFd6eVcwSnJjMldJMVJja2Mza3Rwci95TDNQV2FKbmlZRG9aYm9tVzA9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"6c33a3e721e94df60288f2bf5733dc86cc4d586e10e58fb3aec7823f37eb65ef\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"6c33a3e721e94df60288f2bf5733dc86cc4d586e10e58fb3aec7823f37eb65ef\": {\n      \"keyid\": \"6c33a3e721e94df60288f2bf5733dc86cc4d586e10e58fb3aec7823f37eb65ef\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTE2dE1WRTRzbkpDK0RiazRwRnVVN0dOQTYxUlpGYU1hTEtKRWRqUFRweGs9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"5807317b3ca43715ab38be4ff2db6a12c06856443a2130f40d34ff1fe170b757\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"5807317b3ca43715ab38be4ff2db6a12c06856443a2130f40d34ff1fe170b757\": {\n      \"keyid\": \"5807317b3ca43715ab38be4ff2db6a12c06856443a2130f40d34ff1fe170b757\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTBmVEhWblFXd094aXNvR0Z1bjhud2JhNU5xckZnM3dNU2ovclcvdzZORDA9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"bccc518be6fc145b4d4f329e0cb9663dd20df4f78297b643e738c31c7a075787\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"bccc518be6fc145b4d4f329e0cb9663dd20df4f78297b643e738c31c7a075787\": {\n      \"keyid\": \"bccc518be6fc145b4d4f329e0cb9663dd20df4f78297b643e738c31c7a075787\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWtFbVpPRHptTjhqQmlKU0xCMUswalNwYmowdll1ZXk3Nm9xejhIMllZcmM9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"83438346df0bd832d9d94615836fc8c8eec73755a7401230221fa9dfaf5bb7c5\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"83438346df0bd832d9d94615836fc8c8eec73755a7401230221fa9dfaf5bb7c5\": {\n      \"keyid\": \"83438346df0bd832d9d94615836fc8c8eec73755a7401230221fa9dfaf5bb7c5\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQThWeFhEdEhuSXBOcFdXTTlzVWVSTjdqQkh0dmVIKzNzZjlGM0RhQmwrbkE9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"219e1840bc4c4ea2aaf7d42c7efe54a9eb4ce40b7aeb5c23a1972ee3c6798713\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"219e1840bc4c4ea2aaf7d42c7efe54a9eb4ce40b7aeb5c23a1972ee3c6798713\": {\n      \"keyid\": \"219e1840bc4c4ea2aaf7d42c7efe54a9eb4ce40b7aeb5c23a1972ee3c6798713\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXpUQk1rb2ZmSXV6MHFybUhnVThMaklqYWhOWFlkVHBBRlBic1gwbWpFTUk9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"2eed2d1591195a484ef7f39078864e21f098c2b260fc5a4e4ac08ca200ef76a1\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"2eed2d1591195a484ef7f39078864e21f098c2b260fc5a4e4ac08ca200ef76a1\": {\n      \"keyid\": \"2eed2d1591195a484ef7f39078864e21f098c2b260fc5a4e4ac08ca200ef76a1\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUdWUDZDb0kyOVpMTE50R05wY1RCUEdPdUhMY0hXMlhHZFJoVk45M05HWFE9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"b94f4b2e3c7c81ef17ff05a3653377149ead9f97f7078792ec32fd1f44f507ed\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"b94f4b2e3c7c81ef17ff05a3653377149ead9f97f7078792ec32fd1f44f507ed\": {\n      \"keyid\": \"b94f4b2e3c7c81ef17ff05a3653377149ead9f97f7078792ec32fd1f44f507ed\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVR1T1RoT1IrdmcrTkNVWkJNM3RTL205ZXo0NFZneDlyNzlRclg2dFh3VzA9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"b47ce8172bfce35da4271c057c4f3efc3e6997fd30c3d9e87f9388335911ba35\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"b47ce8172bfce35da4271c057c4f3efc3e6997fd30c3d9e87f9388335911ba35\": {\n      \"keyid\": \"b47ce8172bfce35da4271c057c4f3efc3e6997fd30c3d9e87f9388335911ba35\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQStZMTV0L1lhVVRZNFVLN3FWTlZzUjRtczBVdEFuQjlqWk93MjhsdlNsc0U9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"ca02f3349a1d7a3dc27d8da872190e58020abdcef693f7c6213421d6f93b6217\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"ca02f3349a1d7a3dc27d8da872190e58020abdcef693f7c6213421d6f93b6217\": {\n      \"keyid\": \"ca02f3349a1d7a3dc27d8da872190e58020abdcef693f7c6213421d6f93b6217\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVMvT3pmMUFLRmVFZ1JFeEpZL01iNWxXS0Y3OTNLblVGemM5MDhIblVFMXM9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"8aebfeb775621919fad0d29a140a00e1b4614777c825ae3a3b60c796b73a74ed\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"8aebfeb775621919fad0d29a140a00e1b4614777c825ae3a3b60c796b73a74ed\": {\n      \"keyid\": \"8aebfeb775621919fad0d29a140a00e1b4614777c825ae3a3b60c796b73a74ed\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQU4xYkRKdmVCbDQrdm5Rb0QyL3N6dVNmYk1mMU4vRDlrTWlveVdPQVFudzg9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"e8a469141fa41ba349a11698dc1bd1159f267fe61577057960c99ba074e289bf\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"e8a469141fa41ba349a11698dc1bd1159f267fe61577057960c99ba074e289bf\": {\n      \"keyid\": \"e8a469141fa41ba349a11698dc1bd1159f267fe61577057960c99ba074e289bf\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXU2eStxQ2h2c25FbVcra3FVd1IzSnpRSG15dTFjWlpROTRtenduc0s2MjQ9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"a85b221eeee74bc7188f4960fbefa51f5edd5814189e956e0fe0475bf2124815\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"a85b221eeee74bc7188f4960fbefa51f5edd5814189e956e0fe0475bf2124815\": {\n      \"keyid\": \"a85b221eeee74bc7188f4960fbefa51f5edd5814189e956e0fe0475bf2124815\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVhLcXZLQXN0WVNxaEFYQUtNRlRzcU9lZmdrRnRyNC9JM0hMUlFWeFJvVU09Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"0abcfa6d146e8c3d2c249920fc47db23e7759147255f8550660ba49f91dfb174\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"0abcfa6d146e8c3d2c249920fc47db23e7759147255f8550660ba49f91dfb174\": {\n      \"keyid\": \"0abcfa6d146e8c3d2c249920fc47db23e7759147255f8550660ba49f91dfb174\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQU9iazVRZlNOWWJxdGtuUWVKN3dUQy91T2MzMnFGS0VseU1TZnN4UnBxYWs9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"ced9605cb727220387f9dda6016cb069267f2c4a83f9a9441fa3b7880eab64de\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"ced9605cb727220387f9dda6016cb069267f2c4a83f9a9441fa3b7880eab64de\": {\n      \"keyid\": \"ced9605cb727220387f9dda6016cb069267f2c4a83f9a9441fa3b7880eab64de\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTQ3NDdrTVNsblk0OCtVcjY3clc5Z1Z1ZlpPN0F1U1gyK1V5cDBTN3dZWkE9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"a772a17ec6b55eab61f9df56e27a24b78e1bfc74555fcfac5a743877a10d9ee9\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"a772a17ec6b55eab61f9df56e27a24b78e1bfc74555fcfac5a743877a10d9ee9\": {\n      \"keyid\": \"a772a17ec6b55eab61f9df56e27a24b78e1bfc74555fcfac5a743877a10d9ee9\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTB0blFhOTczUjNlQytqa0NSM0N1YmxkSFFBUENwMHIxMVpOeVlHN2dldHc9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"520f90ea72b6b0dc9a158e9c1fbc2ed7b0dce6810e40030adcda4bc487d456df\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"520f90ea72b6b0dc9a158e9c1fbc2ed7b0dce6810e40030adcda4bc487d456df\": {\n      \"keyid\": \"520f90ea72b6b0dc9a158e9c1fbc2ed7b0dce6810e40030adcda4bc487d456df\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXlaYUh6dnpoa2lldWc5dURoSVZJcHphZ2xBZFpKRWpWK0hKbUw3UU05ZGc9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"421bcc40bb03b2f2222684092d648eca64579dc20f3f36236c1b5435b93d503d\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"421bcc40bb03b2f2222684092d648eca64579dc20f3f36236c1b5435b93d503d\": {\n      \"keyid\": \"421bcc40bb03b2f2222684092d648eca64579dc20f3f36236c1b5435b93d503d\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQW1Nc0JRcEdzOHdCdG4rMmdIeC9FZmxHc0U3Vkk1V1NsaHBMbFcvTkRkVVE9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"c42422e2a9083d5a380b1f4e056f29e9bfd4472d7dd3d27a47646c31939e24f7\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"c42422e2a9083d5a380b1f4e056f29e9bfd4472d7dd3d27a47646c31939e24f7\": {\n      \"keyid\": \"c42422e2a9083d5a380b1f4e056f29e9bfd4472d7dd3d27a47646c31939e24f7\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVRMMVJoTzhuZHRvYnh3a0dIWjd5RXprM3dWdmRQKzd3MUJqOEcwVVdSYm89Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"1fe307a34d237da1f4522e6223c54e34f518d6bcdb0db51dcd79a10f74cb8e1b\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"1fe307a34d237da1f4522e6223c54e34f518d6bcdb0db51dcd79a10f74cb8e1b\": {\n      \"keyid\": \"1fe307a34d237da1f4522e6223c54e34f518d6bcdb0db51dcd79a10f74cb8e1b\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUJYWWZRQ1JJMk9VVnZObnlTWnZTaFkrVFRncmlINmNvdGNDdXdlS0dGclE9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"3718f8980f0f8e2ce2477f6028e07c15bd2b80a37cdf381844395ad5d3645d93\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"3718f8980f0f8e2ce2477f6028e07c15bd2b80a37cdf381844395ad5d3645d93\": {\n      \"keyid\": \"3718f8980f0f8e2ce2477f6028e07c15bd2b80a37cdf381844395ad5d3645d93\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXF2emhMTVJhazJranZ1ZjhXa3Yxdm1mWVdjZEVDSjRRRGVLaVdFSUlqR289Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"98670b821515aadd9c304984efe1ec48e7bf9d7685d0dbcd61b751b02c4ef009\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"98670b821515aadd9c304984efe1ec48e7bf9d7685d0dbcd61b751b02c4ef009\": {\n      \"keyid\": \"98670b821515aadd9c304984efe1ec48e7bf9d7685d0dbcd61b751b02c4ef009\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWZ2OEhTNGplUDA4a3ZmdUZGT0NEeG5SYm1heEpiei9RV2dRT1R1cEg3cDA9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"f75ef15c45d01f735ed871ff08e63afc7b60be6e778712ccd95a733f3413e734\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"f75ef15c45d01f735ed871ff08e63afc7b60be6e778712ccd95a733f3413e734\": {\n      \"keyid\": \"f75ef15c45d01f735ed871ff08e63afc7b60be6e778712ccd95a733f3413e734\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXpTNm9sQW5BdVR1QXh3bEN2eUh5b1praUFzQVRuZkZzWXd5VENnQVlPaVU9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"e40863365877b3b4a5103bd53e49ba6804b18905e73492821abf04d9317e3b5e\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"e40863365877b3b4a5103bd53e49ba6804b18905e73492821abf04d9317e3b5e\": {\n      \"keyid\": \"e40863365877b3b4a5103bd53e49ba6804b18905e73492821abf04d9317e3b5e\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWhqNjJXdllpL3VjZjc0NVVvRDF5UnM1cTVXYkpGMlJ4NHdhR2VVS1RFUHc9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"5c5eef0dbd795f83ab083b627fb008422dcea95e99fd08efd7070b1f2c454965\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"5c5eef0dbd795f83ab083b627fb008422dcea95e99fd08efd7070b1f2c454965\": {\n      \"keyid\": \"5c5eef0dbd795f83ab083b627fb008422dcea95e99fd08efd7070b1f2c454965\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXRVbUR0VWZOTzhlVmNIWmtlYjVwY1ZVMm5EZUNQTzNqQ2JoNU83S0JSY2M9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"1031be372f061f9d9d4785f9f5398bfafbf9c19a32384ccedbac066c7ebf6a3d\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"1031be372f061f9d9d4785f9f5398bfafbf9c19a32384ccedbac066c7ebf6a3d\": {\n      \"keyid\": \"1031be372f061f9d9d4785f9f5398bfafbf9c19a32384ccedbac066c7ebf6a3d\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVhkTVljUUNaMTR0QTdwSEdaQU0vQnRGTlhSS1FscWIzNHFzckZuK1d2eWM9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"972e72c350ee2fc35473ea5c9494acd92d7f6b85744af8a3c428db04e322e763\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"972e72c350ee2fc35473ea5c9494acd92d7f6b85744af8a3c428db04e322e763\": {\n      \"keyid\": \"972e72c350ee2fc35473ea5c9494acd92d7f6b85744af8a3c428db04e322e763\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXlNNWNNaDZqQmVLRU52a3lLR1VXUnUybEJBR3JCSmpOWGlLRmk3SnZUdGc9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"3b7603685cc029d5a782d10a028750713711fbb963d0ab2271d9c841aaa267d2\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"3b7603685cc029d5a782d10a028750713711fbb963d0ab2271d9c841aaa267d2\": {\n      \"keyid\": \"3b7603685cc029d5a782d10a028750713711fbb963d0ab2271d9c841aaa267d2\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTJZZDh0RHlsN2tiR3Y1cjdGeUNodTNHS0QrN01BbHkxaENVMnlucE5YeTg9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"284388bbc27b3f2b5186d94848f1d57dc9989ea2365dffcd80ecaae87e23e473\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"284388bbc27b3f2b5186d94848f1d57dc9989ea2365dffcd80ecaae87e23e473\": {\n      \"keyid\": \"284388bbc27b3f2b5186d94848f1d57dc9989ea2365dffcd80ecaae87e23e473\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTh6UHZsaFU0U0RjSG1SVjlJelp5NWd5dVJXbnFIaU9YdVk3Rmp0S1BuTHM9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"04199313cf747f8f1ce0772350315e2c7f192cecf41a61f2dc0f7ab30374348c\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"04199313cf747f8f1ce0772350315e2c7f192cecf41a61f2dc0f7ab30374348c\": {\n      \"keyid\": \"04199313cf747f8f1ce0772350315e2c7f192cecf41a61f2dc0f7ab30374348c\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQURtVkpMWUFRTVpGUUxYZVljVUwvU2E2L2xQbzh0dDRId29IWCtrZkNQeVU9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"9abb2c5e4d829e50373e8993e1499c51f4f36b1481c9c9ea984469003b4edd68\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"9abb2c5e4d829e50373e8993e1499c51f4f36b1481c9c9ea984469003b4edd68\": {\n      \"keyid\": \"9abb2c5e4d829e50373e8993e1499c51f4f36b1481c9c9ea984469003b4edd68\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXYrT25ZZC9XMU0zU2hxOWhSaGU5czQ1cjZHelhRSHZmUk13akFROWdmWFk9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"62948159c6171b7ee3681ba2bbfb4f4da54d42af0344650aeab83f1a3f2a0f1f\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"62948159c6171b7ee3681ba2bbfb4f4da54d42af0344650aeab83f1a3f2a0f1f\": {\n      \"keyid\": \"62948159c6171b7ee3681ba2bbfb4f4da54d42af0344650aeab83f1a3f2a0f1f\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWtQL2tqNzIyeG1UdTVmNW11REMyVlJ2L1FaOXVBb0hKN2JOZ0dya0JyME09Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"e6e86dc2a964063052985c25dadc7b6a9f2c175d52b7b23e651822083208e0bd\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"e6e86dc2a964063052985c25dadc7b6a9f2c175d52b7b23e651822083208e0bd\": {\n      \"keyid\": \"e6e86dc2a964063052985c25dadc7b6a9f2c175d52b7b23e651822083208e0bd\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWtnSXVHQUxESEZqSlZ1dmZXOXNkZFcvcFZ2OGN0bDc0Ri92TVBJbHE3T1U9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"c1443f88b361847266eace332117897629083be970b8e679f5c88f03059543dc\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"c1443f88b361847266eace332117897629083be970b8e679f5c88f03059543dc\": {\n      \"keyid\": \"c1443f88b361847266eace332117897629083be970b8e679f5c88f03059543dc\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQU9JTVBwZnR6dDV6T1RZeW1BSEFoeUo3OFhBRERoNS90cVY0UTNPVHdZN2M9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"c91080721c0f9cac682b9e7c37bf7cd93c89556807b708174c15b93f05914846\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"c91080721c0f9cac682b9e7c37bf7cd93c89556807b708174c15b93f05914846\": {\n      \"keyid\": \"c91080721c0f9cac682b9e7c37bf7cd93c89556807b708174c15b93f05914846\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXorMmhobmVHSG4xMUkrbXNtWFZ2bUppWTQ4WnlmclhvblpOaEZ4aERMZkU9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"45ca5770a5f38225cdf11f9e9a7e0ef1eefc5a9562ee5e09826b40a8d946e252\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"45ca5770a5f38225cdf11f9e9a7e0ef1eefc5a9562ee5e09826b40a8d946e252\": {\n      \"keyid\": \"45ca5770a5f38225cdf11f9e9a7e0ef1eefc5a9562ee5e09826b40a8d946e252\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWFIUnB5U1pOTE5obHJYcUdkY1dvWGtHVnl4aGx3dFR0SXVJUXM5MENaQnM9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"c87230ff646bd2902c8c948fe6e69e2e0bf6c9cb625415d3dcff9deab562f292\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"c87230ff646bd2902c8c948fe6e69e2e0bf6c9cb625415d3dcff9deab562f292\": {\n      \"keyid\": \"c87230ff646bd2902c8c948fe6e69e2e0bf6c9cb625415d3dcff9deab562f292\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXlGcWdmcmhYaXRuUzg3bEVIdUg5djNlWWdYSDhjZFYraWZJTzhMQzJBYnc9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"f389781156bbba978f8a9ad7d10c29b6c4e8860fca87ca7be183522f1bd0f62e\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"f389781156bbba978f8a9ad7d10c29b6c4e8860fca87ca7be183522f1bd0f62e\": {\n      \"keyid\": \"f389781156bbba978f8a9ad7d10c29b6c4e8860fca87ca7be183522f1bd0f62e\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQW9reVBSRXJuT3pxRDFkY3B0aHBnNzVDK2RWblVacFRHRlh0cmRPcmYrUTA9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"9065a3d37364bd2c4b472e7799919ed0bb7c072bbba51ab0fa9dbfec29e15689\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"9065a3d37364bd2c4b472e7799919ed0bb7c072bbba51ab0fa9dbfec29e15689\": {\n      \"keyid\": \"9065a3d37364bd2c4b472e7799919ed0bb7c072bbba51ab0fa9dbfec29e15689\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUxNTFY2dmtwSXNzNi8zMjRUdGgzVkJteFAwaHNGc1JUcmFWelhTTTJJckk9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"f3b895010306fc519de3dc10e25390d74c70f6811cf3b74bb6fc463fbd04d420\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"f3b895010306fc519de3dc10e25390d74c70f6811cf3b74bb6fc463fbd04d420\": {\n      \"keyid\": \"f3b895010306fc519de3dc10e25390d74c70f6811cf3b74bb6fc463fbd04d420\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVpvdkdlVk5hTFliZFg1Z1JUb1BMNHRiSmRSSjIrWWwyU1Qzaml1aG01MkU9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"e43d2298e774b1e5bdcc492f94fa7332f29739da847b968f94dc698948dfc85c\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"e43d2298e774b1e5bdcc492f94fa7332f29739da847b968f94dc698948dfc85c\": {\n      \"keyid\": \"e43d2298e774b1e5bdcc492f94fa7332f29739da847b968f94dc698948dfc85c\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQW9HbTFwdEo5SGp6bjNITmNPanBXc2hVQy9qNjlBclNjck1nK0xKOElPcUU9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"b3fd05c353dabb4f827128e230f3f665053bc5e233794ad6b11d7bf089f30d7b\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"b3fd05c353dabb4f827128e230f3f665053bc5e233794ad6b11d7bf089f30d7b\": {\n      \"keyid\": \"b3fd05c353dabb4f827128e230f3f665053bc5e233794ad6b11d7bf089f30d7b\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTZTTlhyQzNsN2czbitMRkN4c3RUVUw2Rll0QVNlTTFUc215MHhxeEdGNkE9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"43bd0e1f13d328353706735a49ce2dca5693084e47db5c64b88e6af5afb1819d\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"43bd0e1f13d328353706735a49ce2dca5693084e47db5c64b88e6af5afb1819d\": {\n      \"keyid\": \"43bd0e1f13d328353706735a49ce2dca5693084e47db5c64b88e6af5afb1819d\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWpMd3NmalVzbU8xUnpXUDgvNTdZUGNzUTJWNWxPYzJPMy9lU0MreFdCMmc9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"3b7a868f711b0081d2796f4186f63a4b5580b7c69fc8624e633d21101e377dda\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"3b7a868f711b0081d2796f4186f63a4b5580b7c69fc8624e633d21101e377dda\": {\n      \"keyid\": \"3b7a868f711b0081d2796f4186f63a4b5580b7c69fc8624e633d21101e377dda\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUhVUXFsZ2pNYXRNTVpNOU1oUjM1MWRSdHNVZll0WE1qcXJkT3N6YndLOVU9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"6dec661108096c555984527da9c09137e88e0a8ce68b5307d398c7c0a5859a9b\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"6dec661108096c555984527da9c09137e88e0a8ce68b5307d398c7c0a5859a9b\": {\n      \"keyid\": \"6dec661108096c555984527da9c09137e88e0a8ce68b5307d398c7c0a5859a9b\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTM5UTA1YzFVWXUwL3NGQjQ4QjI1TnY4ZlgvejhSai9Jc1lPcnZjMEdWbWc9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"f3741451b9b2c76b35e5d0d6840caeef78dcdcd2ab414c2f8b48530f26520372\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"f3741451b9b2c76b35e5d0d6840caeef78dcdcd2ab414c2f8b48530f26520372\": {\n      \"keyid\": \"f3741451b9b2c76b35e5d0d6840caeef78dcdcd2ab414c2f8b48530f26520372\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUwrK2J3Vjc2dDBFOXRVUTl2N1VYK3d2d01FaFZxVXc4dzQ1MExUN1E2QzA9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"dd64fda77630ecb321095c9fd855e2c71448183104a472508e5655b02c61d17c\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"dd64fda77630ecb321095c9fd855e2c71448183104a472508e5655b02c61d17c\": {\n      \"keyid\": \"dd64fda77630ecb321095c9fd855e2c71448183104a472508e5655b02c61d17c\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVdGVHowUW4zVjVXNkJBbU5iQUdCWWdMVXVMcktPZVRRbzc3TnlFL3VzcHc9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"88048e7c98283d30a4f56276049f5249baf84f7f78aeef6072dd3ecc72482e48\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"88048e7c98283d30a4f56276049f5249baf84f7f78aeef6072dd3ecc72482e48\": {\n      \"keyid\": \"88048e7c98283d30a4f56276049f5249baf84f7f78aeef6072dd3ecc72482e48\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQW1LWHhLajJGamRsUCs0clNpZDFpM09UbTNsY1p4cGlsc29TYkZNRlZDT2M9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"b06b6c7e4c8dbdd97eff4ae04b9fd48181bb1877e47f54d9bd38363eecd7f1cf\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"b06b6c7e4c8dbdd97eff4ae04b9fd48181bb1877e47f54d9bd38363eecd7f1cf\": {\n      \"keyid\": \"b06b6c7e4c8dbdd97eff4ae04b9fd48181bb1877e47f54d9bd38363eecd7f1cf\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXQwRjhmSHo4Zk1uN1drZS9sNEpPekw4NXM5elZEQlhKOFZ1cHJNSU80clU9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"8fbfa4ef2dfa09d9cb3fe3c584017bd008b535557f160da7f9920a5c025dcb35\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"8fbfa4ef2dfa09d9cb3fe3c584017bd008b535557f160da7f9920a5c025dcb35\": {\n      \"keyid\": \"8fbfa4ef2dfa09d9cb3fe3c584017bd008b535557f160da7f9920a5c025dcb35\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTJQbUNxNlMrMWk4clJKV1krTlRQZEtsTmhNQUtOS01pNnZ1b25BWU9ZMWc9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"07c65afe1ca66e04115890f6f7fc5ce527b6919ee9ce8364a932e0f170fad6fa\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"07c65afe1ca66e04115890f6f7fc5ce527b6919ee9ce8364a932e0f170fad6fa\": {\n      \"keyid\": \"07c65afe1ca66e04115890f6f7fc5ce527b6919ee9ce8364a932e0f170fad6fa\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUJLOFpzQWwrcVQvdUN2L3BLdmk2VmVtazBGOFJPTG1GRldlNDlPQVZEM1U9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"aba27cd205d3648be8dd906619003524a89efec763a5e42f9f575739a6e0af7c\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"aba27cd205d3648be8dd906619003524a89efec763a5e42f9f575739a6e0af7c\": {\n      \"keyid\": \"aba27cd205d3648be8dd906619003524a89efec763a5e42f9f575739a6e0af7c\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTM0N3QzOG1qaUtCZlFXc3AvYUIxbFB2SXdYNkRZTWRDZStVSjV2c1lZMGs9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"d60549835686203428a9de571b5c01a5ec5a2652d57af4f3c1f448467135411a\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"d60549835686203428a9de571b5c01a5ec5a2652d57af4f3c1f448467135411a\": {\n      \"keyid\": \"d60549835686203428a9de571b5c01a5ec5a2652d57af4f3c1f448467135411a\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXlqTFFGU0YrbHZNbkYrY2U3SkxwVzMwdEQvUnVkUXBzSmpiRTdRYm9HUG89Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"ba67d8d99e113cc0228862daeaae6a8f4332e404cd114bed25ac38b8bf804019\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"ba67d8d99e113cc0228862daeaae6a8f4332e404cd114bed25ac38b8bf804019\": {\n      \"keyid\": \"ba67d8d99e113cc0228862daeaae6a8f4332e404cd114bed25ac38b8bf804019\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWxrYjY0MTJlY0J4MnlxUnN3bjFRT2hTaGdGVnFERkh0ek5mTVZpdnJtajQ9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"f8eb537d41b2afad341106770c484b12f9ad87877211dc10923695dbd7b1c1ad\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"f8eb537d41b2afad341106770c484b12f9ad87877211dc10923695dbd7b1c1ad\": {\n      \"keyid\": \"f8eb537d41b2afad341106770c484b12f9ad87877211dc10923695dbd7b1c1ad\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUtuQ0toOCtXWU5tMEY3NlRhVm9KTS9hS0YrbEhsckxqdGgvMWNwS2RGT1U9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"abd43c64fe988ddcef71631d91cefe6086c0aec86b0c673a39e7300f99e912f1\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"abd43c64fe988ddcef71631d91cefe6086c0aec86b0c673a39e7300f99e912f1\": {\n      \"keyid\": \"abd43c64fe988ddcef71631d91cefe6086c0aec86b0c673a39e7300f99e912f1\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVd3Y01jeXducmpaS0EyZ2Vmcm5zUzdJOXJhaVhORXlhT0IxKytmbjM1UGc9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"ec2d4767bc0992139ecd2f26fb359143e73dc05b1a27895f659042c848171f3f\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"ec2d4767bc0992139ecd2f26fb359143e73dc05b1a27895f659042c848171f3f\": {\n      \"keyid\": \"ec2d4767bc0992139ecd2f26fb359143e73dc05b1a27895f659042c848171f3f\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUt2cll5bGZJbWE4MkQ5OTZkNXVQdzBXM3piN05sclJlckNNWUNjRy96bmc9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"82063da09a0ecf0cc236b2887e74588625b6e1abbafbc47fb0823878a97597c7\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"82063da09a0ecf0cc236b2887e74588625b6e1abbafbc47fb0823878a97597c7\": {\n      \"keyid\": \"82063da09a0ecf0cc236b2887e74588625b6e1abbafbc47fb0823878a97597c7\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTVGTDhRU0F4UXE1V1BtaW90NUgxNjhtMVJiK2dRQ04xbWE3OC9WK1RONms9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"b872f74452bb5abbc02cf28fe887c7d37131adf563a585821b65a05650afa911\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"b872f74452bb5abbc02cf28fe887c7d37131adf563a585821b65a05650afa911\": {\n      \"keyid\": \"b872f74452bb5abbc02cf28fe887c7d37131adf563a585821b65a05650afa911\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUFCL1NqNHN2SG0raTY0YmNiVUZGTnR2SFp6djltbHh3U2ltK3c2YkczZTg9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"9d437b1377aa9899f7d35cbe09a3cb4cb7da2f2340455b8275cb4f558cd88631\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"9d437b1377aa9899f7d35cbe09a3cb4cb7da2f2340455b8275cb4f558cd88631\": {\n      \"keyid\": \"9d437b1377aa9899f7d35cbe09a3cb4cb7da2f2340455b8275cb4f558cd88631\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUJydExvNXE5VEs4cHhBUThsWkN4TDFoOEtLUExQaTlvVm9KM3dOTlh0Q009Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"b2181aa0b8193e3a7a2af82f30b9f8afcc1890e48bd1ba77c457fed14ee5ef8c\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"b2181aa0b8193e3a7a2af82f30b9f8afcc1890e48bd1ba77c457fed14ee5ef8c\": {\n      \"keyid\": \"b2181aa0b8193e3a7a2af82f30b9f8afcc1890e48bd1ba77c457fed14ee5ef8c\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTRuUkw3VmMxNGwxaVlXNHFSbnQvVTRWUVk0UHdqNlE4VHVtZGZGMDh3YWc9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"1d84fede4dbebd7926b176197cffd632a12b5aedd173a3cf42af3e72fd32f76f\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"1d84fede4dbebd7926b176197cffd632a12b5aedd173a3cf42af3e72fd32f76f\": {\n      \"keyid\": \"1d84fede4dbebd7926b176197cffd632a12b5aedd173a3cf42af3e72fd32f76f\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUM2MlhvRXFBcnpGdTBqaEN2MWV6TVEvckFHbDlRQXdTS0hVc1h6V3VYZ2c9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"17eef5a180f76884d892174fcdd745affbb1aa53e4b841c53254c85daa1dd2d7\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"17eef5a180f76884d892174fcdd745affbb1aa53e4b841c53254c85daa1dd2d7\": {\n      \"keyid\": \"17eef5a180f76884d892174fcdd745affbb1aa53e4b841c53254c85daa1dd2d7\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUpVK1NJTUczZEdBanJJMXM0UHlCblpvTFRvUVRYYVg2K3JQeEhvR0F2T2c9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"9f18ec75155f2b235e34a96b3563769bb226c92efc85670fdae8b90f177f0738\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"9f18ec75155f2b235e34a96b3563769bb226c92efc85670fdae8b90f177f0738\": {\n      \"keyid\": \"9f18ec75155f2b235e34a96b3563769bb226c92efc85670fdae8b90f177f0738\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUhiclZqdDRJUXB3eWl5YUVUUmQ2UHl0S2ZpbTFhRkV6NzRPVCtTVmwxN289Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"eed1259c01f315f35946653644bfdf6f34c5cdcd504902c990bbb70876535f12\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"eed1259c01f315f35946653644bfdf6f34c5cdcd504902c990bbb70876535f12\": {\n      \"keyid\": \"eed1259c01f315f35946653644bfdf6f34c5cdcd504902c990bbb70876535f12\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWtRNGJpS1Bqb2NsMGllUHhLK0IzQjh3SHp0VzIxT2lwSWVuU1VGYkJTZmc9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"5f7dad7cdb9ac5e29220d8bf6fc44f3c6df4be8d3f187dcb2b109c0b65a5d1a6\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"5f7dad7cdb9ac5e29220d8bf6fc44f3c6df4be8d3f187dcb2b109c0b65a5d1a6\": {\n      \"keyid\": \"5f7dad7cdb9ac5e29220d8bf6fc44f3c6df4be8d3f187dcb2b109c0b65a5d1a6\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTgydTJDaFVKQlpYcnFaK3Y5UFF4OFJaYmhUQnF4elhTRDJEb1RmL29sL2c9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"05ae2a92cca6bae179bc87d4850cb713b741b8d0dfeeb1680e1b0614baec98d0\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"05ae2a92cca6bae179bc87d4850cb713b741b8d0dfeeb1680e1b0614baec98d0\": {\n      \"keyid\": \"05ae2a92cca6bae179bc87d4850cb713b741b8d0dfeeb1680e1b0614baec98d0\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQW00QzMzekR3UDZnbXJaaDRSaC9yOFYwZEdpQWpSR0lqMjREOW9LUHpCR1k9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"94d9c4eff1c9295ffafb5d0b6903a3eb3a78c8e9f6c4b5b4d5a35da873f70255\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"94d9c4eff1c9295ffafb5d0b6903a3eb3a78c8e9f6c4b5b4d5a35da873f70255\": {\n      \"keyid\": \"94d9c4eff1c9295ffafb5d0b6903a3eb3a78c8e9f6c4b5b4d5a35da873f70255\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTdEQWJicjRTMU84LzB2ZlhnYlZ0TWM1S3hZQWVuam80d29NYzhpd0xRZEE9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"2b46bf8bbb1a2fa03755ada806dd3be9b4c5f9ef7d54afea7573b77a394f9a0d\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"2b46bf8bbb1a2fa03755ada806dd3be9b4c5f9ef7d54afea7573b77a394f9a0d\": {\n      \"keyid\": \"2b46bf8bbb1a2fa03755ada806dd3be9b4c5f9ef7d54afea7573b77a394f9a0d\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWtyeGtDUFJsdG5QWHlYamYxN21PTTNNQzhmS0Ric01OT280cXM3UnI1cVk9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"3e7e81cb82142fd958b7c3f3f13f1fb31bedb03eaef5333eaaed296d11eaf2d2\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"3e7e81cb82142fd958b7c3f3f13f1fb31bedb03eaef5333eaaed296d11eaf2d2\": {\n      \"keyid\": \"3e7e81cb82142fd958b7c3f3f13f1fb31bedb03eaef5333eaaed296d11eaf2d2\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXFBVXlta2RoSzJ2QzF4V1gwS3NVZ04ydDdQZHR4cTEybFNyTnFKM1hOeWM9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"889a7dea5cd2856c02a024efe9d72df7caa2dbc3055c16dcc8471282293091b6\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"889a7dea5cd2856c02a024efe9d72df7caa2dbc3055c16dcc8471282293091b6\": {\n      \"keyid\": \"889a7dea5cd2856c02a024efe9d72df7caa2dbc3055c16dcc8471282293091b6\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWpzcFpIa2J6a1Z0dldTaS9VSzVjMER6WDJNU3dyM1BKaWl1SE5ocDZkeW89Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"64f82c854bbc06d7d86db8678a79551f808b4668f5827e1d2adedbbdc7cb05ff\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"64f82c854bbc06d7d86db8678a79551f808b4668f5827e1d2adedbbdc7cb05ff\": {\n      \"keyid\": \"64f82c854bbc06d7d86db8678a79551f808b4668f5827e1d2adedbbdc7cb05ff\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTRIUzRVUTY4R2tyRXRHM0JubDhkVytabFJCUFlMcCtnNHFZMUZaY05FeUk9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"cb3284d88492047bc28105f70555a3ce0deab2f8914fff126a15a59db15badc5\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"cb3284d88492047bc28105f70555a3ce0deab2f8914fff126a15a59db15badc5\": {\n      \"keyid\": \"cb3284d88492047bc28105f70555a3ce0deab2f8914fff126a15a59db15badc5\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTZzKzAwc0toWkJmcWR5dWNLb3p0UWhTVmdGS1dnci9TanNySUFLZi85TUU9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"2650fbce0b9475bb061023ffe22237ec7ca9609b12d355bfb949aca0ea37fc47\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"2650fbce0b9475bb061023ffe22237ec7ca9609b12d355bfb949aca0ea37fc47\": {\n      \"keyid\": \"2650fbce0b9475bb061023ffe22237ec7ca9609b12d355bfb949aca0ea37fc47\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXUyZGdxYWVma3lCaFFhVXZoM1JxNk1ta295UUxSNWl4TXVlZStKTlBabGc9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"5db053fe761d347d8bac8f79e68e162aeba61a867403977fab985fbafbc89efc\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"5db053fe761d347d8bac8f79e68e162aeba61a867403977fab985fbafbc89efc\": {\n      \"keyid\": \"5db053fe761d347d8bac8f79e68e162aeba61a867403977fab985fbafbc89efc\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVE2bTJxSFpCNWxYeXovSzFHa3RZemR6YnJqWWRzcm9HUnpzNnhHRlJxZE09Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"4ad57844d73887d3005ebc5b2a073991bd7433a9fe63908510da00e928c1f3b1\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"4ad57844d73887d3005ebc5b2a073991bd7433a9fe63908510da00e928c1f3b1\": {\n      \"keyid\": \"4ad57844d73887d3005ebc5b2a073991bd7433a9fe63908510da00e928c1f3b1\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUt6Tm9PVVE3cGlGdjF0N3NiVG9URkc2UTZpQ1RBMzVncGhnZDJFMWgvN1E9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"b9d5d0da6525dc777047efb57330aeb262e2bedcd2baab3ff7d5c02a6ef02037\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"b9d5d0da6525dc777047efb57330aeb262e2bedcd2baab3ff7d5c02a6ef02037\": {\n      \"keyid\": \"b9d5d0da6525dc777047efb57330aeb262e2bedcd2baab3ff7d5c02a6ef02037\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXE1dmxtSEFUYThzQ1R3MHRGYTdxZlZjZU84N2cwL3ExeC9UaHNXdWZ2MlU9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"c31e4c833fd42194155b76bcc3db8d4440ab52322d454ce383a0dd706be26bfa\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"c31e4c833fd42194155b76bcc3db8d4440ab52322d454ce383a0dd706be26bfa\": {\n      \"keyid\": \"c31e4c833fd42194155b76bcc3db8d4440ab52322d454ce383a0dd706be26bfa\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQThFbllnOFZmbEVxWjUvOUFONGd4US92b3VUdi9zeVdENTZlSGNlcE42Wlk9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"270eda6ba265e706c8fa1d2958704d547cbc9ffb06daed77b8c5ce204c4172c4\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"270eda6ba265e706c8fa1d2958704d547cbc9ffb06daed77b8c5ce204c4172c4\": {\n      \"keyid\": \"270eda6ba265e706c8fa1d2958704d547cbc9ffb06daed77b8c5ce204c4172c4\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVVMWEhxNDErd3gzR1M0MFl3VDMyaFB2aVJEdVM4bVdJR3RSckFEY05uQmc9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"b19240ac637f77169fadd83259203039bca8b932c5c87b48f7282de721c11e08\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"b19240ac637f77169fadd83259203039bca8b932c5c87b48f7282de721c11e08\": {\n      \"keyid\": \"b19240ac637f77169fadd83259203039bca8b932c5c87b48f7282de721c11e08\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXludTFhSmkwc29pY0JPUXRCa1BzMkpRaUErZXQ5czJTV3VCSGFnUUJ0YWs9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"4fdf2ebf700c45736b201ac2dddc56ba99bafb4a9a75ec9c4586d3c59a8b733a\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"4fdf2ebf700c45736b201ac2dddc56ba99bafb4a9a75ec9c4586d3c59a8b733a\": {\n      \"keyid\": \"4fdf2ebf700c45736b201ac2dddc56ba99bafb4a9a75ec9c4586d3c59a8b733a\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXlRMVRuekZwQkpWa25tdkRWelFNUVdGalYxWVJXWUIxRnIySnI3NVZSMjQ9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"7c698959d2ac09d8d05e0a6edad2c646e24dd46426c8e5fdd584ef168340d041\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"7c698959d2ac09d8d05e0a6edad2c646e24dd46426c8e5fdd584ef168340d041\": {\n      \"keyid\": \"7c698959d2ac09d8d05e0a6edad2c646e24dd46426c8e5fdd584ef168340d041\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXpTREdORnkxczJxWXM3MFIvMDAwckR1SVpVcmxNMFo3NmcwN2FtM3pnWFE9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"1ffca576afd88ed63a0b8af9a8e4f26aed7fff50abb986910973c71dad643ad4\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"1ffca576afd88ed63a0b8af9a8e4f26aed7fff50abb986910973c71dad643ad4\": {\n      \"keyid\": \"1ffca576afd88ed63a0b8af9a8e4f26aed7fff50abb986910973c71dad643ad4\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTU4MmowSHFQbHpsQXlTQlZlVlBCQy9Cc2JNekZ4NVpUTlV0ZDVQczdZdUk9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"4bac92f2a7b2a22a844ed6662f16ec34e51564d4f63fdb23c0198d2269508486\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"4bac92f2a7b2a22a844ed6662f16ec34e51564d4f63fdb23c0198d2269508486\": {\n      \"keyid\": \"4bac92f2a7b2a22a844ed6662f16ec34e51564d4f63fdb23c0198d2269508486\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTlTWk81MEZUWkJJdEhVcVVuNVNiWjJSalh4UmtGcEhsV0s4bkszV1JaUVk9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"e0c26ad1d5cec7ad279870a7da325534d50d9155f88538970d8164272367b9e8\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"e0c26ad1d5cec7ad279870a7da325534d50d9155f88538970d8164272367b9e8\": {\n      \"keyid\": \"e0c26ad1d5cec7ad279870a7da325534d50d9155f88538970d8164272367b9e8\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUZTekVQdWRvdkduRDBDY1RQaHRxM3lKSURwMGlYTG1BLzg0RkJkTzFEK3M9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"d55f9749b66fedf58be92611207e9f00b9171aa1fb00b0c48cc69374bcdd3c5a\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"d55f9749b66fedf58be92611207e9f00b9171aa1fb00b0c48cc69374bcdd3c5a\": {\n      \"keyid\": \"d55f9749b66fedf58be92611207e9f00b9171aa1fb00b0c48cc69374bcdd3c5a\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUFQY3FRWG1YRWw3R2ZRQ1p3bVpNRnJjVnRvbHRkTHdQY1NzcmJKOGhXYm89Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"09a65f9f313b630766ddb0a0cf1dc00963a3c2c3396d4fc06eabba4b14432bff\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"09a65f9f313b630766ddb0a0cf1dc00963a3c2c3396d4fc06eabba4b14432bff\": {\n      \"keyid\": \"09a65f9f313b630766ddb0a0cf1dc00963a3c2c3396d4fc06eabba4b14432bff\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVA3UHV1VFNoUnZJWWlycnUyaG1nMlNrZ0Q2WW9LblNqc1Q4R2puaytxTGs9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"13a62e9b059d82247fa80e5528923a68eab9b840ffb688e5b474b196874ba0bb\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"13a62e9b059d82247fa80e5528923a68eab9b840ffb688e5b474b196874ba0bb\": {\n      \"keyid\": \"13a62e9b059d82247fa80e5528923a68eab9b840ffb688e5b474b196874ba0bb\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXNSSTBob3hCamlxTU5Od1pNN0taYy9tckRIeFJ0SWRDdE5sQ2pYUnh4VTQ9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"94f0acf296cfcdf3cd2133a901123cddecbc7812bddd619363bded840a4e8137\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"94f0acf296cfcdf3cd2133a901123cddecbc7812bddd619363bded840a4e8137\": {\n      \"keyid\": \"94f0acf296cfcdf3cd2133a901123cddecbc7812bddd619363bded840a4e8137\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQThRYVhLMzZuSDljckdBdVZnOC9xWHNKdDdneTE5dWVna2RFNDB4RzZpOEE9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"b940e1e05ca2befb560448cd3053fedb0d628430da75e1dc29c38dd81566affc\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"b940e1e05ca2befb560448cd3053fedb0d628430da75e1dc29c38dd81566affc\": {\n      \"keyid\": \"b940e1e05ca2befb560448cd3053fedb0d628430da75e1dc29c38dd81566affc\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTd4ZDN0ZHJtd0Iwa0dldTQrNEMxSWRRL0xLVTdmcjViZ0NZZFcxS1ZwMlU9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"af730a3c439d7d6a95d9cf9b3e8a9f7e490599017922e0b3eefead394275d62a\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"af730a3c439d7d6a95d9cf9b3e8a9f7e490599017922e0b3eefead394275d62a\": {\n      \"keyid\": \"af730a3c439d7d6a95d9cf9b3e8a9f7e490599017922e0b3eefead394275d62a\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTJIeE9PaVhNZ2lCMUQ2c1I0ZU9PeXRlVHppekRONDlubnhjQlB2QkowYlE9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"47669ca56d20638e8d090a58652c95d79af92222db06b1615d470c727098d0c0\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"47669ca56d20638e8d090a58652c95d79af92222db06b1615d470c727098d0c0\": {\n      \"keyid\": \"47669ca56d20638e8d090a58652c95d79af92222db06b1615d470c727098d0c0\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXB6YlFlUlVMRmxtYlRCMVgwZ0drQzI5Y291Z3dOYVJGSk9tY3plWXQyVE09Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"8a37344328c27ff6dc376bc7b16bc1ed5d65d9dd2cd9f7e38231fc7d5acf87f4\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"8a37344328c27ff6dc376bc7b16bc1ed5d65d9dd2cd9f7e38231fc7d5acf87f4\": {\n      \"keyid\": \"8a37344328c27ff6dc376bc7b16bc1ed5d65d9dd2cd9f7e38231fc7d5acf87f4\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUg0UjVReDlWTjJEVGVGR05qSDdxbG44aHVENXRDc0hGL2ExcmxxSDYvMEk9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"f7ce65aa9f73f2364a753b581f5018fdc601b4c502b77ac58182864550ba5245\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"f7ce65aa9f73f2364a753b581f5018fdc601b4c502b77ac58182864550ba5245\": {\n      \"keyid\": \"f7ce65aa9f73f2364a753b581f5018fdc601b4c502b77ac58182864550ba5245\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQU9SQUplRmxnNEFmeHAycEJQRmxTRGE3TXdWMC9OM3dZemc3Zzl0Uk5Ubk09Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"dced67bd9a76becc1eace1a2e8d442c8e325f1b4f55f5831fe7344931db11a75\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"dced67bd9a76becc1eace1a2e8d442c8e325f1b4f55f5831fe7344931db11a75\": {\n      \"keyid\": \"dced67bd9a76becc1eace1a2e8d442c8e325f1b4f55f5831fe7344931db11a75\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTlFUGpVaGtOb0c2MVZlOXRISGlldXg0ZWJNZTU4cENVakZHVWlqK1JIU3c9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"fc93b0a316ae35da1de024abbfd54116ea1a764a4e57fc2c331946f633b76238\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"fc93b0a316ae35da1de024abbfd54116ea1a764a4e57fc2c331946f633b76238\": {\n      \"keyid\": \"fc93b0a316ae35da1de024abbfd54116ea1a764a4e57fc2c331946f633b76238\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVRKUFhDMzlCK2RmVUZyMTZvbWFKcDRQQmNUcUh1SEliZGd3VUpRT0tHVUU9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"0bd49678af3af53f747df83c754455741e0b9880dd52c671062230aafca187e4\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"0bd49678af3af53f747df83c754455741e0b9880dd52c671062230aafca187e4\": {\n      \"keyid\": \"0bd49678af3af53f747df83c754455741e0b9880dd52c671062230aafca187e4\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTNOYWl1aytNdVBCdjg0dmlKZ1FIcDk1eWlYOE1vNThCMEtrWU9uaGN5ZzA9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"1c5b77049ee977d2d4e35c2033889db4eb1e1b844f48e4cd8f39e5ad43a77350\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"1c5b77049ee977d2d4e35c2033889db4eb1e1b844f48e4cd8f39e5ad43a77350\": {\n      \"keyid\": \"1c5b77049ee977d2d4e35c2033889db4eb1e1b844f48e4cd8f39e5ad43a77350\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUUwM1VlZnJ1eW1CRE1NR2JQcExPeFRZZEVJZkxlaFVhUm5XZm9uc0ppTVE9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"21e3dd298754bb46d5125a53354c182d22be9fdc8ac5759e2aa7a9c6539b7634\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"21e3dd298754bb46d5125a53354c182d22be9fdc8ac5759e2aa7a9c6539b7634\": {\n      \"keyid\": \"21e3dd298754bb46d5125a53354c182d22be9fdc8ac5759e2aa7a9c6539b7634\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWx3cWJUUDJ3MHpzYWxreVdhWnpuWEY2dHBzekFuVWN2VmgvdThGWS9KU009Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"8297ff1b9d35c18850a45cca20e38e78bc4f8920ba9443f1a25e60a73c9e6981\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"8297ff1b9d35c18850a45cca20e38e78bc4f8920ba9443f1a25e60a73c9e6981\": {\n      \"keyid\": \"8297ff1b9d35c18850a45cca20e38e78bc4f8920ba9443f1a25e60a73c9e6981\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWRsMzZ2NWVRRTBCSE9tQWo3dDY3MHcxZnEyeHhjTGo1Y1U0TjlPdFFUWWc9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"9761a936c90cf40224f3caf7e54a8cbbeb0a0d5b15a182f3cde706ce3082f524\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"9761a936c90cf40224f3caf7e54a8cbbeb0a0d5b15a182f3cde706ce3082f524\": {\n      \"keyid\": \"9761a936c90cf40224f3caf7e54a8cbbeb0a0d5b15a182f3cde706ce3082f524\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUk4Z3VqbjAvczkvcWNrMTZVakNxVXJnUng5eEdGUWxIVUdJNFpXSi82Nmc9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"65c9da0495579e7b86a0a3c2784ca337db24833a218ede5af635c8ecbbde0beb\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"65c9da0495579e7b86a0a3c2784ca337db24833a218ede5af635c8ecbbde0beb\": {\n      \"keyid\": \"65c9da0495579e7b86a0a3c2784ca337db24833a218ede5af635c8ecbbde0beb\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXVscjlvUmkyUVhSa09DeC95b3J0VGsvMFdnb0M1T3Z5SUN4SGcwbHowcDQ9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"0c010a19b0638357c95a71b14e650cafdd607233c4fd2a97b55166e00c980bf1\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"0c010a19b0638357c95a71b14e650cafdd607233c4fd2a97b55166e00c980bf1\": {\n      \"keyid\": \"0c010a19b0638357c95a71b14e650cafdd607233c4fd2a97b55166e00c980bf1\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQW11Q3ZVR2lERTBkUkxoZ3NoL00zOE9IMk05eER5S2lEbmc4UVlvVHUxelU9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"b00eae29628fbc51a2275d9264034b31afd62e037bd31336eb4d2a57571880a4\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"b00eae29628fbc51a2275d9264034b31afd62e037bd31336eb4d2a57571880a4\": {\n      \"keyid\": \"b00eae29628fbc51a2275d9264034b31afd62e037bd31336eb4d2a57571880a4\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWVpTEFpTGVPdXRKc0RBVHBRSmhGUmpWVGhXaVlEZ0FSeHlPTWw0dXNicEE9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"c4f22f9af92affdb1383c25c22142ea9adb1b43021fcb6a3147142592274017c\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"c4f22f9af92affdb1383c25c22142ea9adb1b43021fcb6a3147142592274017c\": {\n      \"keyid\": \"c4f22f9af92affdb1383c25c22142ea9adb1b43021fcb6a3147142592274017c\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUdRRkppa1BtVDVwZHJXa1NNWU9DZ1JaYXVRQW12cHBDdElsMzVUOGtXNmM9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"8cf442e9f5c651846e8540e02608569c9fbf65348063966e41aca945922948db\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"8cf442e9f5c651846e8540e02608569c9fbf65348063966e41aca945922948db\": {\n      \"keyid\": \"8cf442e9f5c651846e8540e02608569c9fbf65348063966e41aca945922948db\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWNXQXo2bWFFb1FOamFWT1lWd1hSZ1NSMHZhZDZxS0FlRmZpa1NWTXVtekE9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"f42cdc37a9356204e05c32abdf1ede45cb7e0a3f613c3868c3116c9e09771d0e\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"f42cdc37a9356204e05c32abdf1ede45cb7e0a3f613c3868c3116c9e09771d0e\": {\n      \"keyid\": \"f42cdc37a9356204e05c32abdf1ede45cb7e0a3f613c3868c3116c9e09771d0e\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUE4R1RxQ0kralR1SzNWZzFJRlV6K3hEZzFzM2djR2ltNTZFWUxrL3ArUVk9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"6d3f183fe18442f82dff0c509c08d7efc3f5d8b7a762aa3e1085d0226bca336a\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"6d3f183fe18442f82dff0c509c08d7efc3f5d8b7a762aa3e1085d0226bca336a\": {\n      \"keyid\": \"6d3f183fe18442f82dff0c509c08d7efc3f5d8b7a762aa3e1085d0226bca336a\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVRkWk51c2lnNUdEWVhLZEx3Tyt6TVloVWNlNjFRTU5kUCtVVFkyYllPUkE9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"cf54be79522dd46fa5603528fca562c56348e2097d67c28be0b16a041254dd7c\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"cf54be79522dd46fa5603528fca562c56348e2097d67c28be0b16a041254dd7c\": {\n      \"keyid\": \"cf54be79522dd46fa5603528fca562c56348e2097d67c28be0b16a041254dd7c\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUpZVXhTRFlsMVlMVHNSeUV0Q2s1eHJNV2dqcDhpM3VNL1dZRkcvbS9lL0k9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"4b55e0186c0d61251e82379058956ffba7b48c4d43695893c75a381bbbe0c021\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"4b55e0186c0d61251e82379058956ffba7b48c4d43695893c75a381bbbe0c021\": {\n      \"keyid\": \"4b55e0186c0d61251e82379058956ffba7b48c4d43695893c75a381bbbe0c021\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQThqN3dWVURzMERPSWdrM3IrdnJ0NmlZWXNxVEZlQ0xReHJENElXU2psZW89Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"b173e4dff6fea8b5bb8906c083c9d8cf86122720f34087c4c810bb5d71625d60\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"b173e4dff6fea8b5bb8906c083c9d8cf86122720f34087c4c810bb5d71625d60\": {\n      \"keyid\": \"b173e4dff6fea8b5bb8906c083c9d8cf86122720f34087c4c810bb5d71625d60\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTU1anRwdGZpSGkySjNXOXdsdFZ4Y2ZsYjFMUmRhVmtJVzBUNmJCMUFzU0E9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"aa5d41d2079f4d58e50ed5248320398ef0903566033876f4dfe1b1993116a682\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"aa5d41d2079f4d58e50ed5248320398ef0903566033876f4dfe1b1993116a682\": {\n      \"keyid\": \"aa5d41d2079f4d58e50ed5248320398ef0903566033876f4dfe1b1993116a682\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUlHVFBkMUxWcTgyd0daUEhFSVZiNnU2VEVnbjc4TUtTT3BEVXltRDJQMHM9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"7c20cd1f3552fbf2807860e1a80852bc51462259a2f37ba14c3c484fc57e4308\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"7c20cd1f3552fbf2807860e1a80852bc51462259a2f37ba14c3c484fc57e4308\": {\n      \"keyid\": \"7c20cd1f3552fbf2807860e1a80852bc51462259a2f37ba14c3c484fc57e4308\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVVwZCsyU1JJaW9CWGxTTVlybGZGL2FyRCtuQ3hxblV3WHVCVm15U3JmUk09Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"29872fa6535a11edde873f5aec49c70eb9a21a3b914cdb16c775d8fd43868088\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"29872fa6535a11edde873f5aec49c70eb9a21a3b914cdb16c775d8fd43868088\": {\n      \"keyid\": \"29872fa6535a11edde873f5aec49c70eb9a21a3b914cdb16c775d8fd43868088\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXBRemFZNGxMeXdUMG5TbU5jZFl3ekdJejFVWkhNNktGQkJ0dzdaN3dVRTA9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"75ab9693b56bbc1af138c772a16a9fc214328a6facfaa220330b55cbc3d3ab63\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"75ab9693b56bbc1af138c772a16a9fc214328a6facfaa220330b55cbc3d3ab63\": {\n      \"keyid\": \"75ab9693b56bbc1af138c772a16a9fc214328a6facfaa220330b55cbc3d3ab63\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWF6aDVBMWdqTm5oaEI4Y0cxU2lBdkc0dUhkdFpQRlR4aE1SelpxQThPWU09Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"53c5a0e695bdd2e1a4bb84ac173f4ff84b0cdd32d9c58bef35cff01d0b20aede\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"53c5a0e695bdd2e1a4bb84ac173f4ff84b0cdd32d9c58bef35cff01d0b20aede\": {\n      \"keyid\": \"53c5a0e695bdd2e1a4bb84ac173f4ff84b0cdd32d9c58bef35cff01d0b20aede\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVFsVGNrZDlBVkpWdDRRcHBEM2FRL1BmQklqc2VQZk9UejlmZGpNTTVpU3M9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"1c4548da5b1d4789ce293a8af439d3ff7318b0e8b955e43acac883bc2a034504\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"1c4548da5b1d4789ce293a8af439d3ff7318b0e8b955e43acac883bc2a034504\": {\n      \"keyid\": \"1c4548da5b1d4789ce293a8af439d3ff7318b0e8b955e43acac883bc2a034504\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTNRUlBkWWtLZXMvcXlNdVhyZnZ5SXVLTjQ0YTNXa0U1Q2R3aHoyMmhneE09Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"0cd8e573b555547b23a3ab32b4d27dc3006dd7849f8c7d438289fcbc05dc619b\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"0cd8e573b555547b23a3ab32b4d27dc3006dd7849f8c7d438289fcbc05dc619b\": {\n      \"keyid\": \"0cd8e573b555547b23a3ab32b4d27dc3006dd7849f8c7d438289fcbc05dc619b\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWxNaVlES3VUV3dzRGRLMmNxbDhSOGRpR3dRby83SC9ucW1ydFdRU2I0d0E9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"5ebc000f8353a790ab4669b1cd623023e35abc750f4a411ecc2d7c3a3c487011\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"5ebc000f8353a790ab4669b1cd623023e35abc750f4a411ecc2d7c3a3c487011\": {\n      \"keyid\": \"5ebc000f8353a790ab4669b1cd623023e35abc750f4a411ecc2d7c3a3c487011\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTh5c044a3BZS1pIZDNlUmxLR21FbjZCWUZOak8xVkx1TjRWYVJNcURqbnc9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"fac3b6b896bfa23a4fb9d28487899bfc032d4332987edd9a7ee7bb16198fed77\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"fac3b6b896bfa23a4fb9d28487899bfc032d4332987edd9a7ee7bb16198fed77\": {\n      \"keyid\": \"fac3b6b896bfa23a4fb9d28487899bfc032d4332987edd9a7ee7bb16198fed77\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWVEYm9Rd2VJQTYrRUJHRVBUR2FDdE1TTTR3aWNXaEdkZFJ0MkIyQWpiNnc9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"7c07348b7d25ae62ca779e2d51c95bb3f09ac04948daaf92c785fe2d8c13918c\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"7c07348b7d25ae62ca779e2d51c95bb3f09ac04948daaf92c785fe2d8c13918c\": {\n      \"keyid\": \"7c07348b7d25ae62ca779e2d51c95bb3f09ac04948daaf92c785fe2d8c13918c\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXp4dk52QU01Mm5VZGJyZHg0VFNWYktUaDdlOGd1RE9DRDlsSW9xSDRxbEU9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"6754002d0991a1b66f88165b6eb5b98027dbededa7c2a77fb02ed4f8c9dd8369\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"6754002d0991a1b66f88165b6eb5b98027dbededa7c2a77fb02ed4f8c9dd8369\": {\n      \"keyid\": \"6754002d0991a1b66f88165b6eb5b98027dbededa7c2a77fb02ed4f8c9dd8369\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWRuM2RkQU5ESGdsVFVVWVBTYk5acU1xaU8zUTFxQmQ5MWtnRGZnSm15Q0k9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"df9def10f694fc0e0b1f49a4ebe535f8268e1f8ac6883c9e8134ca3d41a1a49e\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"df9def10f694fc0e0b1f49a4ebe535f8268e1f8ac6883c9e8134ca3d41a1a49e\": {\n      \"keyid\": \"df9def10f694fc0e0b1f49a4ebe535f8268e1f8ac6883c9e8134ca3d41a1a49e\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVVZODhGYUNGcFdYcC9OcHVuc0dvVVNLM3ZRaHc1TWc2RWRaelZ4SDVsNjQ9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"d9072611675bda1322b61b8424210d848ec9be5be8cebcf0807a56cb83a03fca\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"d9072611675bda1322b61b8424210d848ec9be5be8cebcf0807a56cb83a03fca\": {\n      \"keyid\": \"d9072611675bda1322b61b8424210d848ec9be5be8cebcf0807a56cb83a03fca\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUpsdklNSSs5OFd4QUovaTFmdEI3NHhrR2gyTXM2ZFJSM3VROFd1T1J6L2M9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"a96c02706d9881ad362cf828a0b648b5066a1cd5c355bcba05936394e930a6f9\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"a96c02706d9881ad362cf828a0b648b5066a1cd5c355bcba05936394e930a6f9\": {\n      \"keyid\": \"a96c02706d9881ad362cf828a0b648b5066a1cd5c355bcba05936394e930a6f9\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUNHcE1aZVAwYlk0T2hpa1gzWUNKanZDOWU3RXh0ODE1NDlsWjU0QzdUYUE9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"4c3b3306a9f4202103106af1b6522db373c9f0c4c70986725489d8302c58a4ad\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"4c3b3306a9f4202103106af1b6522db373c9f0c4c70986725489d8302c58a4ad\": {\n      \"keyid\": \"4c3b3306a9f4202103106af1b6522db373c9f0c4c70986725489d8302c58a4ad\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQW5XZEt3QlYrRGp4VFRSM0wrZDNyUmJWdHBuSVhaWlVLdUhYWW9YUEhPTEk9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"d8a9f173423c3b58d3e96234bf4f0fae7c8e7942c158288390672bff3cbbdc36\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"d8a9f173423c3b58d3e96234bf4f0fae7c8e7942c158288390672bff3cbbdc36\": {\n      \"keyid\": \"d8a9f173423c3b58d3e96234bf4f0fae7c8e7942c158288390672bff3cbbdc36\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUF1aEl6QmFSUkNOcFVKWG85NlZTT3VQdW5oeVcyU3JhdEtXblM0OGZqeVU9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"63014b84bd036a4c516f9804de2dd386c44dec9034d998c24d0a94bb7c5a8118\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"63014b84bd036a4c516f9804de2dd386c44dec9034d998c24d0a94bb7c5a8118\": {\n      \"keyid\": \"63014b84bd036a4c516f9804de2dd386c44dec9034d998c24d0a94bb7c5a8118\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXk5U2ZZNGt5enZtY1dNTUdUQ3RSUWh6czVCTTZ5eEU1N2Nna3FMWXp6c009Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"10b10c0f6daaa4b4443aa611157351210313d7f06aa406a0bc62045bbd8cb4df\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"10b10c0f6daaa4b4443aa611157351210313d7f06aa406a0bc62045bbd8cb4df\": {\n      \"keyid\": \"10b10c0f6daaa4b4443aa611157351210313d7f06aa406a0bc62045bbd8cb4df\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQS9nbTd4dFpHdG1IQXNnYmFHNlhwclJMSnc5a3F1djY1TGlVdEU1UUNHUjQ9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"628e4005b8e2a591e29fd00c08f05ab6ed60aa7383c4e2f07c335d31839ee19c\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"628e4005b8e2a591e29fd00c08f05ab6ed60aa7383c4e2f07c335d31839ee19c\": {\n      \"keyid\": \"628e4005b8e2a591e29fd00c08f05ab6ed60aa7383c4e2f07c335d31839ee19c\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWtjMDR4eWw2bUtIWUtocE1YR2s0QUJaR1MzUTY5Qzd0V28wd0p1b1VGZ1U9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"104b1305532ea10ce3d43cc4ca9a9a1aed6047ac1970da1ba3c8392c39b358ca\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"104b1305532ea10ce3d43cc4ca9a9a1aed6047ac1970da1ba3c8392c39b358ca\": {\n      \"keyid\": \"104b1305532ea10ce3d43cc4ca9a9a1aed6047ac1970da1ba3c8392c39b358ca\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUZhWmdkOTdqSHdDaUgzVTJnOVRHUjdMWmVUZGJNL2I0YU5aUkt1Q2tyZU09Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"959adb2fc09f3d48cfb5c03106345a01feae1ccb246ca12a53fef0fc3477cbd6\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"959adb2fc09f3d48cfb5c03106345a01feae1ccb246ca12a53fef0fc3477cbd6\": {\n      \"keyid\": \"959adb2fc09f3d48cfb5c03106345a01feae1ccb246ca12a53fef0fc3477cbd6\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUF1MXMxa0xNSWw4SWNCZUtQSWFld2ErcWl6dXIveFZvd2VxbVJYaUZHTEE9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"3d236ad9d5577e11e6a20b43e07d7d88cabdc590ff4e9ed164b9c330227e54e5\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"3d236ad9d5577e11e6a20b43e07d7d88cabdc590ff4e9ed164b9c330227e54e5\": {\n      \"keyid\": \"3d236ad9d5577e11e6a20b43e07d7d88cabdc590ff4e9ed164b9c330227e54e5\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWxwOG5NTGExWDVwdU9zVHhFbU53MHhGcVlycVR4Mmx1a3NWQmhMem9PODQ9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"1dc0f46e441424dce578d12924eea9bd4984048ad15c0794df765eae2bc54f59\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"1dc0f46e441424dce578d12924eea9bd4984048ad15c0794df765eae2bc54f59\": {\n      \"keyid\": \"1dc0f46e441424dce578d12924eea9bd4984048ad15c0794df765eae2bc54f59\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWFRUzdGUDVTWE5GVHI5Yndtc0gyY2RKd2ViNXU5TGpSR2NrUlB1YWNEaGs9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"e510bdf980370e432d0331297ff0aa2c361a2931f3adf83b7c05995040f22cbb\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"e510bdf980370e432d0331297ff0aa2c361a2931f3adf83b7c05995040f22cbb\": {\n      \"keyid\": \"e510bdf980370e432d0331297ff0aa2c361a2931f3adf83b7c05995040f22cbb\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUdaVzR5SEZzeExYcU1SS2lNRHpwNGV3akdISGxUTmlRd21aQzViS05XM0k9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"e24dad3eb7cf409618d83759fcb0e0bf6ba7551c09164d951a5b61ceaa96377c\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"e24dad3eb7cf409618d83759fcb0e0bf6ba7551c09164d951a5b61ceaa96377c\": {\n      \"keyid\": \"e24dad3eb7cf409618d83759fcb0e0bf6ba7551c09164d951a5b61ceaa96377c\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTgrOGllSSttSGc5UlFWbUxxb1VTcXFjZ3FSOFVJNkQ2VkJCNTNDa2ZESHM9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"2caa0a500f51af4cb7cac185b82ee11ae232bc094a7dd3a25c58a8a0fab36376\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"2caa0a500f51af4cb7cac185b82ee11ae232bc094a7dd3a25c58a8a0fab36376\": {\n      \"keyid\": \"2caa0a500f51af4cb7cac185b82ee11ae232bc094a7dd3a25c58a8a0fab36376\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQURtalR5U1p0anQzOTJOblNLaG5VTnc2KzduV1JUN082MTBlcHl6ZDYxMzA9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"a3f3688e81cfbafe0eb393773e0c7612e6d68f83296f8dad0b0222537b1b74e6\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"a3f3688e81cfbafe0eb393773e0c7612e6d68f83296f8dad0b0222537b1b74e6\": {\n      \"keyid\": \"a3f3688e81cfbafe0eb393773e0c7612e6d68f83296f8dad0b0222537b1b74e6\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWJrMFhRWkp5YTIrNDBwTHVDemtPN25hSnVvbzQrSDQyT3E2SEJrZDJ3SmM9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"b7eadb9d53e3db92d57f6b3b1bd1ece9c4abadf2b8920271119a1ad0d346b7ed\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"b7eadb9d53e3db92d57f6b3b1bd1ece9c4abadf2b8920271119a1ad0d346b7ed\": {\n      \"keyid\": \"b7eadb9d53e3db92d57f6b3b1bd1ece9c4abadf2b8920271119a1ad0d346b7ed\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVh2eStOd0pxMEEwVDJVeldYUzZCQVZHeHB6akdZcE81VGdXTDVybjFMdFU9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"a7f0fcb8f9c910a36c64d7c9fb73d6dd766d7817990b10e2b859bb4c6dafa409\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"a7f0fcb8f9c910a36c64d7c9fb73d6dd766d7817990b10e2b859bb4c6dafa409\": {\n      \"keyid\": \"a7f0fcb8f9c910a36c64d7c9fb73d6dd766d7817990b10e2b859bb4c6dafa409\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVh4bTQrYUJXNEFOQ2dUcHVFV0pRV1pJK0l2MjJXc0NsQ0hJZWtUejd5bTg9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"753a938effb60b61b25d38ae3dc5fedbd87521bc5f6f1e91f0474bc03d4fc47c\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"753a938effb60b61b25d38ae3dc5fedbd87521bc5f6f1e91f0474bc03d4fc47c\": {\n      \"keyid\": \"753a938effb60b61b25d38ae3dc5fedbd87521bc5f6f1e91f0474bc03d4fc47c\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUNaTk9mMThBU2I2aGdaQnZ5K05WWmhLVGtEYUY0Y0RsdWdWS2pxOVhyaUE9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"c0c385cc4a063de4bf52048aaa839b5791e94fe3a9e148b5325e9d97918b0da7\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"c0c385cc4a063de4bf52048aaa839b5791e94fe3a9e148b5325e9d97918b0da7\": {\n      \"keyid\": \"c0c385cc4a063de4bf52048aaa839b5791e94fe3a9e148b5325e9d97918b0da7\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQUxLYmpVSFF6SERndHNlRXMyRmF2OXI5bkFFcGtFSFRTYWJIc3VnVG5ZZjQ9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"c31f41ffa38a4b2555d0380ded75b11e2c497b320af020c52480803f4948aef5\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"c31f41ffa38a4b2555d0380ded75b11e2c497b320af020c52480803f4948aef5\": {\n      \"keyid\": \"c31f41ffa38a4b2555d0380ded75b11e2c497b320af020c52480803f4948aef5\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVMvbHYwNDluMXRkK3plYTVZVVVwc2RrR3BLKzEvVmtCK21WdXdxVVBtNlk9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"ba93912b8db8104b90232bac59104622705bb57ac045c1a482da83ffe9311d80\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"ba93912b8db8104b90232bac59104622705bb57ac045c1a482da83ffe9311d80\": {\n      \"keyid\": \"ba93912b8db8104b90232bac59104622705bb57ac045c1a482da83ffe9311d80\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVZVM3FJQWZZMXlTL2gxOHl2TVlLbDJNbWpRZzE0Z1ozdVJ0MUlHck1hYVk9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"1e5c2e3b4b9c231f384dd333c25a98cb7572211af01a68343be89eeff67b27c2\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"1e5c2e3b4b9c231f384dd333c25a98cb7572211af01a68343be89eeff67b27c2\": {\n      \"keyid\": \"1e5c2e3b4b9c231f384dd333c25a98cb7572211af01a68343be89eeff67b27c2\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWFiSEFJQ0JodWllY3BnSWl3elk5UVljYzVLY0lKVXAzbkhGUzd2eVpYR0U9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"4869032a3e90edfc084ef42dbab136bc6d6c83fc4995f3c218bfe044c88dc614\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"4869032a3e90edfc084ef42dbab136bc6d6c83fc4995f3c218bfe044c88dc614\": {\n      \"keyid\": \"4869032a3e90edfc084ef42dbab136bc6d6c83fc4995f3c218bfe044c88dc614\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTYvaUJRdmNCcjNLTFlpVmNSSjBhZG83VC82QXVYYUM2aGJHMGtLd2o4OG89Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"cb97238e0d63a80e3fbe0dd3f6932ef2ba88bb4f3e272c63360d6ac7cdd8103a\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"cb97238e0d63a80e3fbe0dd3f6932ef2ba88bb4f3e272c63360d6ac7cdd8103a\": {\n      \"keyid\": \"cb97238e0d63a80e3fbe0dd3f6932ef2ba88bb4f3e272c63360d6ac7cdd8103a\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQS9ncGV1YVpCUUkyZGJJZTZhTGtUYTZuZzRnTXZmcHZmMTRqYXVHVkRLL1E9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"7d569cb7948ad52a6603ffe85f0e5439fa6d5d848ca5224d6eebcf696aac60b7\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"7d569cb7948ad52a6603ffe85f0e5439fa6d5d848ca5224d6eebcf696aac60b7\": {\n      \"keyid\": \"7d569cb7948ad52a6603ffe85f0e5439fa6d5d848ca5224d6eebcf696aac60b7\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQU9JaFNOOXY0eXBWa1N6bk1pdDJERk5pVHc5VHQvZ3dYeXVPaEdRbFdkbms9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"f47edac4465de621be2f6483d6edeaa638f7e824e68f3f599e61df2e6068fc30\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"f47edac4465de621be2f6483d6edeaa638f7e824e68f3f599e61df2e6068fc30\": {\n      \"keyid\": \"f47edac4465de621be2f6483d6edeaa638f7e824e68f3f599e61df2e6068fc30\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTJUS2JoUTlmQ1hROXR5WXI2Ukx4VU1Mc3FnSTNPdFR0N2NTZytVTG5PaTg9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"29e72e92ade339ba4274446530b301f242dedd84233affe2c88e3751c1190b03\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"29e72e92ade339ba4274446530b301f242dedd84233affe2c88e3751c1190b03\": {\n      \"keyid\": \"29e72e92ade339ba4274446530b301f242dedd84233affe2c88e3751c1190b03\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTlUaXh0cVB2M2paUm1Ra25SZEh4ZVlTQVBIVnNwcUZIQkx6cW14YzBXcjA9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"d9992752db8a7ed279a855ebc7ade0345f3f20042a48b7cb9745b29ad4a4809a\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"d9992752db8a7ed279a855ebc7ade0345f3f20042a48b7cb9745b29ad4a4809a\": {\n      \"keyid\": \"d9992752db8a7ed279a855ebc7ade0345f3f20042a48b7cb9745b29ad4a4809a\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTlGNnFSYmdTdjdtbkJ5UzV4djlzcllRTGxRNE92SWJwSXlvTXlqcXRZNjA9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"f60219657cb577ebaed0492fc677a4537bc1d1e37232b8263723da5bfd6af141\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"f60219657cb577ebaed0492fc677a4537bc1d1e37232b8263723da5bfd6af141\": {\n      \"keyid\": \"f60219657cb577ebaed0492fc677a4537bc1d1e37232b8263723da5bfd6af141\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXpMUGFnL3R2ay9nVU4xOHAxVXFiU3ZqNmhKQThWbnlJRmhWVFBFVUhMV1E9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"d7c5828f0eabbb33b463066e063f62f32d024535568858595cfec7e416a75ea3\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"d7c5828f0eabbb33b463066e063f62f32d024535568858595cfec7e416a75ea3\": {\n      \"keyid\": \"d7c5828f0eabbb33b463066e063f62f32d024535568858595cfec7e416a75ea3\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTFKMm41K25PMHA0bzlLVENqaDFZNUNITG5lVVhXR1lFSGJlbTY0eUJpaTA9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"858700245dce4dd2605d7ff01880af28f421cfe175824183ccfec28774f8bac0\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"858700245dce4dd2605d7ff01880af28f421cfe175824183ccfec28774f8bac0\": {\n      \"keyid\": \"858700245dce4dd2605d7ff01880af28f421cfe175824183ccfec28774f8bac0\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVF5bFRySjQ1YjhseXFwYnRMM1pOODNQSkcwMVNtWThLZzdtdWxyYkVzMEE9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"a6f123ff158ab3081d7f642d868a938fe841578dc53c2cefcd68606ed8867633\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"a6f123ff158ab3081d7f642d868a938fe841578dc53c2cefcd68606ed8867633\": {\n      \"keyid\": \"a6f123ff158ab3081d7f642d868a938fe841578dc53c2cefcd68606ed8867633\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQVNKaEJXeXNxR0pVZzMwMkdSa3ZUMWhKc1VnOThjcmhCbEdCNUZtTkNIMjg9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"57b59d47b0a8252cd156163cf6d7fa1c3c37f4e77c572d0498cbcd09145a49f0\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"57b59d47b0a8252cd156163cf6d7fa1c3c37f4e77c572d0498cbcd09145a49f0\": {\n      \"keyid\": \"57b59d47b0a8252cd156163cf6d7fa1c3c37f4e77c572d0498cbcd09145a49f0\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXp3LzhpSEtTeHlZeHlqbGQxRWFEV2JvcDdNbDkwcklveXIzTnI0cytMY2s9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"722406e5a6216bf4067790b91e33a2852a5ec1e0d3324e111b445eed244f2119\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"722406e5a6216bf4067790b91e33a2852a5ec1e0d3324e111b445eed244f2119\": {\n      \"keyid\": \"722406e5a6216bf4067790b91e33a2852a5ec1e0d3324e111b445eed244f2119\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWFYaVhqMnN3VUpOczFPejhNVFlzRzVFeTBtTTlRb3Qxbndkby9hNUM5ZFE9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"36f90dadf484152c57f93f5abe12e0cbfba827416c2be3665249eb77b2b0b89f\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"36f90dadf484152c57f93f5abe12e0cbfba827416c2be3665249eb77b2b0b89f\": {\n      \"keyid\": \"36f90dadf484152c57f93f5abe12e0cbfba827416c2be3665249eb77b2b0b89f\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTRCendkMlgwTEpRTmlNMk5sR3VsMWgrMUZRTS9MWXR0aDFLNnZnU0RUSkU9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"f38be91520442dc70c854fc6ecd3ff1afec085f22b8df906bb06f49e52e9bb7e\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"f38be91520442dc70c854fc6ecd3ff1afec085f22b8df906bb06f49e52e9bb7e\": {\n      \"keyid\": \"f38be91520442dc70c854fc6ecd3ff1afec085f22b8df906bb06f49e52e9bb7e\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQU1oeDNPbnBGaXk2L21vK3JMQS82YTRGc0hUOWhTbXc5YUluNnhRNU9Oa289Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"2035677b3147e2b0ce0862c0b487aa448d7e75dcf48b22224891c63654ed8e3c\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"2035677b3147e2b0ce0862c0b487aa448d7e75dcf48b22224891c63654ed8e3c\": {\n      \"keyid\": \"2035677b3147e2b0ce0862c0b487aa448d7e75dcf48b22224891c63654ed8e3c\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWNRalk0R3VsalpnK2oyZXRnanpRTE5HRTY1NkJkS3p5WVlBbi9CTGI2ZzA9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"6c4e5fd30d42f6954146e4ac77805a7b51ec34948078b52ed664a6303a73e78d\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"6c4e5fd30d42f6954146e4ac77805a7b51ec34948078b52ed664a6303a73e78d\": {\n      \"keyid\": \"6c4e5fd30d42f6954146e4ac77805a7b51ec34948078b52ed664a6303a73e78d\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWVaSnlyWm1HWXExMGI0TzRsVjZUUGdMUmVsbWk2TklucjBrVUxKZHpPTU09Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with git, environment, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Setup Git Repository:**\n```bash\ngit init\ngit config user.email \"test@example.com\"\ngit config user.name \"Test User\"\necho \"test\" > test.txt\ngit add test.txt\ngit commit -m \"initial commit\"\n```\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations git,environment,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/git/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"560afaaca07a66b182e1629b1db048e44ee4eed2af42bbe11b9322b0bb124c5d\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"560afaaca07a66b182e1629b1db048e44ee4eed2af42bbe11b9322b0bb124c5d\": {\n      \"keyid\": \"560afaaca07a66b182e1629b1db048e44ee4eed2af42bbe11b9322b0bb124c5d\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXFsK0I5clRtVkxlWWx2aktqcXk1bDZVYXJIdCs5ZXphalMrK0tCVkFBNkk9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, material, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,material,product \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"53ea7d968904be0078ae625d169d88e4b7a4b38db07fe9ecf7f5c1b1e9f0f52e\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"53ea7d968904be0078ae625d169d88e4b7a4b38db07fe9ecf7f5c1b1e9f0f52e\": {\n      \"keyid\": \"53ea7d968904be0078ae625d169d88e4b7a4b38db07fe9ecf7f5c1b1e9f0f52e\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQTR2RGZDZGNpMHdwZnBiRERHSHR4TERtOFlSNVVLQzBydzA1RjI5dk1kc2c9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with material attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Create Material File:**\n```bash\necho \"source data\" > input.txt\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations material \\\n  -- bash -c \"cat input.txt > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/material/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"400f9ed189a02479e03bba0269f79f7bf954f3031db2107d9fea5804e311667d\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"400f9ed189a02479e03bba0269f79f7bf954f3031db2107d9fea5804e311667d\": {\n      \"keyid\": \"400f9ed189a02479e03bba0269f79f7bf954f3031db2107d9fea5804e311667d\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQXQyT3ljQyticnJiWlBRc2M3dHkrOFNIWE5qazVXcVVWNCtZK21VSE9IdVk9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
{"messages": [{"role": "system", "content": "You are an expert in the Witness supply chain attestation framework. You help users instrument CI/CD pipelines with witness, create policy documents, and write Rego policies to validate attestations. You understand all attestors in go-witness and how to use them effectively."}, {"role": "user", "content": "How do I create a complete witness configuration for a build step with environment, product attestors that passes verification?"}, {"role": "assistant", "content": "Here's a complete, verified witness configuration:\n\n**1. Generate Ed25519 Keys:**\n```bash\nopenssl genpkey -algorithm ed25519 -out key.pem\nopenssl pkey -in key.pem -pubout -out pub.pem\n```\n\n**Set Environment Variables:**\n```bash\nexport CI=true\nexport BUILD_ID=12345\n```\n**2. Run Witness Attestation:**\n```bash\nwitness run --step build \\\n  --signer-file-key-path key.pem \\\n  --outfile build.att \\\n  --attestations environment,product \\\n  -- bash -c \"echo 'Building...' > output.txt\"\n```\n\n**3. Extract Key ID and Create Policy:**\n```bash\nKEYID=$(jq -r '.signatures[0].keyid' build.att)\nPUBKEY_B64=$(base64 < pub.pem | tr -d '\\n')\n```\n\n**Policy Document:**\n```json\n{\n  \"expires\": \"2026-12-31T23:59:59Z\",\n  \"steps\": {\n    \"build\": {\n      \"name\": \"build\",\n      \"attestations\": [\n        {\n          \"type\": \"https://witness.dev/attestations/environment/v0.1\"\n        },\n        {\n          \"type\": \"https://witness.dev/attestations/product/v0.1\"\n        }\n      ],\n      \"functionaries\": [\n        {\n          \"type\": \"publickey\",\n          \"publickeyid\": \"6a9d036889a1ec395a08fb79176ac20ee53ff513e7d89e0e80ea86ddc72f4505\"\n        }\n      ]\n    }\n  },\n  \"publickeys\": {\n    \"6a9d036889a1ec395a08fb79176ac20ee53ff513e7d89e0e80ea86ddc72f4505\": {\n      \"keyid\": \"6a9d036889a1ec395a08fb79176ac20ee53ff513e7d89e0e80ea86ddc72f4505\",\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUNvd0JRWURLMlZ3QXlFQWpVRWlINVVFUmdTK1cxTWg3azhsRTlkVEdKNWxEdFJBRHArRkpEdGpYMFU9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=\"\n    }\n  }\n}\n```\n\n**4. Sign Policy:**\n```bash\nwitness sign --signer-file-key-path key.pem \\\n  --infile policy.json \\\n  --outfile policy-signed.json\n```\n\n**5. Verify:**\n```bash\nwitness verify \\\n  --policy policy-signed.json \\\n  --publickey pub.pem \\\n  --attestations build.att \\\n  -f output.txt\n```\n\nThis configuration has been formally verified to pass witness verify."}]}
